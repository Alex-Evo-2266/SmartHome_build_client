{"version":3,"sources":["components/alert/alertContext.js","components/alert/alert.js","components/dialogWindow/dialogWindowContext.js","components/dialogWindow/dialogType/textDialog.js","components/dialogWindow/dialogType/confirmationDialog.js","components/dialogWindow/dialogType/alertDialog.js","components/dialogWindow/dialogWindow.js","components/Menu/menuContext.js","context/AuthContext.js","hooks/http.hook.js","context/UserContext.js","components/floatingButton.js","components/Menu/menuComponents/leftMenu.js","components/Menu/contextMenu/contextMenuElement.js","components/Menu/contextMenu/contextMenu.js","components/Menu/dopmenu/menu.js","components/Menu/menuComponents/tabs.js","components/Menu/menuComponents/topMenu.js","components/Menu/menuComponents/bottomMenu.js","components/Menu/data.menu.js","components/Menu/menu.js","components/Form/formContext.js","components/Loader.js","hooks/message.hook.js","components/hidingLi.js","components/iconChoose.js","components/Form/forms/editDevicesPage/DeviceMiio.js","hooks/checked.hook.js","components/Form/forms/editDevicesPage/SistemVariable.js","components/Form/forms/editDevicesPage/DeviceMqtt.js","components/Form/forms/editDevicesForm.js","components/Form/forms/lincDevicesForm.js","components/backForm.js","components/Form/forms/editUserLevel.js","components/pages/optionPages/castomIcon/styleIcon.js","components/Form/forms/CreateStyle.js","components/Form/form.js","components/types.js","components/alert/alertReducer.js","components/alert/alertState.js","components/dialogWindow/dialogWindowReducer.js","components/dialogWindow/dialogWindowState.js","components/Menu/menuReducer.js","components/Menu/menuState.js","components/Form/formReducer.js","components/Form/formState.js","components/terminal/terminalContext.js","components/terminal/terminalReducer.js","components/terminal/terminalState.js","components/addScript/addScriptContext.js","context/SocketContext.js","components/Groups/groupsContext.js","components/addScript/addScriptState.js","components/addScript/addScript/addScriptDevices.js","components/modalWindow/modalWindow.js","components/homeCarts/EditCarts/CartEditContext.js","components/homeCarts/CartElement/BtnElement.js","context/EditMode.js","components/runText.js","components/homeCarts/CartElement/SliderElement.js","components/homeCarts/CartElement/SensorElement.js","components/homeCarts/CartElement/EnumElement.js","components/homeCarts/CartElement/ScriptElement.js","components/homeCarts/CartElement/BaseElement.js","context/ServerConfigContext.js","components/homeCarts/CartElement/WeatherElement.js","components/homeCarts/CartElement/TimeElement.js","components/homeCarts/CartElement/utils.js","components/homeCarts/CartElement/CalendarElement.js","hooks/controlData.hook.js","components/homeCarts/homeBaseCart.js","components/homeCarts/CartLineElement/BaseElement.js","components/homeCarts/CartLineElement/BtnElement.js","components/homeCarts/CartLineElement/SliderElement.js","components/homeCarts/CartLineElement/SensorElement.js","components/homeCarts/CartLineElement/ScriptElement.js","components/homeCarts/CartLineElement/EnumElement.js","components/homeCarts/CartLineElement/TextElement.js","components/homeCarts/homeLineCart.js","components/homeCarts/EditCarts/CartEditReducer.js","components/homeCarts/EditCarts/CartEditState.js","components/homeCarts/AddControl/AddControlContext.js","components/homeCarts/AddControl/AddControlReducer.js","components/homeCarts/AddControl/AddControlState.js","context/ScriptContext.js","components/homeCarts/AddControl/Control/scriptPage.js","components/homeCarts/AddControl/Control/page2.js","components/homeCarts/AddControl/Control/page3device.js","components/homeCarts/AddControl/Control/page4device.js","components/homeCarts/AddControl/Control/page5device.js","components/homeCarts/AddControl/Control/page3group.js","components/homeCarts/AddControl/Control/page4group.js","components/homeCarts/AddControl/Control/page5group.js","components/homeCarts/AddControl/Control/page6.js","components/homeCarts/AddControl/AddControl.js","components/homeCarts/EditCarts/CartEditType/BaseCart.js","components/homeCarts/EditCarts/CartEditType/Element.js","components/homeCarts/EditCarts/CartEdit.js","Page/HomePage.js","Page/AuthPage.js","Page/ditailPages/components/utils.js","Page/ditailPages/components/slider.js","Page/ditailPages/components/text.js","Page/ditailPages/components/enum.js","components/UserStyle/StyleContext.js","Page/ditailPages/components/historyList.js","Page/ditailPages/components/history.js","Page/ditailPages/components/btn.js","Page/ditailPages/lightPage.js","Page/ditailPages/otherdevice.js","Page/DitailDevicePage.js","components/controlComponents/power.js","components/controlComponents/dimmer.js","components/controlComponents/mode.js","components/controlComponents/enum.js","components/controlComponents/text.js","components/newDeviceElement.js","Page/DevicesPage.js","Page/ProfilePage.js","components/pages/optionPages/userOption.js","components/pages/optionPages/serverOption.js","components/pages/optionPages/imgOption.js","components/pages/optionPages/menuOptionComponents/component.js","components/pages/optionPages/menuOption.js","Page/OptionsPage.js","components/scriptCarts/scriptElement.js","Page/ScriptsPage.js","components/programmBlock/valueDeviceBlock.js","components/programmBlock/textBlock.js","components/programmBlock/numberBlock.js","components/programmBlock/enumBlock.js","components/programmBlock/mathBlock.js","components/programmBlock/ifBlock.js","components/programmBlock/groupBlock.js","components/programmBlock/actBlock.js","components/programmBlock/actGroup.js","components/programmBlock/actScript.js","components/programmBlock/triggerBlock.js","components/programmBlock/triggerDateTime.js","components/programmBlock/delayBlock.js","Page/NewScriptsPage.js","components/usersCart/userElement.js","img/userNuN.png","Page/UsersPage.js","components/inputImages.js","components/files/imageDitail.js","Page/GalleryPage.js","components/typeDevices/typeDevicesContext.js","img/socket.png","img/sensor.png","img/lamp.png","Page/AddDeviceComponents/page1.js","img/switch.png","img/relay.jpg","Page/AddDeviceComponents/page2Mqtt.js","Page/AddDeviceComponents/page2Yeelight.js","Page/AddDeviceComponents/page2Zigbee.js","Page/AddDeviceComponents/page2Variable.js","Page/AddDeviceComponents/page3.js","Page/AddDevicePage.js","Page/addFilesPages/NewMovie.js","hooks/storage.hook.js","Page/addFilesPages/NewActors.js","Page/addFilesPages/NewGanre.js","components/header.js","components/history/utils.js","components/history/scrins/noContent.js","components/history/scrins/HistoryList.js","components/history/DeviceHistory.js","Page/ChartPage.js","Page/filespage/movieDitail.js","components/mqttCards/mqttCard.js","Page/MqttTopics.js","components/zigbeeCard/Card.js","Page/ZigbeePage.js","Page/modulsPageComponents/pathDecodhook.js","Page/modulsPageComponents/menuModuls.js","Page/modulsPageComponents/Card.js","Page/modulsPageComponents/table.js","Page/modulsPageComponents/page.js","Page/ModulsPage.js","components/groupForm/groupFormContext.js","components/groupCard.js","components/groupForm/groupFormReducer.js","components/switch.js","components/groupForm/addDeviceInGroup/deviceEl.js","components/groupForm/addDeviceInGroup/addDeviceinGroup.js","components/groupForm/editfield/editField.js","components/groupForm/groupForm.js","components/groupForm/groupFormState.js","Page/GroupsPage.js","Page/addGroupPage.js","img/fon-base.jpg","hooks/style.hook.js","Page/EditStylePage.js","Page/AddUser.js","routes.js","hooks/auth.hook.js","components/UserStyle/StyleState.js","components/Groups/groupsState.js","components/terminal/terminal.js","components/terminal/terminalCart.js","hooks/socket.hook.js","components/typeDevices/typeDevicesState.js","components/Menu/pageContext.js","components/Menu/pageState.js","App.js","reportWebVitals.js","index.js"],"names":["AlertContext","createContext","Alert","useContext","alert","hide","className","visible","type","text","Ok","onClick","No","style","marginLeft","DialogWindowContext","TextDialog","title","active","placeholder","useState","data","setData","required","name","value","onChange","e","target","ConfirmationDialog","items","buttons","activeText","map","item","index","checked","action","disabled","AlertDialog","DialogWindow","dialog","MenuContext","noop","AuthContext","token","userId","userLavel","login","logout","isAuthenticated","useHttp","auth","loading","setLoading","error","setError","refresh","useCallback","a","fetch","method","body","headers","response","json","ok","Error","message","request","url","file","JSON","stringify","status","clearError","UserContext","FloatingButton","big","LeftMenu","show","insluedField","otherField","user","zIndex","closest","to","t","indexOf","href","iconClass","ContextMenuElement","setVisible","sub","item2","ContextMenu","length","Menu","Tabs","container","useRef","contextMenu","preventDefault","ref","onContextMenu","TopMenu","togle","controlButtons","search","dopmenu","BottomMenu","bottomMenuRef","current","scrollTop","height","weight","menuField","menu","config","UserName","UserSurname","Mobile","Email","ImageId","setuser","setSearch","searchtVisible","setSearchtVisible","setField","setotherField","window","innerWidth","sizeWidth","setSizeWidth","useEffect","resizeThrottler","event","addEventListener","removeEventListener","giveField","arr1","arr2","slice","filter","item3","push","include","other","MenuElements","updataUser","Authorization","specialAction","onKeyDown","keyCode","func","d","FormContext","Loader","useMessage","Message","setMessage","no","clearMessage","HidingLi","children","split","parentNode","iconList","IconChoose","dataId","changeHandler","dataset","val","DeviceMiioEdit","deviceData","USText","str","simbol","i","p","j","information","systemName","newSystemName","address","typeConnect","RoomId","device","setDevice","fields","field","changeIcon","id","arr","newcom","icon","outHandler","dataout","deleteHandler","DeviceVariableEdit","valueType","count","setCount","console","log","changeHandlerField","valid","validFields","arrType","conf","low","high","values","unit","it","index2","prev","delcom","control","DeviceMqttEdit","changeHandlerFieldChek","justifyContent","Boolean","EditDevicesForm","props","usedevice","LincDevicesForm","BackForm","EditUserLevel","Level","level","setLevel","UserId","StyleIcon","colors","background","c1","c2","CreateStyle","c3","setStyle","colorHandler","createStyle","Form","form","hideAndApdata","OK","ret","SHOW_ALERT","HIDE_ALERT","SHOW_MENU","HIDE_MENU","EDIT_MENU","SHOW_FORM","HIDE_FORM","SHOW_TERMINAL","HIDE_TERMINAL","SHOW_EDITCART","HIDE_EDITCART","SHOW_ADDCONTROL","HIDE_ADDCONTROL","SHOW_DIALOG","HIDE_DIALOG","SHOW_GROUP","HIDE_GROUP","handlers","state","payload","alertReducer","DEFAULT","AlertState","useReducer","dispatch","Provider","dialogWindowReducer","DialogWindowState","options","menuReducer","MenuState","formReducer","FormState","TerminalContext","terminalReducer","TerminalState","terminal","AddScriptContext","SocketContext","GroupsContext","AddScriptState","devices","groups","filteredDevice","typeDev","flag","filteredGroup","deviceBlock","result","groupBlock","useScriptDevices","addScriptBlock","typeValue","addTarget","targets","unshift","typeAct","typeIf","ModalWindow","position","zindex","top","left","userBtn","width","moving","heightToolbar","styleContent","point","setPoint","onMouseDown","parent","getBoundingClientRect","coords","elem","box","pageYOffset","pageXOffset","getCoords","shiftX","pageX","x","shiftY","pageY","y","moveAt","document","onmousemove","onkeydown","key","onmouseup","clientWidth","clientHeight","onDragStart","CartEditContext","BtnElement","deleteBtn","editBtn","setValue","switchMode","setSwitchMode","outValue","v","typeItem","typeAction","entity","fieldvalue","test","poz","Number","min","max","oldvel","setTimeout","editmode","EditModeContext","RunText","anim","el","getElementById","el2","innerHTML","SliderElement","delay","deviceName","clearTimeout","onInput","SensorElement","getTypeField","deletebtn","editbtn","EnumElement","join","valuesDecod","ScriptElement","clickHandler","BaseElement","ServerConfigContext","WeatherElement","serverConfig","weather","convertTemp","k","String","Math","floor","city","now","temp","forecastDate","day","date","night","fontSize","flexDirection","display","alignItems","TimeElement","time","Date","getHours","getMinutes","getMonthStr","month","krat","months","shortMonths","CalendarElement","days","setDays","convertDateFormat","reverse","naw","year","getMonth","setDate","getDate","getDayMount","getFullYear","getUTCDay","useControlData","getDevice","getGroup","itemField","getGroupValue","group","dev","convert","res","fieldsEntity","HomebaseCart","updata","edit","add","mode","column","row","mapCart","isPosition","pos","inBoundaries","deleteElement","index1","mas","newBtns","editElement","data1","order","z","array","sort","indexbtn","start","end","ystart","yend","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","TextElement","outvalue","setOutValue","focus","setFocus","onFocus","onBlur","HomeLineCart","cartEditReducer","CartEditState","cart","cartEdit","AddControlContext","addControlReducer","AddControlState","addControl","ScriptContext","ScriptPage","next","back","scripts","types","Page2","sensor","button","slider","enum","Page3Device","typeField","condidats","filtredData","filtred","allDevices","Page4Device","filtredField","allField","Page5Device","number","setNumber","setText","trim","marginTop","marginBottom","Page3Group","allGroups","Page4Group","Page5Group","Page6","cardBaseElement","cardLineElement","AddControl","typeChild","setTypeChild","setAction","setItem","page","setPage","close","addElement","addDevField","addScript","addDevFieldAction","BaseCartEdit","mainId","setCart","btn","ElementEdit","butonConf","setButonConf","CartEdit","cardsList","HomePage","editMode","setEditMode","carts","setCarts","sortedCarts","setSortedCarts","getData","conteiner","setScripts","pages","setPages","addCart","newCart","removeCart","updataCart","saveCarts","cards","getAllPages","data2","importCarts","data3","addPage","changePage","deletePage","getPages","b","getdopMenu","sortCard","sortdata","resizeTimeout","setMode","AuthPage","password","setForm","loginHandler","getValue","getConfig","typeFieldToTypeChart","binary","textColor","fon","color","num","parseInt","getOption","baseConf","theme","animationEnabled","axisY","utils","axisX","valueFormatString","margin","xValueFormatString","markerSize","dataPoints","interval","minimum","maximum","backgroundColor","labelFontColor","fontColor","Slider","Text","newvalue","Enum","StyleContext","HistoryList","records","getSeconds","History","nawstyle","history","setHistory","range","setrange","fieldname","setFieldname","getHistory","filterTime","newdata","newData","datatime","converHistorys","Btn","togleField","LightPage","blub","getBlub","toLowerCase","otherBinary","textcontrol","enumcontrol","sensors","generalBlub","blubs","blubs2","dopBlub","ranges","setProperty","OtherDevicePage","binaryControl","DitailDevicePage","useParams","newdev","foo","Power","Dimmer","Mode","NewDeviceElement","useHistory","updateDevice","setStatus","userLevel","DevicesPage","setDevices","read","searchout","ProfilePage","location","useLocation","setUser","newuser","setNewuser","Old","New","setPassword","changePassHandler","outForm","outPassForm","pathname","UserOption","styles","updateConfig","auteStyle","staticBackground","Style","userconf","setUserconf","updataConf","userConfigHandler","deleteStyle","styleHandler","checkedHandler","ServerOption","serverconf","setServerconf","serverConfigHandler","moduleConfig","module","ImgOption","base","sunrise","twilight","images","image","src","alt","MenuComponent","use","def","MenuOption","useBlock","setUseBlock","noUseBlock","setNoUseBlock","configHandler","newarr","newarr2","addParagraph","usearr","nousearr","deleteParagraph","OptionsPage","script","deleteScript","runScript","trigger","ScriptsPage","allScripts","setAllScripts","updataScripts","screen","ValueDeviceBlock","deleteEl","block","lookForDeviceById","lookForField","Object","keys","TextBlock","setDelay","NumberBlock","EnumBlock","MathBlock","setType","addvalue","element","value1","value2","updataValue","deleteValue","IfBlock","idDevice","oper","changeSelector","GroupBlock","blockData","devEl","indexel","elements","_","reqUpdata","elementData","typeblock","dataDev","act","ActBlock","ActGroup","ActScript","TriggerBlock","deviceId","allTypes","setAllTypes","condidat","TriggerDateTime","frequency","setFrequency","setTime","change","DelayBlock","NewScriptsPage","cost","setCost","condition","then","otherwise","setScript","deleteTrigger","addActBlock","datascr","deleteActBlock","updatascript","components","component","giveScript","idscript","s","UserElement","UsersPage","users","setUsers","allUsers","setAllUsers","updataUsers","ImagesInput","update","inputRef","imgConteiner","filesArr","setFiles","byteToSize","bytes","round","pow","files","Array","from","forEach","match","reader","FileReader","onload","ev","insertAdjacentHTML","size","readAsDataURL","sendFile","FormData","append","querySelector","classList","remove","multiple","accept","click","ImageDitail","setFon","out","GalleryPage","setEnd","urls","setUrls","newUrl","setnewUrl","ditailElement","setDitailElement","getTenUrl","oldUrl","ditail","TypeDeviceContext","lamp","lampImg","light","switch","relay","socket","socketImg","sensorImg","getImage","AddDevicesPage1","typs","typedev","typeconnect","img","AddDevicesPage2MQTT","backPage","begining","setFields","removeField","AddDevicesPage2Yeelight","defVal","voltage","battery","linkquality","AddDevicesPage2Zigbee","convertForm","exposes","newArr","features","endpoint","dupCorrekt","linc","confel","property","value_min","value_off","value_max","value_on","root_address","topic","friendly_name","model","description","AddDevicesPage2Variable","AddDevicesPage3","AddDevicesPage","AddMoviePage","storegeName","tagline","discription","country","regisers","actors","ganres","budget","fees_in_usa","fees_in_world","category","urlLocal","loaded","quality","count_seasons","closed","save_seasons","localStorage","parse","getItem","removeData","removeItem","imgPoster","divPoster","poster","setActors","setGanres","categorys","setCategorys","giveData","allactors","allganres","allcategorys","changeSelect","select","opt","iLen","selected","getSelectValues","changeHeandler","checkedHeandler","getMovieData","directors","genres","world_premiere","localUrl","grade","cols","rows","URL","webkitURL","fileList","createObjectURL","revokeObjectURL","this","AddActorPage","goBack","date_of_birth","AddGanrePage","Header","searcht","setSearchVisible","toDate","timestamp","valueName","NoContent","DeviceHistory","chartData","setChartData","stringArreyToNumberArrey","stringArrey","clickField","DeviceSystemName","lookforField","DeviceConfig","DeviceName","ChartsPage","charts","setCharts","importCharts","MovieDitail","movie","setMovie","baseAddressList","power","dimmer","brightness","color_temp","baseMinMax","MQTTElement","onClickMessage","typeList","typeMessage","mes","dict","dictToList","pop","Decice","lincs","topicComponents","typeControl","ctype","cMinMax","MqttPage","deviceMqtt","setDeviceMqtt","allDeviceMqtt","setAllDeviceMqtt","searchTopik","setSearchTopik","searchDevice","setSearchDevice","setDitail","getDev","clearMqtt","undefined","ZigbeeElement","rename","newName","deleteDevice","valmaxmin","allAddress","addDev","ZigbeePage","allDevice","setAllDevice","searchtest","setSearchtest","permitJoin","setPermitJoin","rebootStik","pairing","zigbeeDevice","useDecodePath","gettext","root","path","content","getfields","useMenuModuls","clickmenu","getmenu","Card","Table","Page","updateMenu","dataPage","setDataPage","ws_src","typeContent","rootField","ModulsPage","dataActivePage","setDataActivePage","GroupFormContext","GroupCard","getdevice","names","includes","deleteGroup","getFields","Switch","Device","setGroupDevice","groupDevice","added","namef","AddDevice","fieldsList","updataField","groupdevices","groupdev","getGroupDevice","del","otherdev","EditField","gettypes","getcontrols","GroupForm","GroupFormState","GroupsPage","setAllGroups","groupsc","setGroups","GroupsAddPage","setGroup","getGroups","create","LightenDarkenColor","col","amt","usePound","r","g","toString","defbacground","defFon","defstyle","setColors","opasiryc1","opasiryc2","backgroundType","nightTime","twilightTime","sunriseTime","dayTime","useCastomStyle","setBackground","adaptiveBackground","getimage","avtoNightStyle","nightStyle","getColors","EditStylePage","setStyle1","opasityHandler","opasiryActive","AddUser","email","mobile","registerHandler","maxleght","CastomizeStyle","ready","setConfig","setServerConfig","setStyles","nawstyles","setNawStyles","setFlag","dataStyles","dataUserConf","applicationStyle","updataStyle","GroupsState","Terminal","inputmes","setInputmes","readOnly","area","TerminalCart","SocketState","timerId","connect","host","WebSocket","listenChanges","onopen","clearInterval","onmessage","onerror","onclose","setInterval","TypesDeviceState","setTypes","PageContext","PageState","allpages","App","setToken","setUserId","setUserLevel","setReady","jwtToken","useAuth","routes","exact","useRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.6862ed3c.chunk.js","sourcesContent":["import {createContext} from 'react'\n\nexport const AlertContext = createContext()\n","import React, {useContext} from 'react'\nimport {AlertContext} from './alertContext'\n\nexport const Alert = ()=>{\n  const {alert, hide} = useContext(AlertContext)\n\n    return(\n      <div className={`alert ${(alert.visible)?\"show\":\"hide\"} alert-${alert.type}`}>\n        <div className=\"div-alert-container\">\n          <p>{alert.text}</p>\n          <div className=\"div-alert-btnConteiner\">\n          {\n            (typeof(alert.Ok)===\"function\")?\n            <button className=\"normalSelection button\" onClick={()=>{\n              alert.Ok()\n              hide()\n            }}>Yes</button>:null\n          }\n          {\n            (typeof(alert.Ok)===\"function\"&&alert.No)?\n            <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={()=>{\n              if(typeof(alert.No)===\"function\")\n                alert.No()\n              hide()\n            }}>No</button>:\n            <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={hide}>Cancel</button>\n          }\n          </div>\n        </div>\n      </div>\n    )\n}\n","import {createContext} from 'react'\n\nexport const DialogWindowContext = createContext()\n","import React, {useState} from 'react'\n\nexport const TextDialog = ({hide, title, text, active, placeholder})=>{\n  const [data, setData] = useState(\"\")\n\n  const ok = ()=>{\n    if(typeof(active)===\"function\")\n      active(data)\n    hide()\n  }\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">{title}</div>\n      <div className=\"dialogBody\">\n        <p>{text}</p>\n        <div className=\"input-data\">\n          <input required type = \"text\" name = \"input\" value={data} onChange={(e)=>{setData(e.target.value)}}/>\n          <label>{placeholder}</label>\n        </div>\n      </div>\n      <div className=\"dialogFooter\">\n      <button className=\"dialogButton button normalSelection\" onClick={ok}>ok</button>\n      <button className=\"dialogButton button normalSelection\" onClick={hide}>cancel</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const ConfirmationDialog = ({title, hide, active, items, buttons, activeText})=>{\n  const [data, setData] = useState(\"\")\n\n  const out = ()=>{\n    if(typeof(active)===\"function\")\n      active(data)\n  }\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">{title}</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody scroll\">\n        {items?.map((item, index)=>{\n          return(\n            <label key={index} className=\"dialogItem\">\n              <input type=\"radio\" name=\"data\" value={item.data} checked={data===item.data} onChange={()=>setData(item.data)}/>\n              <p>{item.title}</p>\n            </label>\n          )\n        })}\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n      {\n        buttons?.map((item, index)=>{\n          return(\n            <button key={index} className=\"dialogButton button normalSelection\" onClick={item.action}>{item.title}</button>\n          )\n        })\n      }\n      {\n        (!buttons)?\n        <button className=\"dialogButton button normalSelection\" onClick={hide}>CANCEL</button>\n        :null\n      }\n        <button className=\"dialogButton button normalSelection\" onClick={out} disabled={data===\"\"}>{activeText||\"OK\"}</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React from 'react'\n\nexport const AlertDialog = ({hide, text, title, buttons})=>{\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">{title}</div>\n      <div className=\"dialogBody\">\n        <p>{text}</p>\n      </div>\n      <div className=\"dialogFooter\" onClick={hide}>\n      {\n        buttons?.map((item, index)=>{\n          return(\n            <button key={index} className=\"dialogButton button normalSelection\" onClick={item.action}>{item.title}</button>\n          )\n        })\n      }\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useContext} from 'react'\nimport {DialogWindowContext} from './dialogWindowContext'\nimport {TextDialog} from './dialogType/textDialog'\nimport {ConfirmationDialog} from './dialogType/confirmationDialog'\nimport {AlertDialog} from './dialogType/alertDialog'\n\nexport const DialogWindow = ()=>{\n  const {dialog, hide} = useContext(DialogWindowContext)\n\n  if(!dialog.visible){\n    return null;\n  }\n\n  if(dialog.type === \"alert\")\n    return(<AlertDialog hide={hide} text={dialog.text} title={dialog.title} buttons={dialog.buttons}/>)\n\n  if(dialog.type === \"text\")\n    return(<TextDialog hide={hide} text={dialog.text} title={dialog.title} active={dialog.active} placeholder={dialog.placeholder}/>)\n\n  if(dialog.type === \"confirmation\")\n    return(<ConfirmationDialog hide={hide} text={dialog.text} title={dialog.title} active={dialog.active} items={dialog.items}/>)\n\n  return null\n\n}\n","import {createContext} from 'react'\n\nexport const MenuContext = createContext()\n","import {createContext} from 'react'\n\nfunction noop() {}\n\nexport const AuthContext = createContext({\n  token: null,\n  userId: null,\n  userLavel: null,\n  login: noop,\n  logout: noop,\n  isAuthenticated: false\n})\n","import {useState, useCallback, useContext} from 'react'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const useHttp = () => {\n  const auth = useContext(AuthContext)\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const refresh = useCallback(async ()=>{\n    const response = await fetch(\"/api/auth/refresh\", {method:\"GET\", body:null, headers:{}});\n    const data = await response.json()\n    if (!response.ok) {\n      auth.logout()\n      throw new Error(data.message||'что-то пошло не так')\n    }\n    await auth.login(data.token, data.userId, data.userLavel)\n    return data.token\n  },[auth])\n\n  const request = useCallback(async (url, method=\"GET\", body = null, headers = {},file=false) => {\n    setLoading(true);\n    try {\n      if(headers['Authorization'])\n      {\n        headers['Authorization-Token'] = headers['Authorization']\n        // headers['Authorization'] = undefined\n      }\n      if(body&&!file){\n        headers['Content-Type'] = 'application/json'\n        body = JSON.stringify(body);\n      }\n      let response = await fetch(url, {method, body, headers});\n      if (response.status === 401){\n        const token = await refresh()\n        headers[\"Authorization-Token\"] = `Bearer ${token}`\n        response = await fetch(url, {method, body, headers});\n      }\n      const data = await response.json()\n      if (!response.ok) {\n        throw new Error(data.message||'что-то пошло не так')\n      }\n      setLoading(false);\n      return data;\n    } catch (e) {\n      setLoading(false);\n      setError(e.message)\n    }\n  },[refresh]);\n\n  const clearError = useCallback(() => {setError(null)},[]);\n\n  return {loading, request, error, clearError}\n}\n","import {createContext} from 'react'\n\nexport const UserContext = createContext()\n","import React from 'react'\n\nexport const FloatingButton = ({type, action, big, title}) =>{\n  return(\n    <div className={`specialActionButton ${(big)?\"big\":\"\"}`} onClick={action}>\n    {\n      (type===\"config\")?\n      <i className=\"fas fa-cog\"></i>:\n      (type===\"ok\")?\n      <i className=\"fas fa-check\"></i>:\n      (type===\"close\")?\n      <i className=\"fas fa-times\"></i>:\n      <i className=\"fas fa-plus\"></i>\n    }\n    </div>\n)\n}\n","import React, {useContext} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {NavLink} from 'react-router-dom'\n\nexport const LeftMenu = ({hide,show, visible, insluedField, otherField, user})=>{\n  const auth = useContext(AuthContext)\n\n  const closeMenu=(e)=>{\n    let el = e.target.closest(\"li[data-el=sub]\")\n    if(!el)\n      hide()\n  }\n\n  const allclosev = ()=>{\n    hide()\n  }\n\n  return(\n    <>\n    {\n      (visible)?\n      <div className=\"backGlass\" onClick={allclosev} style={{zIndex:96}}></div>\n      :null\n    }\n    <div onClick={closeMenu} className={`navigationRail ${(visible)?\"active\":\"\"}`}>\n    <ul className=\"baseMenu\">\n      <li>\n        <NavLink to = \"/home\">\n          <i className=\"fas fa-home\"></i>\n          <span>Home</span>\n        </NavLink>\n      </li>\n      <li>\n        <NavLink to = \"/devices\">\n          <i className=\"fas fa-plug\"></i>\n          <span>Devices</span>\n        </NavLink>\n      </li>\n      <li>\n        <NavLink to = \"/config\">\n          <i className=\"fas fa-cogs\"></i>\n          <span>Options</span>\n        </NavLink>\n      </li>\n      {\n        (insluedField)?\n        insluedField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n    </ul>\n    {\n      (visible)?\n      <>\n      <div className=\"dividers\"></div>\n      <ul className=\"otherMenu\">\n      {\n        (otherField)?\n        otherField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n      </ul>\n      <div className=\"dividers\"></div>\n      <ul className=\"otherMenu\">\n        <li>\n          <button className=\"menu-btn\" onClick={auth.logout}>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>logout</span>\n          </button>\n        </li>\n      </ul>\n      </>\n      :null\n    }\n    </div>\n    </>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const ContextMenuElement = ({item, hide}) =>{\n  const [visible, setVisible] = useState(false)\n\n  const buttonClick = (e)=>{\n    if(item.sub)\n      setVisible(!visible)\n    else\n      hide()\n    if(typeof(item.onClick) === \"function\")\n      item.onClick(e)\n  }\n\n  return(\n    <>\n    <div className=\"contextmenuElement\" onClick={buttonClick}>\n      <span className=\"state\">\n      {\n        (item.active)?\n        <i className=\"fas fa-check\"></i>:\n        (item.sub)?\n        <i className=\"fas fa-chevron-left\"></i>\n        :null\n      }\n      </span>\n      <span className=\"content\">{item.title}</span>\n    </div>\n    {\n      (visible && item.sub)?\n      <div className=\"contextSubMenu\">\n      {\n        item.sub?.map((item2,index)=>{\n          return (\n            <div key={index} className=\"contextmenuElement\" onClick={item2.onClick}>\n              <span className=\"state\">{(item2.active)?<i className=\"fas fa-check\"></i>:null}</span>\n              <span className=\"content\">{item2.title}</span>\n            </div>\n          )\n        })\n      }\n      </div>\n      :null\n    }\n    </>\n  )\n}\n","import React from 'react'\nimport {ContextMenuElement} from './contextMenuElement'\n\nexport const ContextMenu = ({buttons=[], className, style, hide}) =>{\n\n  if(buttons?.length === 0){\n    return null\n  }\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div style={style} className={`contextmenu show ${className}`}>\n      {\n        buttons.map((item, index)=>{\n          if (item.type === \"dividers\")\n            return(\n              <div key={index} className=\"dividers\"></div>\n            )\n          return(\n            <ContextMenuElement key={index} item={item} hide={hide}/>\n          )\n        })\n      }\n    </div>\n    </>\n  )\n}\n","import React,{useState} from 'react'\nimport {ContextMenu} from '../contextMenu/contextMenu'\n\nexport const Menu = ({buttons=[], className}) =>{\n  const [visible, setVisible] = useState(false)\n\n  if(buttons?.length === 0){\n    return null\n  }\n\n  return(\n    <>\n    <div className=\"menuTogleBtn\" onClick={()=>setVisible(!visible)}>\n      <i className=\"fas fa-ellipsis-v\"></i>\n    </div>\n    {\n      (visible)?\n      <ContextMenu hide={()=>setVisible(false)} buttons={buttons} className={className}/>\n      :null\n    }\n    </>\n  )\n}\n","import React, {useRef} from 'react'\n\nexport const Tabs = ({buttons})=>{\n  const container = useRef(null)\n\n  const contextMenu = (e) =>{\n    e.preventDefault()\n  }\n\n  return(\n      <div ref={container} className=\"tabsConteiner\">\n        <div className={`tabs`}>\n          {\n            buttons?.map((item, index)=>{\n              return(\n                <div onContextMenu={contextMenu} key={index} className={`tabButton ${(item.active)?\"active\":\"\"}`} onClick={item.action}>{item.title}</div>\n              )\n            })\n          }\n        </div>\n      </div>\n  )\n}\n","import React from 'react'\nimport {Menu as DopMenu} from '../dopmenu/menu'\nimport {Tabs} from './tabs'\n\nexport const TopMenu = ({title, togle, buttons, controlButtons})=>{\n\n  return(\n    <div className=\"topMenu\">\n    {\n      (togle)?\n      <div className=\"burger\" onClick={togle}>\n        <i className=\"fas fa-bars\"></i>\n      </div>\n      :null\n    }\n      <h2>{title}</h2>\n      <Tabs buttons={buttons}/>\n      <div className=\"controlConteiner\">\n      {\n        (controlButtons?.search)?\n        <div className=\"search\" onClick={controlButtons.search.togle}>\n          <i className=\"fas fa-search\"></i>\n        </div>:\n        null\n      }\n      {\n        (controlButtons?.dopmenu)?\n          <DopMenu buttons={controlButtons.dopmenu}/>\n        :null\n      }\n      </div>\n    </div>\n  )\n}\n","import React, {useRef, useContext} from 'react'\nimport {NavLink} from 'react-router-dom'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {Menu as DopMenu} from '../dopmenu/menu'\n\nexport const BottomMenu = ({hide, togle, visible, insluedField, controlButtons, otherField})=>{\n  const bottomMenuRef = useRef(null)\n  const auth = useContext(AuthContext)\n\n  const closeMenu = ()=>{\n    if(bottomMenuRef.current){\n      bottomMenuRef.current.scrollTop = 0\n    }\n    hide()\n  }\n\n  return(\n    <>\n    <div onClick={closeMenu} ref={bottomMenuRef} className={`bottomMenuAll ${(visible)?\"show\":\"\"}`}>\n      <div style={{height:\"50vh\", weight:\"100%\"}}></div>\n      <ul className=\"baseMenu\">\n        <li>\n          <NavLink to = \"/devices\">\n            <i className=\"fas fa-plug\"></i>\n            <span>Devices</span>\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to = \"/config\">\n            <i className=\"fas fa-cogs\"></i>\n            <span>Options</span>\n          </NavLink>\n        </li>\n      {\n        (insluedField)?\n        insluedField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n      {\n        (otherField)?\n        otherField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n      <li>\n        <button className=\"menu-btn\" onClick={auth.logout}>\n          <i className=\"fas fa-sign-out-alt\"></i>\n          <span>logout</span>\n        </button>\n      </li>\n    </ul>\n    </div>\n    <div className=\"bottomMenu\">\n      <div className=\"burger\" onClick={togle}>\n        <i className=\"fas fa-bars\"></i>\n      </div>\n      <div className=\"item\">\n        <NavLink to = \"/home\">\n          <i className=\"fas fa-home\"></i>\n        </NavLink>\n      </div>\n      <div className=\"controlConteiner\">\n      {\n        (controlButtons?.search)?\n        <div className=\"search\" onClick={controlButtons.search.togle}>\n          <i className=\"fas fa-search\"></i>\n        </div>:\n        null\n      }\n      {\n        (controlButtons?.dopmenu)?\n          <DopMenu className=\"bottom\" buttons={controlButtons.dopmenu}/>\n        :null\n      }\n      </div>\n    </div>\n    </>\n  )\n}\n","\nexport const menuField = [\n  {title:\"Scripts\",iconClass:\"fas fa-code-branch\",url:\"/scripts\"},\n  {title:\"Nas\",iconClass:\"fas fa-hdd\",url:\"/nas\"},\n  {title:\"MQTT\",iconClass:\"fas fa-network-wired\",url:\"/mqtt\"},\n  {title:\"zigbee2mqtt\",iconClass:\"fas fa-network-wired\",url:\"/zigbee2mqtt\"},\n  {title:\"profile\",iconClass:\"fas fa-user\",url:\"/profile\"},\n  // {title:\"Files\",iconClass:\"fas fa-file\",url:\"/files/gallery\"},\n  {title:\"Gallery\",iconClass:\"fas fa-images\",url:\"/gallery\"},\n  {title:\"Terminal\",iconClass:\"fas fa-terminal\",url:\"/terminal\"},\n  {title:\"Groups\",iconClass:\"fas fa-object-group\",url:\"/groups\"},\n  {title:\"Rooms\",iconClass:\"fab fa-buromobelexperte\",url:\"/rooms\"},\n  {title:\"Users\",iconClass:\"fas fa-users\",url:\"/users\"}\n]\n","import React, {useContext,useState,useEffect,useCallback} from 'react'\nimport {MenuContext} from './menuContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {UserContext} from '../../context/UserContext'\nimport {FloatingButton} from '../floatingButton'\nimport {LeftMenu} from './menuComponents/leftMenu'\nimport {TopMenu} from './menuComponents/topMenu'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {BottomMenu} from './menuComponents/bottomMenu'\n// import {TerminalContext} from '../terminal/terminalContext.js'\nimport {menuField} from './data.menu.js'\n\n\nexport const Menu = ()=>{\n  const menu = useContext(MenuContext)\n  const {request} = useHttp();\n  const config = useContext(UserContext)\n  const auth = useContext(AuthContext)\n  const dialog = useContext(DialogWindowContext)\n  // const terminal = useContext(TerminalContext)\n  const [user, setuser] = useState({\n    UserName:\"\",\n    UserSurname:\"\",\n    Mobile:\"\",\n    Email:\"\",\n    ImageId:\"\"\n  });\n  const [search, setSearch] = useState(\"\")\n  const [searchtVisible, setSearchtVisible] = useState(false)\n  const [insluedField, setField] = useState([])\n  const [otherField, setotherField] = useState([])\n  const [sizeWidth, setSizeWidth] = useState(window.innerWidth)\n\n  useEffect(()=>{\n    window.addEventListener(\"resize\",resizeThrottler)\n    function resizeThrottler(event) {\n      setSizeWidth(event.target.innerWidth)\n    }\n    return ()=>{\n      window.removeEventListener(\"resize\", resizeThrottler);\n    }\n  },[])\n\n  const giveField=useCallback((data)=>{\n    let arr1 = []\n    let arr2 = menuField.slice()\n    for (let item of data) {\n      arr2 = arr2.filter((item3)=>item3.title!==item.title)\n      arr1.push(item)\n    }\n    return {include:arr1, other:arr2}\n  },[])\n\n  useEffect(()=>{\n    if(config.MenuElements){\n      let data = giveField(config.MenuElements)\n      setField(data.include)\n      setotherField(data.other)\n    }\n  },[config.MenuElements,giveField])\n\n  const updataUser = useCallback(async()=>{\n    const data = await request(`/api/user/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(!data) return;\n    setuser({\n      UserName:data.UserName,\n      UserSurname:data.UserSurname,\n      Mobile:data.Mobile,\n      Email:data.Email,\n      ImageId:data.ImageId\n    });\n  },[request,auth.token])\n\n  const searchHandler = event => {\n    setSearch(event.target.value)\n  }\n\n  const keyd = (e)=>{\n    if(e.keyCode===13&&typeof(menu.menu.search)===\"function\"){\n      menu.menu.search(search)\n    }\n  }\n\n  const searchtVisibleTogle = ()=>setSearchtVisible(!searchtVisible)\n\n  const dialogSearcht = (func)=>{\n    if(!searchtVisible){\n      dialog.show(\"text\", {\n        title:\"Search\",\n        placeholder:\"name\",\n        active:(d)=>{\n          if(typeof(func)===\"function\")\n            func(d)\n          setSearchtVisible(false)\n        }\n      })\n    }else{\n      dialog.hide()\n    }\n    setSearchtVisible(!searchtVisible)\n  }\n\n  useEffect(()=>{\n    updataUser()\n  },[updataUser])\n\nif(sizeWidth>700){\n  return(\n    <>\n    {\n      (menu.menu.specialAction?.type)?\n      <FloatingButton\n      title={menu.menu.specialAction?.title || menu.menu.specialAction?.type}\n      type = {menu.menu.specialAction?.type}\n      action = {menu.menu.specialAction?.action}\n      />:\n      null\n    }\n    <TopMenu\n    title={menu.menu.title}\n    togle={menu.togle}\n    controlButtons={{\n      search:(menu.menu.search)?{togle:searchtVisibleTogle}:null,\n      dopmenu:menu.menu.dopmenu\n    }}\n    buttons={menu.menu.buttons}\n    />\n    {\n      (menu.menu.search)?\n      <div className={`toolbarConteainer ${(searchtVisible)?\"show\":\"hide\"}`}>\n        <div className={`search`}>\n          <button onClick={()=>setSearchtVisible(false)} className=\"backBtn\">\n            <i className=\"fas fa-arrow-left\"></i>\n          </button>\n          <input placeholder=\"search\" type=\"search\" name=\"search\" onChange={searchHandler} onKeyDown={keyd} value={search}/>\n        </div>\n      </div>:\n      null\n    }\n    <LeftMenu\n    user={user}\n    hide={menu.hide}\n    show={menu.show}\n    visible={menu.menu.visible}\n    insluedField={insluedField}\n    otherField={otherField}\n    />\n    </>\n  )\n}\nelse {\n  return (\n    <>\n    {\n      (menu.menu.specialAction?.type)?\n      <FloatingButton\n      title={menu.menu.specialAction?.title || menu.menu.specialAction?.type}\n      big={menu.menu.visible} type = {menu.menu.specialAction?.type}\n      action = {menu.menu.specialAction?.action}\n      />:\n      null\n    }\n    {\n      (menu.menu.buttons)?\n      <TopMenu\n      buttons={menu.menu.buttons}\n      />\n      :null\n    }\n    <BottomMenu\n    hide={menu.hide}\n    togle={menu.togle}\n    visible={menu.menu.visible}\n    insluedField={insluedField}\n    otherField={otherField}\n    controlButtons={{\n      search:(menu.menu.search)?{togle:()=>dialogSearcht(menu.menu.search)}:null,\n      dopmenu:menu.menu.dopmenu\n    }}\n    />\n    </>\n  )\n}\n}\n","import {createContext} from 'react'\n\nexport const FormContext = createContext()\n","import React from 'react'\n\nexport const Loader = ({style}) =>{\n  return(\n  <div className=\"loader\" style={{...style}}>\n    <div className=\"face face1\">\n      <div className=\"circle\"></div>\n    </div>\n    <div className=\"face face2\">\n      <div className=\"circle\"></div>\n    </div>\n  </div>\n)\n}\n","import {useState, useCallback, useContext} from 'react'\nimport {AlertContext} from '../components/alert/alertContext'\n\nexport const useMessage = (type = 'error') => {\n  const [Message, setMessage] = useState('');\n  const {show,hide} = useContext(AlertContext);\n\n\n  const message = useCallback((text, type,ok,no) =>{\n      if(text){\n        setMessage(text)\n        show(text, type,ok,no)\n      }\n      // setTimeout(function () {\n      //   setMessage('')\n      //   hide()\n      // }, 30000);\n    },[show])\n\n  const clearMessage = () => {\n    setMessage('')\n    hide()\n  }\n  return {message,Message,clearMessage}\n}\n","import React, {useState} from 'react'\n\nexport const HidingLi = ({children, title, show=false})=>{\n  const [visible, setVisible] = useState(show)\n\n  const togle = (event)=>{\n    if(event.target.className.split(\" \")[0]!==\"hidingLi\"&&event.target.parentNode.className.split(\" \")[0]!==\"hidingLi\") return;\n    setVisible(!visible)\n  }\n\n  return(\n    <li name = \"HidingLi\" className={`hidingLi ${(visible)?\"show\":\"hide\"}`} onClick={togle}>\n      <h3 value = \"HidingLi\" className=\"LiTitle\">{title}</h3>\n      <i value = \"HidingLi\" className=\"iconLI fas fa-chevron-down\"></i>\n      <div className=\"LiContent\">\n        {children}\n      </div>\n    </li>\n  )\n}\n","import React, {useState} from 'react'\n\nconst iconList = [\n  \"fas fa-lightbulb\",\n  \"far fa-lightbulb\",\n  \"fas fa-adjust\",\n  \"fas fa-bath\",\n  \"fas fa-sun\",\n  \"fas fa-broadcast-tower\",\n  \"fas fa-cog\",\n  \"fas fa-bell\",\n  \"fas fa-bolt\",\n  \"fas fa-city\",\n  \"fas fa-home\",\n  \"fas fa-desktop\",\n  \"fas fa-moon\",\n  \"fas fa-power-off\",\n  \"fas fa-rss\",\n  \"fas fa-door-closed\",\n  \"fas fa-door-open\",\n  \"fas fa-cogs\",\n  \"fas fa-circle-notch\"\n]\n\nexport const IconChoose = ({value, onChange, dataId}) =>{\n  const [visible, setVisible] = useState(false)\n\n  const changeHandler = (event)=>{\n    onChange(event.target.dataset.val, dataId)\n  }\n\n  return(\n  <>\n    <div className=\"configElement\">\n      <div className=\"input-data-icon\" onClick={()=>setVisible(!visible)}>\n        <div className=\"IconChooseflex\">\n          <p>icon</p>\n          <div className=\"iconEl\">\n            <i className={value}></i>\n          </div>\n        </div>\n        <div className=\"dividers\"></div>\n        <div className={`chooseIcon ${(visible)?\"show\":\"\"}`}>\n          <div className=\"iconConteiner\">\n          {\n            iconList.map((item, index)=>{\n              return(\n                <div key={index} data-id={dataId} onClick={changeHandler} data-val={item} className=\"iconEl\">\n                  <i className={item}></i>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>\n      </div>\n    </div>\n  </>\n  )\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {useChecked} from '../../../../hooks/checked.hook'\n\nexport const DeviceMiioEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information,\n    name:deviceData.name,\n    systemName:deviceData.systemName,\n    newSystemName:deviceData.systemName,\n    type:deviceData.type,\n    address:deviceData.address,\n    typeConnect:deviceData.typeConnect,\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  const outHandler = async ()=>{\n    let dataout = {\n      ...device,\n      fields:field\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\")\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>Name</h5>\n          <input className = \"textInput\" placeholder=\"name\" id=\"name\" type=\"text\" name=\"name\" value={device.name} onChange={changeHandler} required/>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>System name</h5>\n          <input className = \"textInput\" placeholder=\"system name\" id=\"newSystemName\" type=\"text\" name=\"newSystemName\" value={device.newSystemName} onChange={changeHandlerTest} required/>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>Address</h5>\n          <input className = \"textInput\" placeholder=\"address\" id=\"address\" type=\"text\" name=\"address\" value={device.address} onChange={changeHandler} required/>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>information</h5>\n          <input className = \"textInput\" placeholder=\"information\" id=\"information\" type=\"text\" name=\"information\" value={device.information} onChange={changeHandler} required/>\n        </label>\n      </li>\n      {\n        field.map((item, index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n              <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            </HidingLi>\n          )\n        })\n      }\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","\nexport const useChecked = () => {\n  const USText = str =>{\n    const simbol = \"1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\"\n    for (var i = 0; i < str.length; i++) {\n      let p = false;\n      for (var j = 0; j < simbol.length; j++) {\n        if(simbol[j]===str[i]){\n          p=true;\n          break;\n        }\n      }\n      if(!p){\n        return false;\n      }\n    }\n    return true;\n  }\n  return{USText}\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {useChecked} from '../../../../hooks/checked.hook'\n\nexport const DeviceVariableEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information||\"\",\n    name:deviceData.name||\"\",\n    systemName:deviceData.systemName||\"\",\n    newSystemName:deviceData.systemName||\"\",\n    type:deviceData.type||\"other\",\n    valueType:deviceData.valueType||\"json\",\n    address:deviceData.address||\"\",\n    typeConnect:deviceData.typeConnect||\"mqtt\",\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n  const [count, setCount] = useState(deviceData.fields.length);\n\n  useEffect(()=>{\n    console.log(field);\n  },[field])\n\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  function valid() {\n    if(\n      !device.systemName||\n      !device.valueType||\n      !device.name||\n      !device.type||\n      !device.typeConnect\n    ){return false}\n    if(!field||!field[0]){return false}\n    for (var item of field) {\n      if(!(item?.type)){return false}\n    }\n    return true\n  }\n  const validFields = ()=>{\n    let arrType = []\n    for (var item of field) {\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n  const outHandler = async ()=>{\n    if(!valid()){\n      return message(\"не все поля заполнены\",\"error\")\n    }\n    if(!validFields()){\n      return\n    }\n    let conf = []\n    for (var item of field) {\n      if(item.address)\n        conf.push(item)\n    }\n    let dataout = {\n      ...device,\n      fields:conf\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\")\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  const addcom = ()=>{\n    let arr = field.slice()\n    arr.push({\n      address:\"field\"+count,\n      name:\"field\"+count,\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"\",\n      unit:\"\"\n    })\n    setCount((prev)=>prev+1)\n    setField(arr)\n  }\n\n  const delcom = (index)=>{\n    let arr = field.slice()\n    arr = arr.filter((it,index2)=>index!==index2)\n    arr = arr.map((item,i)=>{\n      return {...item,type:\"c\"+i}\n    })\n    setCount((prev)=>prev-1)\n    setField(arr)\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"name\" type=\"text\" value={device.name}></input>\n          <label>Name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandlerTest} required name=\"newSystemName\" type=\"text\" value={device.newSystemName}></input>\n          <label>System name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <select name=\"valueType\" value={device.valueType} onChange={changeHandler}>\n            <option value=\"json\">json</option>\n            <option value=\"value\">value</option>\n          </select>\n          <label>Type value</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"information\" type=\"text\" value={device.information}></input>\n          <label>Information</label>\n        </div>\n      </div>\n      {\n        field.map((item,index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"name\" value={item.name} onChange={changeHandlerField} required/>\n                  <label>name</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                    <option value=\"binary\">binary</option>\n                    <option value=\"text\">text</option>\n                    <option value=\"number\">number</option>\n                    <option value=\"enum\">enum</option>\n                  </select>\n                <label>type</label>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n                </div>\n              </div>:null\n            }\n              <label>\n                <button className=\"delField\" onClick={()=>delcom(index)}>delete</button>\n              </label>\n            </HidingLi>\n          )\n        })\n      }\n        <li>\n          <button className=\"addField\" onClick={addcom}>add</button>\n        </li>\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {useChecked} from '../../../../hooks/checked.hook'\n\nexport const DeviceMqttEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information||\"\",\n    name:deviceData.name||\"\",\n    systemName:deviceData.systemName||\"\",\n    newSystemName:deviceData.systemName||\"\",\n    type:deviceData.type||\"other\",\n    valueType:deviceData.valueType||\"json\",\n    address:deviceData.address||\"\",\n    typeConnect:deviceData.typeConnect||\"mqtt\",\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n  const [count, setCount] = useState(deviceData.fields.length);\n\n  useEffect(()=>{\n    console.log(field);\n  },[field])\n\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeHandlerFieldChek = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.checked }\n    arr[index] = newcom\n    setField(arr)\n  }\n\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  function valid() {\n    if(\n      (!device.systemName && type !== \"link\")||\n      !device.newSystemName||\n      !device.valueType||\n      !device.address||\n      !device.name||\n      !device.type||\n      !device.typeConnect\n    ){return false}\n    if(!field||!field[0]){return false}\n    for (var item of field) {\n      if(!(item?.type&&item?.address)){return false}\n    }\n    return true\n  }\n  const validFields = ()=>{\n    let arrType = []\n    for (var item of field) {\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n  const outHandler = async ()=>{\n    if(!valid()){\n      return message(\"не все поля заполнены\",\"error\")\n    }\n    if(!validFields()){\n      return\n    }\n    let conf = []\n    for (var item of field) {\n      if(item.address)\n        conf.push(item)\n    }\n    let dataout = {\n      ...device,\n      fields:conf\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\"){\n      dataout.systemName = dataout.newSystemName\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    }\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  const addcom = ()=>{\n    let arr = field.slice()\n    arr.push({\n      address:\"field\"+count,\n      name:\"field\"+count,\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"\",\n      unit:\"\"\n    })\n    setCount((prev)=>prev+1)\n    setField(arr)\n  }\n\n  const delcom = (index)=>{\n    let arr = field.slice()\n    arr = arr.filter((it,index2)=>index!==index2)\n    arr = arr.map((item,i)=>{\n      return {...item,type:\"c\"+i}\n    })\n    setCount((prev)=>prev-1)\n    setField(arr)\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"name\" type=\"text\" value={device.name}></input>\n          <label>Name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandlerTest} required name=\"newSystemName\" type=\"text\" value={device.newSystemName}></input>\n          <label>System name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"address\" type=\"text\" value={device.address}></input>\n          <label>Address</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <select name=\"valueType\" value={device.valueType} onChange={changeHandler}>\n            <option value=\"json\">json</option>\n            <option value=\"value\">value</option>\n          </select>\n          <label>Type value</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"information\" type=\"text\" value={device.information}></input>\n          <label>Information</label>\n        </div>\n      </div>\n      {\n        field.map((item,index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"name\" value={item.name} onChange={changeHandlerField} required/>\n                  <label>name</label>\n                </div>\n              </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} type=\"text\" name=\"address\" value={item.address} onChange={changeHandlerField} required/>\n                <label>address</label>\n              </div>\n            </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                    <option value=\"binary\">binary</option>\n                    <option value=\"text\">text</option>\n                    <option value=\"number\">number</option>\n                    <option value=\"enum\">enum</option>\n                  </select>\n                <label>type</label>\n              </div>\n            </div>\n            <div className=\"configElement\" style={{justifyContent:\"center\"}}>\n              <div className=\"checkbox-btn\">\n                <input data-id={index} type=\"checkbox\" name=\"control\" checked={Boolean(item.control)} onChange={changeHandlerFieldChek} required/>\n                <div><span className=\"slide\"></span></div>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n                </div>\n              </div>:null\n            }\n              <label>\n                <button className=\"delField\" onClick={()=>delcom(index)}>delete</button>\n              </label>\n            </HidingLi>\n          )\n        })\n      }\n        <li>\n          <button className=\"addField\" onClick={addcom}>add</button>\n        </li>\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {Loader} from '../../Loader'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {DeviceMiioEdit} from './editDevicesPage/DeviceMiio.js'\nimport {DeviceVariableEdit} from './editDevicesPage/SistemVariable.js'\nimport {DeviceMqttEdit} from './editDevicesPage/DeviceMqtt.js'\n\n\nexport const EditDevicesForm = (props)=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [device, setDevice] = useState();\n\n  const usedevice = useCallback(async()=>{\n    const data = await request(`/api/device/get/${props.systemName}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    console.log(data);\n    setDevice(data);\n  },[request,auth.token,props.systemName])\n\n  useEffect(()=>{\n    usedevice()\n  },[usedevice])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n\n  if(loading||!device){\n    return (\n      <Loader/>\n    )\n  }\n\nif(device.typeConnect===\"Mqtt_MQTTDevice\" || device.typeConnect===\"Zigbee_ZigbeeDevice\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMqttEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"Yeelight_Yeelight\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"miio\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"variable\"&&device.type===\"variable\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceVariableEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\n  return(\n    <Loader/>\n  )\n}\n","import React, {useEffect,useState} from 'react'\nimport {Loader} from '../../Loader'\nimport {DeviceMqttEdit} from './editDevicesPage/DeviceMqtt.js'\nimport {DeviceMiioEdit} from './editDevicesPage/DeviceMiio.js'\nimport {DeviceVariableEdit} from './editDevicesPage/SistemVariable.js'\n\nexport const LincDevicesForm = (props)=>{\n  const [device, setDevice] = useState();\n\n  useEffect(()=>{\n    setDevice(props.data)\n  },[props.data])\n\nif(!device){\n  return(\n    <Loader/>\n  )\n}\nif(device.typeConnect===\"Mqtt_MQTTDevice\" || device.typeConnect===\"Zigbee_ZigbeeDevice\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMqttEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"yeelight\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"miio\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"system\"&&device.type===\"variable\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceVariableEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\n  return(\n    <Loader/>\n  )\n}\n","import React from 'react'\n\nexport const BackForm = ({children,onClick,className})=>{\n\n  const click = (event) =>{\n    let str = event.target.className.split(\" \");\n    for (var item of str) {\n      if(item === \"backForm\"&&typeof(onClick)===\"function\")\n        onClick(event);\n    }\n  }\n\n  return(\n    <div className = {`backForm ${className}`} onClick = {click}>\n      {children}\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const EditUserLevel = ({hide,data})=>{\n  const auth = useContext(AuthContext)\n  const [level, setLevel] = useState(data.Level)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const changeHandler = (event)=>{\n    setLevel(event.target.value)\n  }\n  const outHandler = async()=>{\n    await request(`/api/user/level/edit`, 'POST', {id:data.UserId, level},{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className = \"form small\">\n      <div className=\"editDevicesForm moreInput\">\n        <ul className=\"editDevice\">\n          <li>\n            <label>\n              <h5>{`Name - ${data.UserName}`}</h5>\n              <h5>{`UserSurname - ${data.UserSurname}`}</h5>\n              <h5>{`Email - ${data.Email}`}</h5>\n              <h5>{`Mobile - ${data.Mobile}`}</h5>\n            </label>\n          </li>\n          <li>\n            <label>\n              <h5>level</h5>\n              <select className = \"textInput\" name=\"level\" value={level} onChange={changeHandler}>\n                <option value={1}>Usual</option>\n                <option value={3}>Admin</option>\n              </select>\n            </label>\n          </li>\n          <div className=\"controlForm\" >\n            <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n          </div>\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const StyleIcon = ({colors}) =>{\n\n  return(\n    <div className=\"styleIcon\">\n      <div className=\"styleIcon-color\" style={{background:colors.c1}}></div>\n      <div className=\"styleIcon-color\" style={{background:colors.c2}}></div>\n      <div className=\"styleIcon-color\" style={{background:colors.active}}></div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {StyleIcon} from '../../pages/optionPages/castomIcon/styleIcon'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\nexport const CreateStyle = ({hide})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [style, setStyle] = useState({\n    name: '',\n    c1: \"#303030\",\n    c2: \"#505050\",\n    c3: \"#707070\"\n  })\n\n  const colorHandler = (event)=>{\n    setStyle({...style, [event.target.name]:event.target.value})\n  }\n\n  const createStyle = async() =>{\n    if(!style.name)\n      return message(\"name empty\", \"error\");\n    await request(`/api/user/style/add`, 'POST', style,{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className=\"form\">\n      <div className=\"content\">\n        <StyleIcon colors = {style}/>\n        <div className=\"control\">\n        <input type=\"text\" value={style.name} name=\"name\" onChange={colorHandler}/>\n          <input type=\"color\" value={style.c1} name=\"c1\" onChange={colorHandler}/>\n          <input type=\"color\" value={style.c2} name=\"c2\" onChange={colorHandler}/>\n          <input type=\"color\" value={style.c3} name=\"c3\" onChange={colorHandler}/>\n        </div>\n        <button onClick={createStyle}>Create</button>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext} from 'react'\nimport {FormContext} from './formContext'\nimport {EditDevicesForm} from './forms/editDevicesForm'\nimport {LincDevicesForm} from './forms/lincDevicesForm'\nimport {BackForm} from '../backForm'\nimport {EditUserLevel} from './forms/editUserLevel'\nimport {CreateStyle} from './forms/CreateStyle'\n\nexport const Form = ()=>{\n  const {form, hide} = useContext(FormContext)\n\n  if(!form.visible){\n    return null;\n  }\n\n  const hideAndApdata = (t=null) =>{\n    hide();\n    if(form.OK){\n      form.OK(t)\n    }\n  }\n\n  if(form.type === \"EditDevices\"){\n    return (\n      <BackForm onClick = {hide}>\n        <EditDevicesForm hide = {hideAndApdata} systemName = {form.data.systemName}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"LinkDevices\"){\n    return (\n      <BackForm onClick = {hide}>\n        <LincDevicesForm hide = {hideAndApdata} data = {form.data}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"EditUserLevel\"){\n    return (\n      <BackForm onClick = {hide}>\n        <EditUserLevel hide = {hideAndApdata} data = {form.data}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"CreateStyle\"){\n    return (\n      <BackForm onClick = {hide}>\n        <CreateStyle hide = {hideAndApdata} ret={form.OK}/>\n      </BackForm>\n    )\n  }\n}\n","export const SHOW_ALERT = 'SHOW_ALERT'\nexport const HIDE_ALERT = 'HIDE_ALERT'\nexport const SHOW_MENU = 'SHOW_MENU'\nexport const HIDE_MENU = 'HIDE_MENU'\nexport const EDIT_MENU = 'EDIT_MENU'\nexport const SHOW_FORM = 'SHOW_FORM'\nexport const HIDE_FORM = 'HIDE_FORM'\nexport const SHOW_TERMINAL = 'SHOW_TERMINAL'\nexport const HIDE_TERMINAL = 'HIDE_TERMINAL'\nexport const SHOW_EDITCART = 'SHOW_EDITCART'\nexport const HIDE_EDITCART = 'HIDE_EDITCART'\nexport const SHOW_ADDCONTROL = 'SHOW_ADDCONTROL'\nexport const HIDE_ADDCONTROL = 'HIDE_ADDCONTROL'\nexport const SHOW_ADDSCRIPT = 'SHOW_ADDSCRIPT'\nexport const HIDE_ADDSCRIPT = 'HIDE_ADDSCRIPT'\nexport const SHOW_DIALOG = 'SHOW_DIALOG'\nexport const HIDE_DIALOG = 'HIDE_DIALOG'\nexport const SHOW_GROUP = 'SHOW_GROUP'\nexport const HIDE_GROUP = 'HIDE_GROUP'\n","import {SHOW_ALERT, HIDE_ALERT} from '../types'\n\nconst handlers={\n  [SHOW_ALERT]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_ALERT]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const alertReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {AlertContext} from './alertContext'\nimport {alertReducer} from './alertReducer'\nimport {SHOW_ALERT, HIDE_ALERT} from '../types'\n\nexport const AlertState = ({children}) =>{\n  const [state, dispatch] = useReducer(alertReducer,{visible:false})\n\n  const show = (text, type = \"warning\", Ok=null, No=null) =>{\n    dispatch({\n      type:SHOW_ALERT,\n      payload: {text, type,Ok,No}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_ALERT,\n    })\n  }\n\n  return(\n    <AlertContext.Provider\n    value={{show, hide, alert: state}}>\n      {children}\n    </AlertContext.Provider>\n  )\n}\n","import {SHOW_DIALOG, HIDE_DIALOG} from '../types'\n\nconst handlers={\n  [SHOW_DIALOG]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_DIALOG]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const dialogWindowReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer,useCallback} from 'react'\nimport {DialogWindowContext} from './dialogWindowContext'\nimport {dialogWindowReducer} from './dialogWindowReducer'\nimport {SHOW_DIALOG, HIDE_DIALOG} from '../types'\n\nexport const DialogWindowState = ({children}) =>{\n  const [state, dispatch] = useReducer(dialogWindowReducer,{visible:false})\n\n  const show = useCallback((type = \"warning\", options={}) =>{\n    dispatch({\n      type:SHOW_DIALOG,\n      payload: {type, ...options}\n    })\n  },[])\n\n  const hide = useCallback(() =>{\n    dispatch({\n      type:HIDE_DIALOG,\n    })\n  },[])\n\n  return(\n    <DialogWindowContext.Provider\n    value={{show, hide, dialog: state}}>\n      {children}\n    </DialogWindowContext.Provider>\n  )\n}\n","import {SHOW_MENU, HIDE_MENU, EDIT_MENU} from '../types'\n\nconst handlers={\n  [SHOW_MENU]:(state,{payload}) => ({...state, visible:true}),\n  [HIDE_MENU]:state => ({...state, visible:false}),\n  [EDIT_MENU]:(state,{payload}) => ({...payload, visible:state.visible}),\n  DEFAULT: state => state\n}\n\nexport const menuReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer, useCallback} from 'react'\nimport {MenuContext} from './menuContext'\nimport {menuReducer} from './menuReducer'\nimport {SHOW_MENU, HIDE_MENU, EDIT_MENU} from '../types'\n\nexport const MenuState = ({children}) =>{\n  const [state, dispatch] = useReducer(menuReducer,{visible:false})\n\n  const setData = useCallback((title=\"\",options) =>{\n    dispatch({\n      type:EDIT_MENU,\n      payload: {title,...options}\n    })\n  },[])\n\n  const show = () =>{\n    dispatch({\n      type:SHOW_MENU\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_MENU\n    })\n  }\n\n  const togle = () =>{\n    if(state.visible){\n      dispatch({\n        type:HIDE_MENU\n      })\n    }\n    else {\n      dispatch({\n        type:SHOW_MENU\n      })\n    }\n  }\n\n  return(\n    <MenuContext.Provider\n    value={{show, hide, togle,setData, menu: state}}>\n      {children}\n    </MenuContext.Provider>\n  )\n}\n","import {SHOW_FORM, HIDE_FORM} from '../types'\n\nconst handlers={\n  [SHOW_FORM]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_FORM]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const formReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {FormContext} from './formContext'\nimport {formReducer} from './formReducer'\nimport {SHOW_FORM, HIDE_FORM} from '../types'\n\nexport const FormState = ({children}) =>{\n  const [state, dispatch] = useReducer(formReducer,{visible:false})\n\n  const show = (type = \"404\", OK = null, data = null) =>{\n    dispatch({\n      type:SHOW_FORM,\n      payload: {type,OK,data}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_FORM,\n    })\n  }\n\n  return(\n    <FormContext.Provider\n    value={{show, hide, form: state}}>\n      {children}\n    </FormContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const TerminalContext = createContext()\n","import {SHOW_TERMINAL, HIDE_TERMINAL} from '../types'\n\nconst handlers={\n  [SHOW_TERMINAL]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_TERMINAL]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const terminalReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {TerminalContext} from './terminalContext'\nimport {terminalReducer} from './terminalReducer'\nimport {SHOW_TERMINAL, HIDE_TERMINAL} from '../types'\n\nexport const TerminalState = ({children}) =>{\n  const [state, dispatch] = useReducer(terminalReducer,{visible:false})\n\n  const show = (type = \"404\",hide = null, OK = null) =>{\n    dispatch({\n      type:SHOW_TERMINAL,\n      payload: {type,OK,hide}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_TERMINAL,\n    })\n  }\n\n  const target = () =>{\n    if(state.visible){\n      hide()\n    }\n    else {\n      show()\n    }\n  }\n\n  return(\n    <TerminalContext.Provider\n    value={{show, hide,target, terminal: state}}>\n      {children}\n    </TerminalContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const AddScriptContext = createContext()\n","import {createContext} from 'react'\n\nexport const SocketContext = createContext()\n","import {createContext} from 'react'\n\nexport const GroupsContext = createContext()\n","import React, {useContext, useEffect} from 'react'\nimport {AddScriptContext} from './addScriptContext'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {SocketContext} from '../../context/SocketContext'\nimport {useScriptDevices} from './addScript/addScriptDevices'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useHttp} from '../../hooks/http.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\n\nexport const AddScriptState = ({children}) =>{\n  const dialog = useContext(DialogWindowContext)\n  const {devices} = useContext(SocketContext)\n  const {message} = useMessage();\n  const auth = useContext(AuthContext)\n  const {request, error, clearError} = useHttp();\n  const {deviceBlock, groupBlock} = useScriptDevices()\n\n  const addTarget = (result=null)=>{\n    let targets = devices.map((item)=>({title:item.name, data:item}))\n    targets.unshift({title:\"datetime\", data:{type:\"datetime\"}})\n    dialog.show(\"confirmation\",{\n      title:\"Devices\",\n      items:targets,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  }\n\n  const typeAct = (result=null)=>{\n    let items = [\n      {title: \"device\", data: \"device\"},\n      {title: \"group\", data: \"group\"},\n      {title: \"script\", data: \"script\"},\n      {title: \"delay\", data: \"delay\"},\n    ]\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  }\n\n  const typeIf = (result=null)=>{\n    let items = [\n      {title: \"group Block And\", data: \"groupBlockAnd\"},\n      {title: \"group Block Or\", data: \"groupBlockOr\"},\n      {title: \"device\", data: \"deviceBlock\"},\n    ]\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        dialog.hide()\n        if(typeof(result)===\"function\")\n          result(d)\n      }\n    })\n  }\n\n  const addScriptBlock = async(result=null)=>{\n    let items = await request('/api/script/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    items = items.map((item)=>({title:item.name, data:item}))\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        dialog.hide()\n        if(typeof(result)===\"function\")\n          result(d)\n      }\n    })\n  }\n\n  const typeValue = (type, data, result=null)=>{\n    let items = []\n    if(type===\"addValue\"&& data.type===\"text\")\n      items.push({title: \"input text\", data: \"Text\"})\n    if(data.type===\"number\" || type===\"addValueMath\")\n      items.push({title: \"input number\", data: \"Number\"})\n    if(type===\"addValueMath\" || data.type===\"number\")\n      items.push({title: \"Mathematical expression\", data: \"Math\"})\n    if(data.type!==\"enum\")\n      items.push({title: \"Device value\", data: \"DeviceValue\"})\n    if(data.type===\"enum\" || data.type===\"binary\")\n      items.push({title: \"state value\", data: \"Enum\"})\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        dialog.hide()\n        if(typeof(result)===\"function\")\n          result(d)\n      }\n    })\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <AddScriptContext.Provider\n    value={{typeValue,addTarget,typeAct,deviceBlock,groupBlock,typeIf,addScriptBlock}}>\n      {children}\n    </AddScriptContext.Provider>\n  )\n}\n","import {useContext,useCallback} from 'react'\nimport {DialogWindowContext} from '../../dialogWindow/dialogWindowContext'\nimport {SocketContext} from '../../../context/SocketContext'\nimport {GroupsContext} from '../../Groups/groupsContext'\n\nexport const useScriptDevices = ()=>{\n  const {devices} = useContext(SocketContext)\n  const {groups} = useContext(GroupsContext)\n  const dialog = useContext(DialogWindowContext)\n\n  const filteredDevice = useCallback((type, typeDev)=>{\n      let filteredDevs = devices.filter((item)=>{\n        let flag = false\n        for (var item2 of item.fields) {\n          if(\n            (typeDev===\"number\"&&(item2.type===\"number\"||item2.type===\"binary\"))||\n            (typeDev===\"binary\"&&item2.type===\"binary\")||\n            (typeDev===\"text\")||\n            (typeDev===\"enum\"&&item2.type===\"enum\")||\n            (!typeDev)\n          )flag = true\n          if(flag&&(type!==\"act\"||item2.control))\n            return true\n        }\n        return false\n      })\n      return filteredDevs\n  },[devices])\n\n  const filteredGroup = useCallback((type, typeDev)=>{\n      let filteredDevs = groups.filter((item)=>{\n        let flag = false\n        for (var item2 of item.fields) {\n          if(\n            (typeDev===\"number\"&&(item2.type===\"number\"||item2.type===\"binary\"))||\n            (typeDev===\"binary\"&&item2.type===\"binary\")||\n            (typeDev===\"text\")||\n            (typeDev===\"enum\"&&item2.type===\"enum\")||\n            (!typeDev)\n          )flag = true\n          if(flag&&(type!==\"act\"||item2.control))\n            return true\n        }\n        return false\n      })\n      return filteredDevs\n  },[groups])\n\n  const deviceBlock = useCallback((result, type=\"act\", typeDev = null)=>{\n    let items = filteredDevice(type, typeDev).map((item)=>({title:item.name, data:item}))\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  },[filteredDevice, dialog])\n\n  const groupBlock = useCallback((result, type=\"act\", typeDev = null)=>{\n    let items = filteredGroup(type, typeDev).map((item)=>({title:item.name, data:item}))\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  },[filteredGroup, dialog])\n\n  return {deviceBlock, groupBlock}\n}\n","import React,{useState} from 'react'\n\nexport const ModalWindow = ({\n  position = \"fixed\",\n  zindex=5,\n  children,\n  top=240,\n  left=300,\n  hide = null,\n  userBtn = null,\n  width = \"auto\",\n  height = \"auto\",\n  title=\"window\",\n  moving = true,\n  heightToolbar = 30,\n  className = \"\",\n  style = {},\n  styleContent = {},\n})=>{\n  const [point, setPoint] = useState({\n    top:top,\n    left:left\n  })\n// .getBoundingClientRect()\n  const mouseDown = (event)=>{\n    if(event.target.className!==\"modalHeader\")\n      return;\n    let parent = event.target.parentNode.parentNode.getBoundingClientRect()\n    var coords = getCoords(event.target);\n    var shiftX = event.pageX - coords.left + parent.x;\n    var shiftY = event.pageY - coords.top + parent.y;\n    moveAt(event)\n\n    function moveAt(e) {\n      if(e.pageX < 65||e.pageX > document.body.clientWidth||e.pageY < 5||e.pageY > document.clientHeight){\n        return\n      }\n      setPoint({\n        left:e.pageX - shiftX,\n        top:e.pageY - shiftY\n      })\n\n    }\n\n    document.onmousemove = function(e) {\n      moveAt(e);\n    };\n\n    document.onkeydown = function (e) {\n      if(e.key===\"Escape\"){\n        document.onmousemove = null;\n        event.onmouseup = null;\n        document.onkeydown = null;\n\n      }\n    }\n\n    event.target.onmouseup = function() {\n      document.onmousemove = null;\n      event.onmouseup = null;\n      document.onkeydown = null;\n\n    };\n\n\n    function getCoords(elem) {   // кроме IE8-\n    var box = elem.getBoundingClientRect();\n    return {\n      top: box.top + window.pageYOffset,\n      left: box.left + window.pageXOffset\n    };\n  }\n  }\n\n  return(\n    <div className={`modalWindow ${className}`} style={{top:`${point.top}px`,left:`${point.left}px`,zIndex:zindex,position:position,...style}}>\n      <div className=\"modalHeader\" style={{height: `${heightToolbar}px`}} onMouseDown={(moving)?mouseDown:null} onDragStart={()=>false}>\n        <h4>{title}</h4>\n        {(userBtn)?<button className = \"userBtn\" onClick = {userBtn}><i className=\"fas fa-list\"></i></button>:null}\n        {(hide)?<button className = \"hide\" onClick = {hide}>&times;</button>:null}\n      </div>\n      <div className=\"modalContent\" style={{width:(width!==\"auto\")?`${width}px`:\"\",height:(height!==\"auto\")?`${height}px`:\"\",...styleContent}}>\n        {children}\n      </div>\n    </div>\n  )\n}\n","import {createContext} from 'react'\n\nexport const CartEditContext = createContext()\n","import React,{useState,useContext,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const BtnElement = ({children, data, onClick, index, deleteBtn, editBtn, className, name}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(false)\n  const [switchMode, setSwitchMode] = useState(false)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const {target} = useContext(CartEditContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(id,v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: id,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(data.field?.type===\"binary\")\n      setSwitchMode(true)\n  },[data.field?.type])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||data.disabled||data.entity?.status===\"offline\")return\n    if(data.entity && data.field.type===\"binary\" && data.fieldvalue){\n      if(data.fieldvalue===data.field.low)\n          setValue(false)\n      if(data.fieldvalue===data.field.high)\n        setValue(true)\n      if(data.entity.typeConnect===\"mqtt\"&&(!/\\D/.test(data.fieldvalue)&&!/\\D/.test(data.field.low)&&!/\\D/.test(data.field.high))){\n        let poz = Number(data.fieldvalue)\n        let min = Number(data.field.low)\n        let max = Number(data.field.high)\n        if(poz>min&&poz<=max)\n          setValue(true)\n        else\n          setValue(false)\n      }\n    }\n    if(data.entity && data.field.type===\"number\" && data.fieldvalue){\n      if(!data.data.action)data.data.action=\"0\"\n      if(data.data.action===data.fieldvalue)\n        setValue(true)\n      else\n        setValue(false)\n    }\n  },[onClick,data])\n\nconst changeHandler = (event)=>{\n  let oldvel = value\n  setValue((prev)=>!prev)\n  if(!switchMode){\n    setTimeout(()=>setValue(false),250)\n  }\n  if(typeof(onClick)===\"function\"){\n    onClick(event, value,setValue)\n  }\n\n  if(!data.data || !data.entity)\n    return\n  // if(data.typeAction===\"variable\")\n  //     return outValue(device.DeviceId,data.action)\n  if(data.typeAction===\"modeTarget\")\n      return outValue(data.entity.systemName,\"target\")\n  if(data.field.type===\"binary\")\n      return outValue(data.entity.systemName,(oldvel)?0:1)\n  if(data.field.type===\"number\")\n      return outValue(data.entity.systemName,data.data.action)\n  if(data.field.type===\"text\")\n      return outValue(data.entity.systemName,data.data.action)\n  return outValue(data.entity.systemName,data.data.action)\n}\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\n\n\n  return(\n    <label className={`BtnElement ${className} ${(data.disabled)?\"disabled\":\"\"}`}>\n      <input type=\"checkbox\" checked={value} name={name} onChange={changeHandler} disabled={data.disabled}/>\n      <div className=\"icon-conteiner\">\n      {\n        (data.editmode)?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>\n        :null\n      }\n        <div className=\"icon-box\">\n        {\n          (children)?\n          children:\n          <div className=\"icon\">\n            <div className=\"circle\">\n              <i className={data?.field?.icon||\"fas fa-circle-notch\"}></i>\n            </div>\n          </div>\n        }\n        </div>\n        <p>{data.title}</p>\n      </div>\n\n    </label>\n  )\n}\n","import {createContext} from 'react'\n\nexport const EditModeContext = createContext()\n","import React,{useEffect,useCallback} from 'react'\n\nexport const RunText = ({id, text,className, onClick})=>{\n\n  const anim = useCallback(()=>{\n    let el = document.getElementById(`p-${id}`)\n    let el2 = document.getElementById(`div-${id}`)\n    if(el.clientWidth >= el2.clientWidth){\n      el.className=\"scroll\"\n      el.innerHTML=`| ${text} | ${text}`\n    }\n    else{\n      el.className=\"\"\n    }\n  },[id,text])\n\n  useEffect(()=>{\n    anim()\n  },[anim])\n\n  return(\n    <div id={`div-${id}`} onClick={onClick} className={`RunText ${className}`}>\n      <p id={`p-${id}`}>{text}</p>\n    </div>\n  )\n}\n","import React,{useState,useContext,useRef,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {RunText} from '../../runText'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const SliderElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const auth = useContext(AuthContext)\n  const [value , setValue] = useState(0)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const delay = useRef(null)\n  const {target} = useContext(CartEditContext)\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName ,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\")return\n    if(!data?.fieldvalue)return\n    setValue(Number(data?.fieldvalue))\n  },[onClick,data])\n\n  const changeHandler = (event)=>{\n    setValue(event.target.value)\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(event.target.value)\n    }, 200);\n  }\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\nreturn(\n  <div className=\"slider-box\">\n    <RunText className=\"name RunTextBaseColor\" id={data.title} text={data.title}/>\n    <div className=\"slider\">\n      <input\n      type=\"range\"\n      min={data.field?.low||0}\n      max={data.field?.high||100}\n      value={value||0}\n      onChange={changeHandler}\n      onInput={changeHandler}\n      disabled={data.disabled}\n      />\n    </div>\n    <div className=\"value\">{value||0}</div>\n    {\n      (data.editmode&&(deleteBtn || editBtn))?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n  </div>\n)\n}\n","import React,{useContext} from 'react'\nimport {RunText} from '../../runText'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\n\nexport const SensorElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const {target} = useContext(CartEditContext)\n\n  const getTypeField = ()=>{\n    if(!data?.field?.type)return \"text\"\n    return data.field.type\n  }\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\nif(!data?.entity?.systemName){\n  return null;\n}\nif(getTypeField()===\"number\"||getTypeField()===\"text\"){\n  return(\n    <div className=\"SensorElement\">\n      <div className=\"icon-conteiner\">\n        <RunText className=\"sensor-name RunTextBaseColor\" id={data.title} text={data.title}/>\n        <RunText className=\"sensor-value RunTextBaseColor\" id={`${data.title}-val`} text={`${data.fieldvalue||\"\"} ${data.field?.unit||\"\"}`}/>\n      </div>\n      {\n        (data.editmode&&(deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>:\n        null\n      }\n    </div>\n  )\n}\nif(getTypeField()===\"binary\"){\n  return(\n    <div className=\"SensorElement\">\n      <div className=\"icon-conteiner\">\n        <RunText className=\"sensor-name RunTextBaseColor\" id={data.title} text={data.title}/>\n        <div className={`valueIndicator ${(data.fieldvalue===\"1\")?\"true\":\"false\"}`}></div>\n      </div>\n      {\n        (data.editmode&&(deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>:\n        null\n      }\n    </div>\n  )\n}\n\nreturn(\n  <div className=\"SensorElement BtnElement\">\n    <div className=\"icon-conteiner\">\n      <RunText className=\"sensor-value-name RunTextBaseColor\" id={data.title} text={data.title}/>\n    </div>\n    {\n      (data.editmode&&(deleteBtn || editBtn))?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n  </div>\n)\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const EnumElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(\"\")\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const {target} = useContext(CartEditContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(id,v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: id,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||!data.fieldvalue||data.disabled)return;\n    setValue(data.fieldvalue)\n  },[onClick,data.fieldvalue,data.disabled])\n\nconst changeHandler = (event)=>{\n  setValue(event.target.value)\n\n  if(!data?.entity||!data?.data)\n    return\n  return outValue(data.entity.systemName,event.target.value)\n}\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n\n  return(\n    <label className={`EnumElement ${className} ${(data.disabled)?\"disabled\":\"\"}`}>\n      <div className=\"icon-conteiner\">\n      {\n        (data.editmode&&(deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>\n        :null\n      }\n        <div className=\"icon-box-enum\">\n          <div className=\"icon\">\n            <div className=\"circle\">\n              <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n            </div>\n          </div>\n          {\n            (data.field?.values)?\n            <select value={value} onChange={changeHandler}>\n            {\n              valuesDecod(data.field.values).map((item,index)=>{\n                return(\n                  <option key={index} value={item}>{item}</option>\n                )\n              })\n            }\n            </select>\n            :null\n          }\n        </div>\n        <p>{data.title}</p>\n      </div>\n\n    </label>\n  )\n}\n","import React,{useContext,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\nexport const ScriptElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const {target} = useContext(CartEditContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\n  const clickHandler = async()=>{\n    await request(`/api/script/run?name=${data.data.name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  }\n\n  return(\n    <label className={`ScriptElement ${className}`}>\n      <input type=\"button\" onClick={clickHandler} disabled={data.disabled}/>\n      <div className=\"icon-conteiner\">\n      {\n        (data.editmode && (deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>\n        :null\n      }\n        <div className=\"icon-box\">\n          <i className=\"fas fa-file-alt\"></i>\n        </div>\n        <p>{data.data.name}</p>\n      </div>\n\n    </label>\n  )\n}\n","import React,{useContext} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\n\nexport const BaseElement = ({children,deleteBtn,editBtn,index,data}) =>{\n  const {target} = useContext(CartEditContext)\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data,index},editBtn)\n    }\n  }\n\n  return(\n    <div className=\"baseCartElement-box\">\n    {\n      (deleteBtn || editBtn)?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n      {children}\n    </div>\n  )\n}\n","import {createContext} from 'react'\n\nexport const ServerConfigContext = createContext()\n","import React,{useContext} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {ServerConfigContext} from  '../../../context/ServerConfigContext'\n\nexport const WeatherElement = ({deleteBtn,editBtn,index,data}) =>{\n  const serverConfig = useContext(ServerConfigContext)\n\n  const icon = (weather)=>{\n    if(!weather) return null\n    if (weather===\"Ясно\"||weather===\"Малооблачно\"||weather===\"Clear\")\n      return (<i className=\"fas fa-sun\"></i>)\n    else if (weather===\"Облачно с прояснениями\")\n      return (<i className=\"fas fa-cloud-sun\"></i>)\n    else if (weather===\"Облачно\"||weather===\"Пасмурно\"||weather===\"Clouds\")\n      return (<i className=\"fas fa-cloud\"></i>)\n    else if (weather===\"Дождь\"||weather===\"Rain\")\n      return (<i className=\"fas fa-cloud-showers-heavy\"></i>)\n    else if (weather===\"Небольшой дождь\")\n      return (<i className=\"fas fa-cloud-sun-rain\"></i>)\n    else if (weather===\"Snow\")\n      return (<i className=\"far fa-snowflake\"></i>)\n  }\n\n  const convertTemp = k => (k)?`${String(Math.floor(k - 273.15))} C*`:null\n\n  return(\n    <BaseElement\n    deleteBtn = {(data.editmode)?deleteBtn:null}\n    editBtn={(data.editmode)?editBtn:null}\n    index={index}\n    data={data.data}\n    >\n    {\n      (serverConfig&&serverConfig.weather)?\n      <div className=\"weather-box\">\n        <div className=\"city\">{(serverConfig&&serverConfig.weather&&serverConfig.weather.city)||\"\"}</div>\n        <div className={`weather-body ${(data.data.width>3)?\"veryWide\":(data.data.width>1)?\"wide\":\"\"} ${(data.height>2)?\"veryTall\":(data.height>1)?\"tall\":\"\"}`}>\n          <div className=\"day_anchor-div\">\n            <div className=\"icon_color_light\">{\n              icon(serverConfig?.weather?.now?.weather)\n            }</div>\n            {\n              (data.data.width>1||data.data.height>1)?\n              <div className=\"day-anchor\">{(serverConfig?.weather?.now?.weather)||\"\"}</div>\n              :null\n            }\n          </div>\n          <div className=\"temp\">{convertTemp(serverConfig?.weather?.now?.temp)}</div>\n        </div>\n        {\n          (data.data.width>3&&data.data.height>1)?\n          <div className=\"forecast\">\n            {\n              serverConfig?.weather?.forecastDate?.map((item,index)=>{\n                return(\n                  <div key={index} className={`forecast-weather-body`}>\n                    <div className=\"day-name\">{item.name||\"\"}</div>\n                    <div className=\"day-date\">{item.day.date||\"\"}</div>\n                    <div className=\"day_anchor-div\">\n                      <div className=\"icon_color_light\">{\n                        icon(item&&item.day.weather)\n                      }</div>\n                      <div className=\"day-anchor\">{item.day.weather||\"\"}</div>\n                    </div>\n                    <div className=\"forecast-temp forecast-temp-day\">{convertTemp(item?.day?.temp)||\"\"}</div>\n                    <div className=\"forecast-temp forecast-temp-night\">{convertTemp(item?.night?.temp)||\"\"}</div>\n                  </div>\n                )\n              })\n            }\n          </div>\n          :null\n        }\n      </div>\n      :<div className=\"weather-box\" style={{fontSize:\"30px\", flexDirection:\"column\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\n        <p>weather</p>\n        <p>Нет данных</p>\n      </div>\n    }\n    </BaseElement>\n  )\n}\n","import React,{useContext} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {ServerConfigContext} from  '../../../context/ServerConfigContext'\n\nexport const TimeElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const serverConfig = useContext(ServerConfigContext)\n\n  return(\n    <BaseElement\n    deleteBtn = {(data.editmode)?deleteBtn:null}\n    editBtn={(data.editmode)?editBtn:null}\n    index={index}\n    data={data.data}\n    >\n    <p className=\"sensor-value\">{serverConfig.time || `${new Date().getHours()}:${new Date().getMinutes()}`}</p>\n    </BaseElement>\n  )\n}\n","export const getDayMount = (month, year)=>{\n  let date = new Date(year, month, 1)\n  let days = []\n  while (date.getMonth() === month) {\n    days.push(new Date(date))\n    date.setDate(date.getDate() + 1)\n  }\n  return days\n}\n\nexport function getMonthStr(month, krat=false) {\n  const months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ]\n  const shortMonths = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ]\n  if(krat)\n    return shortMonths[month]\n  return months[month]\n}\n","import React,{useContext, useEffect, useState, useCallback} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {ServerConfigContext} from  '../../../context/ServerConfigContext'\nimport {getDayMount,getMonthStr} from './utils'\n\nexport const CalendarElement = ({deleteBtn,editBtn,index,data}) =>{\n  const serverConfig = useContext(ServerConfigContext)\n  const [days, setDays] = useState([])\n\n  const convertDateFormat = useCallback((date)=>{\n    if(!date)return null\n    let d = date.split('.');\n    d = d.reverse()\n    return d.join('-')\n  },[])\n\n  useEffect(()=>{\n    let naw = new Date(convertDateFormat(serverConfig.date))\n    let days = getDayMount(naw.getMonth(), naw.getFullYear())\n    days = days.map((item)=>{\n      if(item.getDate() !== naw.getDate())\n        return {type:\"\", day:item}\n      return {type:\"naw\", day:item}\n    })\n    let count = days[0].day.getUTCDay()\n    let day = new Date(days[0].day)\n    for (let i = 1; i <= count; i++) {\n      day.setDate(day.getDate() - 1)\n      days.unshift({type:\"prev\", day:new Date(day)})\n    }\n    count = days[days.length - 1].day.getUTCDay()\n    day = new Date(days[days.length - 1].day)\n    for (let i = 6; i > count; i--) {\n      day.setDate(day.getDate() + 1)\n      days.push({type:\"next\", day:new Date(day)})\n    }\n    setDays(days)\n  },[serverConfig.date, convertDateFormat])\n\n  if(data.data.height >= 2 && data.data.width >= 3)\n  {\n    return(\n      <BaseElement\n      deleteBtn = {(data.editmode)?deleteBtn:null}\n      editBtn={(data.editmode)?editBtn:null}\n      index={index}\n      data={data.data}\n      >\n        <div className=\"calendar\">\n          <div className=\"NawMonth\">\n            <p>{getMonthStr(new Date().getMonth())} {new Date().getFullYear()}</p>\n          </div>\n          <div className=\"calendar-grid\">\n            <div className=\"\">Mon</div>\n            <div className=\"\">Tue</div>\n            <div className=\"\">Wed</div>\n            <div className=\"\">Thu</div>\n            <div className=\"\">Fri</div>\n            <div className=\"\">Sat</div>\n            <div className=\"\">Sun</div>\n            {\n              days.map((item, index)=>{\n                return(\n                  <div className={item.type} key={index}>{item.day.getDate()}</div>\n                )\n              })\n            }\n          </div>\n        </div>\n      </BaseElement>\n    )\n  }\n\n  return(\n    <BaseElement\n    deleteBtn = {(data.editmode)?deleteBtn:null}\n    editBtn={(data.editmode)?editBtn:null}\n    index={index}\n    data={data.data}\n    >\n      <div className=\"calendar\">\n        <div className=\"NawMonth\" style={{height: \"calc(100% - 20px)\", fontSize:\"25px\"}}>\n          <p>{new Date().getDate()} {getMonthStr(new Date().getMonth(), data.data.width === 1)} {new Date().getFullYear()}</p>\n        </div>\n      </div>\n    </BaseElement>\n  )\n}\n","import {useCallback, useContext} from 'react'\nimport {SocketContext} from '../context/SocketContext'\nimport {GroupsContext} from '../components/Groups/groupsContext'\n\nexport const useControlData = ()=>{\n  const {getDevice} = useContext(SocketContext)\n  const {getGroup} = useContext(GroupsContext)\n\n  const itemField = useCallback((fields, name)=>{\n    return fields?.filter(item=>item.name===name)[0]\n  },[])\n\n  const getGroupValue = useCallback((group, field)=>{\n    for (var item of group.devices) {\n      let dev = getDevice(item.name)\n      let val = dev?.value[field]\n      if(val)\n        return val\n    }\n  },[getDevice])\n\n  const convert = useCallback((data, editmode)=>{\n    let res = {}\n    res.data = data\n    res.disabled = false\n    res.title = data.title\n    res.editmode = editmode\n    if(data.typeItem === \"script\")\n      return res\n    else if(data.typeItem === \"device\")\n    {\n      res.entity = getDevice(data.deviceName)\n      res.fieldsEntity = res.entity?.fields\n      res.field = itemField(res.fieldsEntity, data.typeAction)\n      res.fieldvalue = res.entity?.value[res.field?.name]\n    }\n    else if(data.typeItem === \"group\")\n    {\n      res.entity = getGroup(data.deviceName)\n      res.fieldsEntity = res.entity?.fields\n      res.field = itemField(res.fieldsEntity, data.typeAction)\n      res.fieldvalue = getGroupValue(res.entity, res.field?.name)\n    }\n    if(!res.entity || !res.fieldsEntity || !res.field)\n      res.disabled = true\n    if(res.entity?.status && res.entity?.status!==\"online\")\n      res.disabled = true\n    return res\n  },[getDevice, getGroupValue, itemField, getGroup])\n  return {convert}\n}\n","import React,{useContext} from 'react'\nimport {ModalWindow} from '../modalWindow/modalWindow'\nimport {BtnElement} from './CartElement/BtnElement'\nimport {EditModeContext} from '../../context/EditMode'\nimport {CartEditContext} from './EditCarts/CartEditContext'\nimport {SliderElement} from './CartElement/SliderElement'\nimport {SensorElement} from './CartElement/SensorElement'\nimport {EnumElement} from './CartElement/EnumElement'\nimport {ScriptElement} from './CartElement/ScriptElement'\nimport {WeatherElement} from './CartElement/WeatherElement'\nimport {TimeElement} from './CartElement/TimeElement'\nimport {CalendarElement} from './CartElement/CalendarElement'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useControlData} from '../../hooks/controlData.hook'\n\nconst COLUMNS = 4\nexport const HomebaseCart = ({hide,index,name,updata,data,edit=false,add}) =>{\n  const {message} = useMessage();\n  const {convert} = useControlData();\n  const {mode} = useContext(EditModeContext)\n  const {target} = useContext(CartEditContext)\n  let column = 1\n  let row = 1\n  let mapCart = []\n\n  function sort(array) {\n    let arr = array.slice()\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].index = i\n    }\n    for (let i = arr.length - 1; i > 0; i--) {\n      for (let j = 0; j < i; j++) {\n        if(arr[j].order>arr[j+1].order){\n          [arr[j],arr[j+1]] = [arr[j+1],arr[j]]\n        }\n      }\n    }\n    return arr\n  }\n\n  function isPosition(x,y,width=1,height=1) {\n    for (var i = 0; i < width; i++) {\n      for (var j = 0; j < height; j++) {\n        for (var pos of mapCart) {\n          if(pos.x===(x+i)&&pos.y===(y+j))\n            return true\n        }\n      }\n    }\n\n    return false\n  }\n\n  function inBoundaries(x,width) {\n    return COLUMNS-(x-1)<width\n  }\n\n  const deleteElement=(index1)=>{\n    message(\"Удалить?\", \"dialog\", async()=>{\n      let mas = data.children.slice();\n      let newBtns = mas.filter((item, index2)=>index2!==index1)\n      updata(index,{...data,children:newBtns})\n    },\"no\")\n  }\n\n  const editElement = (index1,data1)=>{\n    if(!data1||!data1.order||!data1.width||!data1.height)\n      return\n    let mas = data.children.slice();\n    mas[index1].order=Number(data1.order)\n    mas[index1].width=Number(data1.width)\n    mas[index1].height=Number(data1.height)\n    updata(index,{...data,children:mas})\n  }\n\n  const splitType = (type)=>{\n    return type.split(\"-\")\n  }\n\n  return(\n    <ModalWindow\n     position=\"relative\"\n     hide={\n       (mode)?()=>{\n         hide(index)\n       }:null\n     }\n     userBtn={\n       (mode)?\n       ()=>target(\"base\",{...data,index},updata):null\n     }\n     z={3}\n     top={0}\n     left={0}\n     title={name}\n     moving={false}\n     heightToolbar={30}>\n      <ul className=\"elementConteiner\">\n      {\n        (data&&data.children)?\n        sort(data.children).map((item,indexbtn)=>{\n\n          if(indexbtn === 0){\n            column = 1\n            row = 1\n          }\n          do {\n            if(inBoundaries(column,item.width)){\n              column = 1\n              row += 1\n            }\n            if(isPosition(column,row,item.width,item.height)){\n              column += 1\n            }\n          } while(inBoundaries(column,item.width)||isPosition(column,row,item.width,item.height));\n\n          for (var i = column; i < column + item.width; i++) {\n            for (var j = row; j < row + item.height; j++) {\n              mapCart.push({x:i,y:j})\n            }\n          }\n          let start = column\n          let end = column + item.width\n          column += item.width\n          let ystart = row\n          let yend = row + item.height\n\n          return (\n            <li key={indexbtn} style={{\n              gridColumnStart:start,\n              gridColumnEnd:end,\n              gridRowStart:ystart,\n              gridRowEnd:yend,\n            }}>\n            {\n              (item.type===\"button\")?\n              <BtnElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"slider\")?\n              <SliderElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (splitType(item.type)[0]===\"sensor\")?\n              <SensorElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"script\")?\n              <ScriptElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"enum\")?\n              <EnumElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"weather\")?\n              <WeatherElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"time\")?\n              <TimeElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"date\")?\n              <CalendarElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              null\n            }\n            </li>\n          )\n        }):null\n      }\n      </ul>\n    </ModalWindow>\n  )\n}\n","import React,{useContext} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\n\nexport const BaseElement = ({children,deleteBtn,editBtn,index,data,onClick}) =>{\n  const {target} = useContext(CartEditContext)\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button-line\",{...data,index},editBtn)\n    }\n  }\n\n  return(\n    <div className=\"baseCartElement-line\">\n    {\n      (deleteBtn || editBtn)?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n      <div className=\"ElementLine\" onClick={onClick}>\n      {children}\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const BtnElement = ({children, data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(false)\n  const [switchMode, setSwitchMode] = useState(false)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(data?.field?.type===\"binary\"){\n      setSwitchMode(true)\n    }\n  },[data.field])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||data.disabled||!data.entity||data.entity.status===\"offline\")return\n    if(data.field.type===\"binary\"&&data?.fieldvalue){\n      if(data.fieldvalue===\"0\")\n        setValue(false)\n      if(data.fieldvalue===\"1\")\n        setValue(true)\n      if(data.entity?.typeConnect===\"mqtt\"&&(!/\\D/.test(data.fieldvalue)&&!/\\D/.test(data.field.low)&&!/\\D/.test(data.field.high))){\n        let poz = Number(data.fieldvalue)\n        let min = Number(data.field.low)\n        let max = Number(data.field.high)\n        if(poz>min&&poz<=max)\n          setValue(true)\n        else\n          setValue(false)\n      }\n    }\n    if(data.field.type===\"number\"&&data?.fieldvalue){\n      if(!data.data.action)data.data.action=\"0\"\n      if(data.data.action===data.fieldvalue)\n        setValue(true)\n      else\n        setValue(false)\n    }\n  },[onClick,data])\n\nconst changeHandler = (event)=>{\n  let oldvel = value\n  setValue((prev)=>!prev)\n  if(!switchMode){\n    setTimeout(()=>setValue(false),250)\n  }\n  if(typeof(onClick)===\"function\"){\n    onClick(event, !oldvel,setValue)\n  }\n\n  if(!data?.entity)\n    return\n  // if(data.typeAction===\"variable\")\n  //     return outValue(device.DeviceId,data.action)\n  if(data.data.typeAction===\"modeTarget\")\n      return outValue(\"target\")\n  if(data.field.type===\"binary\")\n      return outValue((oldvel)?0:1)\n  if(data.field.type===\"number\")\n      return outValue(data.data.action)\n  if(data.field.type===\"text\")\n      return outValue(data.data.action)\n  return outValue(data.data.action)\n}\n  if(!switchMode){\n    return(\n      <BaseElement onClick={changeHandler} deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n        <div className=\"icon icon-btn\">\n          <div className=\"circle\">\n            <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n          </div>\n        </div>\n        <p className=\"name\">{data.title}</p>\n        <p className=\"state\">{data.data.action}</p>\n      </BaseElement>\n    )\n  }\n\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n      <p className=\"name\">{data.title}</p>\n      <div className=\"control\">\n        <div className=\"right-control\">\n          <div className=\"custom1-checkbox\">\n            <div className={`custom1-inner ${(value)?\"active\":\"\"}`} onClick={(data.disabled)?()=>{}:changeHandler} disabled={data.disabled} >\n              <div className=\"custom1-toggle\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </BaseElement>\n  )\n}\n","import React,{useState,useContext,useEffect,useRef} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\n// import {RunText} from '../../runText'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const SliderElement = ({data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue] = useState(0)\n  const delay = useRef(null)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\")return\n    if(!data.fieldvalue)return ;\n    setValue(Number(data.fieldvalue))\n  },[onClick,data])\n\n  const changeHandler = (event)=>{\n    setValue(event.target.value)\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(event.target.value)\n    }, 200);\n  }\n\nif(!data.entity){\n  return null\n}\n\nreturn(\n  <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n      <p className=\"name\">{data.title}</p>\n      <div className=\"flex\">\n        <input\n        className=\"control-big\"\n        type=\"range\"\n        min={data.field?.low||0}\n        max={data.field?.high||100}\n        value={value}\n        onChange={changeHandler}\n        onInput={changeHandler}\n        disabled={data.disabled}\n        />\n        <div className=\"state\">{value}</div>\n      </div>\n  </BaseElement>\n)\n}\n","import React from 'react'\nimport {BaseElement} from './BaseElement'\n\nexport const SensorElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n\n  const getTypeField = ()=>{\n    if(!data?.field?.type)return \"text\"\n    return data.field.type\n  }\n\nif(!data.entity){\n  return null;\n}\nif(getTypeField()===\"text\"||getTypeField()===\"number\"){\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n        <p className= \"sensor-name\">{data.title}</p>\n        <p className= \"state\">{`${data.fieldvalue} ${data.field?.unit||\"\"}`}</p>\n    </BaseElement>\n  )\n}\nif(getTypeField()===\"binary\"){\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n        <p className= \"sensor-name\">{data.title}</p>\n        <div className=\"control\">\n          <p className= \"state\">{`${data.fieldvalue} ${data.field?.unit||\"\"}`}</p>\n        </div>\n    </BaseElement>\n  )\n}\nreturn (\n  <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n    <p className= \"sensor-name\">{data.title}</p>\n    <p className= \"state\">{`${data.fieldvalue} ${data.field?.unit||\"\"}`}</p>\n  </BaseElement>\n)\n}\n","import React,{useContext,useEffect} from 'react'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {BaseElement} from './BaseElement'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\nexport const ScriptElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const clickHandler = async()=>{\n    await request(`/api/script/run?name=${data.data.name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  }\n\n  return(\n    <BaseElement onClick={clickHandler} deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n      <div className=\"icon icon-btn\">\n        <div className=\"circle\">\n          <i className=\"far fa-file-alt\"></i>\n        </div>\n      </div>\n      <p className=\"name\">{data.data.name}</p>\n    </BaseElement>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const EnumElement = ({children, data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(data.fieldvalue)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||!data.fieldvalue||data.disabled||data.entity?.status===\"offline\")return;\n    setValue(data.fieldvalue)\n  },[data.fieldvalue, onClick, data.disabled, data.entity?.status])\n\nconst changeHandler = (event)=>{\n  setValue(event.target.value)\n  return outValue(event.target.value)\n}\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n      <div className=\"icon\">\n        <div className=\"circle\">\n          <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n        </div>\n      </div>\n        <p className=\"name\">{data.title}</p>\n\n        {\n          (data.field?.values)?\n          <select value={value} onChange={changeHandler} disabled={data.disabled}>\n          {\n            valuesDecod(data.field?.values).map((item,index2)=>{\n              return(\n                <option key={index2} value={item}>{item}</option>\n              )\n            })\n          }\n          </select>\n          :null\n        }\n    </BaseElement>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const TextElement = ({data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(\"\")\n  const [outvalue, setOutValue]=useState(\"\")\n  const [focus, setFocus] = useState(false)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(focus)\n      return;\n    if(!data.fieldvalue||data.disabled||data.entity?.status===\"offline\")return ;\n    setValue(data.fieldvalue)\n  },[focus,data])\n\nconst changeHandler = (event)=>{\n  setValue(event.target.value)\n  setOutValue(event.target.value)\n}\n\nconst outHandler = (event)=>{\n  return outValue(outvalue)\n}\n\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n      <div className=\"icon\">\n        <div className=\"circle\">\n          <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n        </div>\n      </div>\n        <p className=\"name\">{data.title}</p>\n        <div className=\"control\">\n          <input type=\"text\" onFocus={()=>setFocus(true)} onBlur={()=>setFocus(false)} value={value} onChange={changeHandler} disabled={data.disabled}/>\n          <input type=\"button\" onClick={outHandler} disabled={data.disabled} value=\"send\"/>\n        </div>\n    </BaseElement>\n  )\n}\n","import React,{useContext} from 'react'\nimport {ModalWindow} from '../modalWindow/modalWindow'\nimport {BtnElement} from './CartLineElement/BtnElement'\nimport {EditModeContext} from '../../context/EditMode'\nimport {CartEditContext} from './EditCarts/CartEditContext'\nimport {SliderElement} from './CartLineElement/SliderElement'\nimport {SensorElement} from './CartLineElement/SensorElement'\nimport {ScriptElement} from './CartLineElement/ScriptElement'\nimport {EnumElement} from './CartLineElement/EnumElement'\nimport {TextElement} from './CartLineElement/TextElement'\n// import {WeatherElement} from './CartElement/WeatherElement'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useControlData} from '../../hooks/controlData.hook'\n\nexport const HomeLineCart = ({hide,index,name,updata,data,edit=false,add}) =>{\n  const {message} = useMessage();\n  const {convert} = useControlData();\n  const {mode} = useContext(EditModeContext)\n  const {target} = useContext(CartEditContext)\n\n  function sort(array) {\n    let arr = array.slice()\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].index = i\n    }\n    for (let i = arr.length - 1; i > 0; i--) {\n      for (let j = 0; j < i; j++) {\n        if(arr[j].order>arr[j+1].order){\n          [arr[j],arr[j+1]] = [arr[j+1],arr[j]]\n        }\n      }\n    }\n    return arr\n  }\n\n  const deleteElement=(index1)=>{\n    message(\"Удалить?\", \"dialog\", async()=>{\n      let mas = data.children.slice();\n      let newBtns = mas.filter((item, index2)=>index2!==index1)\n      updata(index,{...data,children:newBtns})\n    },\"no\")\n  }\n\n  const splitType = (type)=>{\n    return type.split(\"-\")\n  }\n\n  const editElement = (index1,data1)=>{\n    if(!data1||!data1.order||!data1.width||!data1.height)\n      return\n    let mas = data.children.slice();\n    mas[index1].order=Number(data1.order)\n    mas[index1].width=Number(data1.width)\n    mas[index1].height=Number(data1.height)\n    updata(index,{...data,children:mas})\n  }\n\n\n  return(\n    <ModalWindow\n     position=\"relative\"\n     hide={\n       (mode)?()=>{\n         hide(index)\n       }:null\n     }\n     userBtn={\n       (mode)?\n       ()=>target(\"line\",{...data,index},updata):null\n     }\n     z={3}\n     top={0}\n     left={0}\n     title={name}\n     moving={false}\n     heightToolbar={30}>\n      <ul className=\"elementConteiner line\">\n      {\n        (data&&data.children)?\n        sort(data.children).map((item,index)=>{\n          return(\n            <li key={index}>\n              {\n                (item.type===\"button\")?\n                  <div className=\"line-el\">\n                    <BtnElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>:\n                  (item.type===\"enum\")?\n                  <div className=\"line-el\">\n                    <EnumElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>:\n                  (item.type===\"text\")?\n                  <div className=\"line-el\">\n                    <TextElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>:\n                  (item.type===\"slider\")?\n                  <div className=\"line-el\">\n                    <SliderElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>\n                  :(item.type===\"script\")?\n                  <div className=\"line-el\">\n                    <ScriptElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>\n                  :(splitType(item.type)[0]===\"sensor\")?\n                  <div className=\"line-el\">\n                    <SensorElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>\n                  :null\n              }\n            </li>\n          )\n        })\n        :null\n      }\n      </ul>\n    </ModalWindow>\n  )\n}\n","import {SHOW_EDITCART, HIDE_EDITCART} from '../../types'\n\nconst handlers={\n  [SHOW_EDITCART]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_EDITCART]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const cartEditReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {CartEditContext} from './CartEditContext'\nimport {cartEditReducer} from './CartEditReducer'\nimport {SHOW_EDITCART, HIDE_EDITCART} from '../../types'\n\nexport const CartEditState = ({children}) =>{\n  const [state, dispatch] = useReducer(cartEditReducer,{visible:false})\n\n  const show = (type = \"base\", cart = null ,OK = null) =>{\n    dispatch({\n      type:SHOW_EDITCART,\n      payload: {type,OK,cart}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_EDITCART,\n    })\n  }\n  const target = (type = \"base\", cart = null ,OK = null) =>{\n    if(state.visible){\n      hide()\n    }\n    else {\n      show(type,cart,OK)\n    }\n  }\n\n  return(\n    <CartEditContext.Provider\n    value={{show, hide, target,cartEdit: state}}>\n      {children}\n    </CartEditContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const AddControlContext = createContext()\n","import {SHOW_ADDCONTROL, HIDE_ADDCONTROL} from '../../types'\n\nconst handlers={\n  [SHOW_ADDCONTROL]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_ADDCONTROL]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const addControlReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {AddControlContext} from './AddControlContext'\nimport {addControlReducer} from './AddControlReducer'\nimport {SHOW_ADDCONTROL, HIDE_ADDCONTROL} from '../../types'\n\nexport const AddControlState = ({children}) =>{\n  const [state, dispatch] = useReducer(addControlReducer,{visible:false})\n\n  const show = (type = \"AddButton\" ,OK = null) =>{\n    dispatch({\n      type:SHOW_ADDCONTROL,\n      payload: {type,OK}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_ADDCONTROL,\n    })\n  }\n  const target = (type = \"AddButton\",OK = null) =>{\n    if(state.visible){\n      hide()\n    }\n    else {\n      show(type,OK)\n    }\n  }\n\n  return(\n    <AddControlContext.Provider\n    value={{show, hide, target,addControl: state}}>\n      {children}\n    </AddControlContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const ScriptContext = createContext()\n","import React, {useContext} from 'react'\nimport {ScriptContext} from '../../../../context/ScriptContext'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nexport const ScriptPage = ({hide, next, back})=>{\n  const {scripts} = useContext(ScriptContext)\n\n  const transformation = ()=>scripts.map(item=>({\n    title:item.name,\n    data:item\n  }))\n\n  return (\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a device.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(scripts)}/>\n  )\n}\n","import React from 'react'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = [\n  {title:\"device\", data:\"device\"},\n  {title:\"group\", data:\"group\"}\n]\n\nexport const Page2 = ({type ,next, back, hide})=>{\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a item.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={types}/>\n  )\n}\n","import React, {useContext,useState} from 'react'\nimport {SocketContext} from '../../../../context/SocketContext'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtred(data, typeField) {\n  if(typeField === \"sensor\")\n    return data\n  let condidats = data.filter(item=>item.type!==\"sensor\")\n  let filtredData = []\n  for (var item of condidats) {\n    for (var item2 of item.fields) {\n      if(item2.control && typeField in types && types[typeField].indexOf(item2.type) !== -1){\n        filtredData.push(item)\n        break\n      }\n    }\n  }\n  return filtredData\n}\n\nexport const Page3Device = ({type ,next, back, hide})=>{\n  const {devices} = useContext(SocketContext)\n  const [allDevices] = useState(filtred(devices, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a device.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allDevices)}/>\n  )\n}\n","import React, {useState} from 'react'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtredField(data, typeField) {\n  let condidats = data.fields\n  if(typeField === \"sensor\")\n    return condidats\n  return condidats.filter(item=>(item.control && typeField in types && types[typeField].indexOf(item.type) !== -1))\n}\n\nexport const Page4Device = ({type ,next, device, back, hide})=>{\n  const [allField] = useState(filtredField(device, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a device.\"\n    title=\"adds element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allField)}/>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Page5Device = ({field ,next, back, hide})=>{\n  const [number, setNumber] = useState(0)\n  const [text, setText] = useState('')\n\n  const values = ()=>{\n    let arr = field.values.split(',')\n    arr = arr.map(item=>item.trim())\n    return arr\n  }\n\n  if(field.type === \"number\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" min={Number(field.low)} max={Number(field.high)} onChange={(v)=>setNumber(v.target.value)} required type=\"number\" value={number||0}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(number)} disabled={number===null}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"text\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" onChange={(v)=>setText(v.target.value)} required type=\"text\" value={text||\"\"}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"enum\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <select onChange={(v)=>setText(v.target.value)} required value={text||values()[0]}>\n          {\n            values().map((item, index)=>(\n              <option key={index} value={item}>{item}</option>\n            ))\n          }\n          </select>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useContext,useState, useEffect} from 'react'\nimport {GroupsContext} from '../../../Groups/groupsContext'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtred(data, typeField) {\n  if(typeField === \"sensor\")\n    return data\n  let condidats = data.filter(item=>item.type!==\"sensor\")\n  let filtredData = []\n  for (var item of condidats) {\n    for (var item2 of item.fields) {\n      if(item2.control && typeField in types && types[typeField].indexOf(item2.type) !== -1){\n        filtredData.push(item)\n        break\n      }\n    }\n  }\n  return filtredData\n}\n\nexport const Page3Group = ({type ,next, back, hide})=>{\n  const {groups, updata} = useContext(GroupsContext)\n  const [allGroups] = useState(filtred(groups, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  useEffect(()=>{\n    updata()\n  },[updata])\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a group.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allGroups)}/>\n  )\n}\n","import React, {useState} from 'react'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtredField(data, typeField) {\n  let condidats = data.fields\n  if(typeField === \"sensor\")\n    return condidats\n  return condidats.filter(item=>(item.control && typeField in types && types[typeField].indexOf(item.type) !== -1))\n}\n\nexport const Page4Group = ({type ,next, device, back, hide})=>{\n  const [allField] = useState(filtredField(device, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a groups.\"\n    title=\"adds element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allField)}/>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Page5Group = ({field ,next, back, hide})=>{\n  const [number, setNumber] = useState(0)\n  const [text, setText] = useState('')\n\n  const values = ()=>{\n    let arr = field.values.split(',')\n    arr = arr.map(item=>item.trim())\n    return arr\n  }\n\n  if(field.type === \"number\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" min={Number(field.low)} max={Number(field.high)} onChange={(v)=>setNumber(v.target.value)} required type=\"number\" value={number||0}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(number)} disabled={number===null}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"text\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" onChange={(v)=>setText(v.target.value)} required type=\"text\" value={text||\"\"}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"enum\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <select onChange={(v)=>setText(v.target.value)} required value={text||values()[0]}>\n          {\n            values().map((item, index)=>(\n              <option key={index} value={item}>{item}</option>\n            ))\n          }\n          </select>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Page6 = ({field ,next, back, hide})=>{\n  const [text, setText] = useState('')\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" onChange={(v)=>setText(v.target.value)} required type=\"text\" value={text||\"\"}></input>\n          <label>title</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useContext,useState} from 'react'\nimport {AddControlContext} from './AddControlContext'\nimport {ScriptPage} from './Control/scriptPage'\nimport {Page2} from './Control/page2'\nimport {Page3Device} from './Control/page3device'\nimport {Page4Device} from './Control/page4device'\nimport {Page5Device} from './Control/page5device'\nimport {Page3Group} from './Control/page3group'\nimport {Page4Group} from './Control/page4group'\nimport {Page5Group} from './Control/page5group'\nimport {Page6} from './Control/page6'\nimport {ConfirmationDialog} from '../../dialogWindow/dialogType/confirmationDialog'\n\nconst cardBaseElement = [\n  {\n    title:\"button\",\n    data:\"button\"\n  },\n  {\n    title:\"script\",\n    data:\"script\"\n  },\n  {\n    title:\"slider\",\n    data:\"slider\"\n  },\n  {\n    title:\"monitor\",\n    data:\"sensor\"\n  },\n  {\n    title:\"enum\",\n    data:\"enum\"\n  },\n  {\n    title:\"weather\",\n    data:\"weather\"\n  },\n  {\n    title:\"time\",\n    data:\"time\"\n  },\n  {\n    title:\"calendar\",\n    data:\"date\"\n  }\n]\n\nconst cardLineElement = [\n  {\n    title:\"button\",\n    data:\"button\"\n  },\n  {\n    title:\"script\",\n    data:\"script\"\n  },\n  {\n    title:\"slider\",\n    data:\"slider\"\n  },\n  {\n    title:\"monitor\",\n    data:\"sensor\"\n  },\n  {\n    title:\"enum\",\n    data:\"enum\"\n  },\n  {\n    title:\"text\",\n    data:\"text\"\n  },\n]\n\nconst weather = {\n  name:\"weather\",\n  type:\"weather\",\n  order:0,\n  typeItem:\"system\",\n  width:1,\n  height:1\n}\n\nconst time = {\n  name:\"time\",\n  type:\"time\",\n  order:0,\n  typeItem:\"system\",\n  width:2,\n  height:1\n}\n\nconst date = {\n  name:\"date\",\n  type:\"date\",\n  order:0,\n  typeItem:\"system\",\n  width:2,\n  height:2\n}\n\nexport const AddControl = ()=>{\n  const {addControl, hide} = useContext(AddControlContext)\n  const [typeChild, setTypeChild] = useState(\"\");\n  const [device, setDevice] = useState(null);\n  const [action, setAction] = useState(null);\n  const [field, setField] = useState(null);\n  const [item, setItem] = useState(\"device\");\n  const [page, setPage] = useState(1);\n\n  const close = ()=>{\n    hide()\n    setTypeChild(\"\")\n    setDevice(null)\n    setField(null)\n    setPage(1)\n  }\n\n  const addElement = (t)=>{\n    if(addControl.OK){\n      addControl.OK(t)\n    }\n    close()\n  }\n\n  const addScript = (data)=>({\n    height: 1,\n    name: data.name,\n    order: 0,\n    type: \"script\",\n    typeItem: \"script\",\n    title:'',\n    width: 1\n  })\n\n  const addDevField = (data)=>({\n    height: 1,\n    name: device.name,\n    deviceName:device.systemName,\n    order: 0,\n    type: typeChild,\n    typeItem: item,\n    width: 1,\n    title:'',\n    typeAction:data.name\n  })\n\n  const addDevFieldAction = (data)=>({...addDevField(field), action:data})\n\n  if(!addControl.visible){\n    return null;\n  }\n\n  if(page === 1){\n    return(\n      <ConfirmationDialog\n      hide={close}\n      text=\"choose the element type.\"\n      title=\"add element\"\n      active={(data)=>{\n        if(data===\"weather\")\n          addElement(weather)\n        else if(data===\"time\")\n          addElement(time)\n        else if(data===\"date\")\n          addElement(date)\n        else{\n          setTypeChild(data)\n          setPage(2)\n        }\n      }}\n      activeText=\"NEXT\"\n      items={(addControl.type===\"AddElement\")?cardBaseElement:cardLineElement}\n      />\n    )\n  }\n  if(typeChild===\"script\"){\n    return(\n      <ScriptPage\n      hide={close}\n      next={(data)=>{\n        addElement(addScript(data))\n      }}\n      back={()=>setPage(1)}\n      />\n    )\n  }\n  if(page === 2){\n    return(\n      <Page2\n      hide={close}\n      type={typeChild}\n      back={()=>setPage(1)}\n      next={(data)=>{\n        setItem(data)\n        setPage(3)\n      }}\n      />\n    )\n  }\n  if(item === \"device\"){\n    if(page === 3){\n      return(\n        <Page3Device\n        hide={close}\n        type={typeChild}\n        back={()=>setPage(2)}\n        next={(data)=>{\n          setDevice(data)\n          setPage(4)\n        }}\n        />\n      )\n    }\n\n    if(page === 4){\n      return(\n        <Page4Device\n        hide={close}\n        type={typeChild}\n        device={device}\n        back={()=>setPage(3)}\n        next={(data)=>{\n          if(typeChild === \"sensor\")\n            {\n              setField(data)\n              // addDevField(data)\n              setPage(6)\n            }\n          else if(typeChild === \"button\" && data.type !== \"binary\"){\n            setPage(5)\n            setField(data)\n          }\n          else{\n            setField(data)\n            // addDevField(data)\n            setPage(6)\n          }\n        }}\n        />\n      )\n    }\n\n    if(page === 5){\n      return(\n        <Page5Device\n        next={(data)=>{\n          // addDevFieldAction(data)\n          setAction(data)\n          setPage(6)\n        }}\n        hide={close}\n        back={()=>setPage(4)}\n        field={field}\n        />\n      )\n    }\n  }\n  else{\n    if(page === 3){\n      return(\n        <Page3Group\n        hide={close}\n        type={typeChild}\n        back={()=>setPage(2)}\n        next={(data)=>{\n          setDevice(data)\n          setPage(4)\n        }}\n        />\n      )\n    }\n\n    if(page === 4){\n      return(\n        <Page4Group\n        hide={close}\n        type={typeChild}\n        device={device}\n        back={()=>setPage(3)}\n        next={(data)=>{\n          if(typeChild === \"sensor\")\n            {\n              setField(data)\n              // addDevField(data)\n              setPage(6)\n            }\n          else if(typeChild === \"button\" && data.type !== \"binary\"){\n            setPage(5)\n            setField(data)\n          }\n          else{\n            setField(data)\n            // addDevField(data)\n            setPage(6)\n          }\n        }}\n        />\n      )\n    }\n\n    if(page === 5){\n      return(\n        <Page5Group\n        next={(data)=>{\n          // addDevFieldAction(data)\n          setAction(data)\n          setPage(6)\n        }}\n        hide={close}\n        back={()=>setPage(4)}\n        field={field}\n        />\n      )\n    }\n  }\n  if(page === 6){\n    return(\n      <Page6\n      next={(data)=>{\n        let val\n        if(action)\n          val = addDevFieldAction(action)\n        else\n          val = addDevField(field)\n        val = {...val, title: data}\n        addElement(val)\n      }}\n      hide={close}\n      back={()=>setPage(4)}\n      field={field}\n      />\n    )\n  }\n\n\n  return(null)\n}\n","import React,{useContext,useState,useEffect} from 'react'\nimport {CartEditContext} from '../CartEditContext'\nimport {AddControlContext} from '../../AddControl/AddControlContext'\n\nexport const BaseCartEdit = ({type=\"base\"}) =>{\n  const {cartEdit, hide} = useContext(CartEditContext)\n  const {show} = useContext(AddControlContext)\n  const [cart ,setCart] = useState({\n    mainId:null,\n    id:null,\n    name:\"\",\n    type:\"base\",\n    order:0,\n    children:[],\n    width:1\n  })\n\n  useEffect(()=>{\n    if(cartEdit.cart)\n      setCart({\n        mainId:cartEdit.cart.mainId,\n        id:cartEdit.cart.id,\n        name:cartEdit.cart.name,\n        type:cartEdit.cart.type,\n        order:cartEdit.cart.order,\n        children:cartEdit.cart.children,\n        width:cartEdit.cart.width\n      })\n  },[cartEdit])\n\n  const changeHandler = event => {\n    setCart({ ...cart, [event.target.name]: event.target.value })\n  }\n\n  const outHandler = ()=>{\n    if(typeof(cartEdit.OK)!==\"function\")\n      return;\n    cartEdit.OK(cartEdit.cart.index,cart)\n    hide()\n  }\n\n  const addElement = ()=>show(\n  (type===\"line\")?\n  \"AddLineElement\":\n  \"AddElement\",\n  async(btn)=>{\n    let mas = cart.children.slice();\n    mas.push(btn)\n    cartEdit.OK(cartEdit.cart.index,{...cart,children:mas})\n    hide()\n  })\n\n  return(\n    <>\n      <div className=\"backGlass\" onClick={hide}></div>\n      <div className=\"dialogCoteiner\">\n        <div className=\"dialogHeader\">Edit card</div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogBody\">\n          <div className=\"input-data\">\n            <input name=\"name\" onChange={changeHandler} required type=\"text\" value={(cart)?cart.name:\"\"}></input>\n            <label>name</label>\n          </div>\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"name\" min={0} max={500} onChange={(v)=>setCart({...cart,order:v.target.value})} required type=\"number\" value={cart.order||0}></input>\n            <label>order</label>\n          </div>\n        </div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogFooter\">\n          <button className=\"dialogButton button normalSelection\" onClick={addElement}>add Element</button>\n          <button className=\"dialogButton button highSelection\" onClick={outHandler}>save</button>\n        </div>\n      </div>\n    </>\n  )\n\n  // return(\n  //   <BackForm onClick={hide}>\n  //   <ModalWindow hide={hide} title=\"Edit Cart\" moving={false} backForm={true} style={{width:\"400px\",left:\"50%\",transform: \"translateX(-50%)\", top:\"100px\",maxHeight:\"calc(100% - 200px)\"}}>\n  //     <div className=\"editcart-conteiner\">\n  //       <p>сontainer ID: {cartEdit.cart.id}</p>\n  //       <div className=\"editcart-element\">\n  //         <p>сontainer name</p>\n  //         <input type=\"text\" value={(cart)?cart.name:\"\"} name=\"name\" onChange={changeHandler}/>\n  //       </div>\n  //       <div className=\"editcart-element\">\n  //         <p>button priority</p>\n  //         <InputNumber Xten={false} Value={cartEdit.cart.order||\"0\"} result={(v)=>setCart({...cart,order:v})} min={0} max={500}/>\n  //       </div>\n  //       <button onClick = {()=>show(\n  //         (type===\"line\")?\n  //         \"AddLineButton\":\n  //         \"AddButton\",\n  //         async(btn)=>{\n  //               let mas = cart.children.slice();\n  //               mas.push(btn)\n  //               cartEdit.OK(cartEdit.cart.index,{...cart,children:mas})\n  //               hide()\n  //           })}>Add Control Element</button>\n  //       <button onClick = {outHandler}>Ок</button>\n  //     </div>\n  //   </ModalWindow>\n  //   </BackForm>\n  // )\n\n}\n","import React,{useContext,useState} from 'react'\nimport {CartEditContext} from '../CartEditContext'\n\nexport const ElementEdit = ({type}) =>{\n  const {cartEdit, hide} = useContext(CartEditContext)\n  const [butonConf ,setButonConf] = useState({\n    order:String(cartEdit.cart.order),\n    width:cartEdit.cart.width,\n    height:cartEdit.cart.height\n  })\n\n  const outHandler = ()=>{\n    if(typeof(cartEdit.OK)!==\"function\")\n      return;\n    cartEdit.OK(cartEdit.cart.index,butonConf)\n    hide()\n  }\n\n  return(\n    <>\n      <div className=\"backGlass\" onClick={hide}></div>\n      <div className=\"dialogCoteiner\">\n        <div className=\"dialogHeader\">Edit card</div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogBody\">\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"order\" min={0} max={500} onChange={(v)=>setButonConf({...butonConf,order:v.target.value})} required type=\"number\" value={butonConf.order||0}></input>\n            <label>order</label>\n          </div>\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"width\" min={1} max={4} onChange={(v)=>setButonConf({...butonConf,width:v.target.value})} required type=\"number\" value={butonConf.width||1}></input>\n            <label>width</label>\n          </div>\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"height\" min={1} max={4} onChange={(v)=>setButonConf({...butonConf,height:v.target.value})} required type=\"number\" value={butonConf.height||1}></input>\n            <label>height</label>\n          </div>\n        </div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogFooter\">\n          <button className=\"dialogButton button highSelection\" onClick={outHandler}>save</button>\n        </div>\n      </div>\n    </>\n  )\n\n  // return(\n  //   <BackForm onClick={hide}>\n  //   <ModalWindow hide={hide} title=\"Edit Cart\" moving={false} backForm={true} heightToolbar={30} styleContent={{height:\"calc(100% - 30px\"}} style={{width:\"400px\",height:\"calc(100% - 200px)\",left:\"50%\",transform: \"translateX(-50%)\", top:\"100px\",}}>\n  //     <div className=\"editcart-conteiner\">\n  //       <div className=\"editcart-element\">\n  //         <p>button priority</p>\n  //         <InputNumber Xten={false} Value={cartEdit.cart.order} result={(v)=>setButonConf({...butonConf,order:v})} min={0} max={500}/>\n  //       </div>\n  //       {\n  //         (type!==\"button-line\")?\n  //         <>\n  //         <div className=\"editcart-element\">\n  //           <p>width</p>\n  //           <InputNumber Xten={false} Value={cartEdit.cart.width} result={(v)=>setButonConf({...butonConf,width:v})} min={1} max={4}/>\n  //         </div>\n  //         <div className=\"editcart-element\">\n  //           <p>height</p>\n  //           <InputNumber Xten={false} Value={cartEdit.cart.height} result={(v)=>setButonConf({...butonConf,height:v})} min={1} max={4}/>\n  //         </div>\n  //         </>\n  //         :null\n  //       }\n  //       <button onClick = {outHandler}>Ок</button>\n  //     </div>\n  //   </ModalWindow>\n  //   </BackForm>\n  // )\n}\n","import React,{useContext} from 'react'\nimport {CartEditContext} from './CartEditContext'\nimport {BaseCartEdit} from './CartEditType/BaseCart'\nimport {ElementEdit} from './CartEditType/Element'\n\nexport const CartEdit = () =>{\n  const {cartEdit} = useContext(CartEditContext)\n\n  if(!cartEdit.visible||!cartEdit.type){\n    return null;\n  }\n\n  if(cartEdit.type===\"base\"){\n    return(\n      <BaseCartEdit/>\n    )\n  }\n  if(cartEdit.type===\"line\"){\n    return(\n      <BaseCartEdit type=\"line\"/>\n    )\n  }\n  if(cartEdit.type===\"button\"){\n    return(\n      <ElementEdit/>\n    )\n  }\n  if(cartEdit.type===\"button-line\"){\n    return(\n      <ElementEdit type=\"button-line\"/>\n    )\n  }\n  return null;\n\n}\n","import React,{useState,useEffect,useContext,useCallback,useRef} from 'react'\nimport {HomebaseCart} from '../components/homeCarts/homeBaseCart'\nimport {HomeLineCart} from '../components/homeCarts/homeLineCart'\nimport {EditModeContext} from '../context/EditMode'\nimport {DialogWindowContext} from '../components/dialogWindow/dialogWindowContext'\nimport {CartEditState} from '../components/homeCarts/EditCarts/CartEditState'\nimport {AddControlState} from '../components/homeCarts/AddControl/AddControlState'\nimport {AddControl} from '../components/homeCarts/AddControl/AddControl'\nimport {CartEdit} from '../components/homeCarts/EditCarts/CartEdit'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {UserContext} from '../context/UserContext.js'\nimport {ScriptContext} from '../context/ScriptContext.js'\nimport {Loader} from '../components/Loader'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nconst cardsList = [\n  {\n    title:\"base card\",\n    data:\"base\"\n  },\n  {\n    title:\"list card\",\n    data:\"line\"\n  },\n]\n\nexport const HomePage = () => {\n\nconst [editMode, setEditMode] = useState(false);\nconst [carts, setCarts] = useState([])\nconst [sortedCarts, setSortedCarts] = useState([])\nconst auth = useContext(AuthContext)\nconst {setData} = useContext(MenuContext)\nconst {page, getData} = useContext(UserContext)\nconst {show, hide} = useContext(DialogWindowContext)\nconst {message} = useMessage();\nconst {request, error, clearError} = useHttp();\nconst conteiner = useRef(null)\nconst [scripts, setScripts] = useState({})\nconst [pages, setPages] = useState([])\n\nfunction sort(array) {\n  let arr = array.slice()\n  for (var i = 0; i < arr.length; i++) {\n    arr[i].index = i\n  }\n  for (let i = arr.length - 1; i > 0; i--) {\n    for (let j = 0; j < i; j++) {\n      if(arr[j].order>arr[j+1].order){\n        [arr[j],arr[j+1]] = [arr[j+1],arr[j]]\n      }\n    }\n  }\n  return arr\n}\n\nconst addCart = useCallback((type=\"base\")=>{\n  hide()\n  setEditMode(true)\n  let newCart = {\n    // mainId:null,\n    name:\"\",\n    order:\"0\",\n    type:type,\n    children:[],\n    width:2\n  }\n  setCarts((prev)=>{\n    let mas = prev.slice();\n    mas.push(newCart)\n    return mas;\n  })\n},[hide])\n\nconst removeCart = useCallback((index)=>{\n  show(\"alert\",{\n    title: \"delete card\",\n    text: \"delete card?\",\n    buttons:[{\n      title:\"yes\",\n      action:()=>{\n        setCarts(prev=>prev.filter((item, index2)=>index2!==index))\n      }\n    },{\n      title:\"no\",\n      active:hide\n    }]\n  })\n},[show,hide])\n\nconst updataCart = useCallback((index,cart)=>{\n  setCarts(prev=>prev.map((item,index2)=>{\n    if(index2 === index)\n      return cart\n    return item\n  }))\n},[])\n\nconst saveCarts = useCallback(()=>{\n  try {\n    request('/api/homePage/set', 'POST', {name:page,cards:carts},{Authorization: `Bearer ${auth.token}`})\n  } catch (e) {\n    console.error(e);\n  }\n},[carts, auth.token,request,page])\n\nconst getAllPages = useCallback(async()=>{\n  try{\n    const data2 = await request(`/api/server/config/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setPages(data2.pages)\n  }\n  catch (e) {\n    console.error(e);\n  }\n},[request,auth.token])\n\nconst importCarts = useCallback(async()=>{\n  if(page){\n    try {\n      const data = await request(`/api/homePage/get/${page}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      setCarts(data.cards)\n    }\n    catch (e) {\n      console.error(e);\n    }\n    getAllPages()\n    try{\n      const data3 = await request(`/api/script/all`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      await setScripts(data3);\n    }\n    catch (e) {\n      console.error(e);\n    }\n  }\n},[request,auth.token,page,getAllPages])\n\nconst addPage = useCallback(async(name)=>{\n  await request(`/api/homePage/add?name=${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  setTimeout(()=>{\n    // getAllPages()\n    getData()\n  },0)\n},[request,auth.token,getData])\n\nconst changePage = useCallback(async(data)=>{\n  await request(`/api/user/page/set?page=${data}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  hide()\n  setTimeout(()=>{\n    getData()\n  },0)\n},[request, getData, auth.token, hide])\n\nconst deletePage = useCallback(async(name)=>{\n  await request(`/api/homePage/delete?name=${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  setTimeout(()=>{\n    getData()\n  },0)\n},[request,auth.token,getData])\n\nconst getPages= useCallback(()=>{\n  let arr = pages.map((item)=>{\n    let b = {\n      title:item,\n    }\n    if(page === item)\n      b.active = true\n    else\n      b.onClick = ()=>changePage(item)\n    return b\n  })\n  return arr\n},[pages,changePage,page])\n\nconst getdopMenu= useCallback(()=>{\n  let arr = [\n    {\n      title: (editMode)?\"save\":\"edit\",\n      onClick:()=>{\n        if(editMode){\n          saveCarts()\n          setEditMode(false)\n        }else{\n          setEditMode(true)\n        }\n      }\n    },{\n      title: \"add card\",\n      onClick: ()=>show(\"confirmation\",{\n        title:\"Add card\",\n        items:cardsList,\n        active: addCart\n      })\n    },{\n      type: \"dividers\"\n    },{\n      title: \"pages\",\n      sub:getPages()\n    },{\n      title: \"create page\",\n      onClick: ()=>show(\"text\",{\n        title:\"New page\",\n        text:\"input name newPage\",\n        placeholder:\"name\",\n        active: (d)=>{\n          addPage(d)\n        }\n      })\n    }\n  ]\n  if(page !== 'basePage')\n  {\n    arr.push({\n      title: \"delete page\",\n      onClick: ()=>show(\"alert\",{\n        title:\"Delete page\",\n        text:\"delete page?\",\n        buttons:[\n          {\n            title:\"ok\",\n            action:()=>{\n              deletePage(page)\n              hide()\n            }\n          },\n          {\n            title:\"cancel\",\n            action:hide\n          },\n        ]\n      })\n    })\n  }\n  return arr\n},[page,deletePage,addPage,show,hide,addCart,saveCarts,editMode,getPages])\n\nuseEffect(()=>{\n  message(error,\"error\")\n  return ()=>{\n    clearError();\n  }\n},[error,message, clearError])\n\nuseEffect(()=>{\n  importCarts()\n},[importCarts])\n\nuseEffect(()=>{\n  setData(\"Home\",{\n    dopmenu:getdopMenu()\n  })\n},[setData,editMode, getdopMenu,addCart,getPages, saveCarts,show,addPage, changePage])\n\nconst sortCard = useCallback((data,width)=>{\n  let column = 3\n  let i = 0\n  if(width < 1300)\n    column = 2\n  if(width < 900){\n    i=0\n    column = 1\n  }\n  let arr = []\n  for (var p = 0; p < column; p++) {\n    arr.push([])\n  }\n  let sortdata = sort(data)\n  for (var j = 0; j < sortdata.length; j++) {\n    let item = sortdata[j]\n    if(arr[i]){\n      arr[i].push(item)\n      i++\n      if(i>=column)\n        i=0\n    }\n  }\n  setSortedCarts(arr)\n},[])\n\nuseEffect(()=>{\n  sortCard(carts,conteiner.current.clientWidth)\n},[sortCard,carts])\n\nuseEffect(()=>{\n  window.addEventListener(\"resize\",resizeThrottler)\n  var resizeTimeout;\n  function resizeThrottler(event) {\n    if ( !resizeTimeout ) {\n      resizeTimeout = setTimeout(function() {\n        resizeTimeout = null;\n        sortCard(carts,event.target.innerWidth)\n       }, 66);\n    }\n  }\n  return ()=>{\n    window.removeEventListener(\"resize\", resizeThrottler);\n  }\n},[sortCard,carts])\n\nif(carts===[]){\n  return(\n    <Loader/>\n  )\n}\n\n  return(\n    <EditModeContext.Provider value={{setMode:setEditMode, mode:editMode,add:addCart}}>\n    <ScriptContext.Provider value={{scripts:scripts}}>\n    <CartEditState>\n    <AddControlState>\n      <CartEdit/>\n      <AddControl/>\n      <div className = {`conteiner top home`}>\n        <div ref={conteiner} className = \"conteinerHome flexHome\">\n        {\n          sortedCarts.map((item,index)=>{\n            return(\n              <div key={index} className=\"home-column\">\n              {\n                item.map((item2,index2)=>{\n                  return(\n                    <div className = \"flexElement\" key={index2} style={{order:item2.order}}>\n                    {\n                      (item2.type===\"base\")?\n                      <HomebaseCart\n                      edit={editMode}\n                      hide={(i)=>removeCart(i)}\n                      updata={updataCart}\n                      index={item2.index}\n                      data = {item2}\n                      name={item2.name}\n                      />:\n                      (item2.type===\"line\")?\n                      <HomeLineCart\n                      edit={editMode}\n                      hide={(i)=>removeCart(i)}\n                      updata={updataCart}\n                      index={item2.index}\n                      data = {item2}\n                      name={item2.name}\n                      />\n                      :null\n                    }\n                    </div>\n                  )\n                })\n              }\n              </div>\n            )\n          })\n        }\n        </div>\n      </div>\n    </AddControlState>\n    </CartEditState>\n    </ScriptContext.Provider>\n    </EditModeContext.Provider>\n  )\n}\n","import React, {useState, useEffect, useContext} from 'react'\n// import {Link} from 'react-router-dom'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {DialogWindowContext} from '../components/dialogWindow/dialogWindowContext'\n\n\nexport const AuthPage = function (){\n  const auth = useContext(AuthContext)\n  const dialog = useContext(DialogWindowContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [form, setForm] = useState({\n    name: '', password: ''\n  });\n\n  useEffect(()=>{\n    message(error,\"general\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const changeHandler = event => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n\n  const loginHandler = async () => {\n    try {\n      const data = await request('/api/auth/login', 'POST', {...form})\n      if(data)\n        auth.login(data.token, data.userId, data.userLavel)\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\nconst newpass = ()=>{\n  dialog.show(\"text\",{\n    title:\"Password recovery\",\n    text:\"input login\",\n    placeholder:\"login\",\n    active:(data)=>{\n      request('/api/user/password/new', 'POST', {name:data})\n    }\n  })\n}\n\n  return(\n    <div className=\"row\">\n    <div className=\"title\">\n      <h1>Sing In Form</h1>\n    </div>\n    <div className=\"container-auth\">\n      <div className=\"left-auth\"></div>\n      <div className=\"right-auth\">\n          <div className={`formBox-auth`}>\n            <p>Name</p>\n            <input placeholder=\"Login\" id=\"name\" type=\"text\" name=\"name\" value={form.name} onChange={changeHandler} required/>\n            <p>Password</p>\n            <input placeholder=\"•••••••\" id=\"password\" type=\"password\" name=\"password\" value={form.password} onChange={changeHandler} required/>\n            <input type=\"submit\" onClick={loginHandler} disabled={loading} value=\"Sign In\"/>\n            <p onClick={newpass} style={{marginTop:\"5px\"}} className=\"liteButton\">забыли пароль?</p>\n          </div>\n      </div>\n    </div>\n    </div>\n  )\n}\n","\nconst getConfig = (device, key)=>{\n  if(!device) return null;\n  for (var item of device.fields) {\n    if(item.name === key){\n      return item\n    }\n  }\n}\n\nexport const getValue = (device, key)=>{\n  if(!device) return null;\n  let config = getConfig(device, key)\n  let val = device?.value[key]\n  if(config?.type === \"binary\"){\n    if(val === \"1\")\n      return true\n    else\n      return false\n  }\n  else\n    return val\n}\n\nexport const converHistorys = (data, fieldname)=>{\n  let newData = {data:[]}\n  newData.name = fieldname\n  for (var item of data) {\n    if(item.field === fieldname)\n    {\n      newData.type = item.type\n      newData.utils = item.utils\n      newData.deviceName = item.deviceName\n      if(item.type === \"binary\" || item.type === \"number\")\n        newData.data.push({y:Number(item.value),x:new Date(Number(item.datatime) * 1000)})\n      else if(newData.data.length === 0 || newData.data[newData.data.length - 1].y !== item.value)\n        newData.data.push({y:item.value,x:new Date(Number(item.datatime) * 1000)})\n    }\n  }\n  return newData\n}\n\nconst typeFieldToTypeChart = {\n  number:\"area\",\n  binary:\"stepArea\"\n}\n\nexport function dateFormat(date) {\n  const shortMonths = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ]\n  return `${date.getFullYear()}-${shortMonths[date.getMonth()]}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n}\n\nconst textColor = (fon)=>{\n  let color = \"gray\"\n  if (fon[0] === \"#\") {\n      fon = fon.slice(1);\n  }\n  var num = parseInt(fon,16);\n  var r = (num >> 16);\n  var b = ((num >> 8) & 0x00FF);\n  var g = (num & 0x0000FF);\n  if ((r < 200||g < 200||b < 200))\n  {\n    color=\"#fff\";\n  }\n  return color;\n}\n\nexport function getOption(data, style=null) {\n  let baseConf = {\n\t\t\ttheme: \"light2\",\n\t\t\tanimationEnabled: true,\n\t\t\t// exportEnabled: true,\n\t\t\ttitle:{\n\t\t\t\ttext: `${data.deviceName}-${data.name}`,\n\t\t\t},\n\t\t\taxisY:{\n\t\t\t\ttitle: data.utils||\"Value\",\n\t\t\t},\n      axisX:{\n        valueFormatString: \"DD-MM-YY HH:mm:ss\",\n        margin:5,\n      },\n\t\t\tdata: [{\n\t\t\t\ttype: typeFieldToTypeChart[data.type],\n\t\t\t\txValueFormatString: \"DDD HH:mm:ss\",\n\t\t\t\tmarkerSize: 5,\n\t\t\t\tdataPoints: data.data\n\t\t\t}]\n\t\t}\n  if(data.type===\"binary\"){\n    baseConf.axisY.interval = 1\n    baseConf.axisY.minimum = -0.02\n    baseConf.axisY.maximum = 1.02\n  }\n  if(style?.c2)\n  {\n    baseConf.backgroundColor = style?.c2\n    baseConf.axisY.labelFontColor = textColor(style?.c2)\n    baseConf.title.fontColor = textColor(style?.c2)\n    baseConf.axisX.labelFontColor = textColor(style?.c2)\n  }\n  return baseConf\n}\n","import React,{useContext, useState, useEffect, useRef} from 'react'\nimport {RunText} from '../../../components/runText'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {getValue} from './utils'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const Slider = ({device, item})=>{\n  const auth = useContext(AuthContext)\n  const delay = useRef(null)\n  const {request, error, clearError} = useHttp();\n  const {message} = useMessage();\n  const [value , setValue] = useState(getValue(device, item.name))\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(systemName,name,v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const changeHandler = (event)=>{\n    setValue(event.target.value)\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(device.systemName, item.name, event.target.value)\n    }, 200);\n  }\n\n  return (\n    <div className=\"slider-box\">\n      <RunText className=\"name RunTextBaseColor\" id={item.name} text={item.name}/>\n      <div className=\"slider\">\n        <input\n        type=\"range\"\n        min={Number(item.low||0)}\n        max={Number(item.high||100)}\n        value={value||0}\n        onChange={changeHandler}\n        onInput={changeHandler}\n        />\n      </div>\n      <div className=\"value\">{value||0}</div>\n    </div>\n  )\n}\n","import React, {useState, useEffect, useContext} from 'react'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {getValue} from './utils'\n\nexport const Text = ({device, item}) =>{\n  const [newvalue, setValue]=useState(getValue(device, item.name))\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = ()=>{\n    request('/api/device/value/set', 'POST', {systemName: device.systemName,type:item.name,status:newvalue},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n  }\n\n  return(\n    <div className=\"text-field\">\n      <div className=\"textfield-name\">\n        <p>{item.name||\"text\"}</p>\n      </div>\n      <div className=\"textfield\">\n        <input type=\"text\" value={newvalue} onChange={changeHandler}/>\n        <input type=\"button\" onClick={outValue} value=\"send\"/>\n      </div>\n    </div>\n  )\n}\n","import React, {useState,useContext,useEffect} from 'react'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {getValue} from './utils'\n\nexport const Enum = ({device, item}) =>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [newvalue, setValue]=useState(getValue(device, item.name))\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: device.systemName,type:item.name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n    outValue(event.target.value)\n  }\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{item.title||\"enum\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\">\n          <select value={newvalue} onChange={changeHandler}>\n          {\n            valuesDecod(item.values).map((item2,index)=>{\n              return(\n                <option key={index} value={item2}>{item2}</option>\n              )\n            })\n          }\n          </select>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import {createContext} from 'react'\n\nexport const StyleContext = createContext()\n","import React from 'react'\nimport {dateFormat} from './utils'\n\nexport const HistoryList = ({records, title}) => {\n\n  return(\n    <div className=\"historyList\">\n      <h3>{title||\"\"}</h3>\n      <ul>\n      {\n        records?.data?.map((item,index)=>{\n          return(\n            <li key={index}>\n            <p>{item.y}</p>\n            <p>{dateFormat(item.x)}</p>\n            </li>\n          )\n        })\n      }\n      </ul>\n    </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {CanvasJSChart} from 'canvasjs-react-charts'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {StyleContext} from '../../../components/UserStyle/StyleContext'\nimport {HistoryList} from './historyList'\nimport {converHistorys, getOption} from './utils'\n\nexport const History = ({device}) => {\n  const auth = useContext(AuthContext)\n  const {nawstyle} = useContext(StyleContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [history, setHistory] = useState([])\n  const [range, setrange] = useState(\"all\")\n  const [fieldname, setFieldname] = useState(device.fields[0].name)\n  const [field, setField] = useState(null)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const getHistory = useCallback(async ()=>{\n    let data = await request(`/api/device/history/get/${device.systemName}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    console.log(data);\n    if(data)\n      setHistory(data)\n  },[auth.token, request, device.systemName])\n\n  const filterTime = (data, time)=>{\n    let naw = new Date()\n    let newdata = {...data}\n    if(time===\"year\")\n      newdata.data = data.data.filter((item)=>item.x.getFullYear() === naw.getFullYear())\n    else if(time===\"month\")\n      newdata.data = data.data.filter((item)=>(item.x.getMonth() === naw.getMonth() && item.x.getFullYear() === naw.getFullYear()))\n    else if(time===\"day\")\n      newdata.data = data.data.filter((item)=>(item.x.getDate() === naw.getDate() && item.x.getMonth() === naw.getMonth() && item.x.getFullYear() === naw.getFullYear()))\n    return newdata\n  }\n\n  useEffect(()=>{\n    getHistory()\n  },[getHistory])\n\n  useEffect(()=>{\n    setField(converHistorys(history, fieldname))\n  },[fieldname, history])\n\n  return(\n    <div className=\"historyContainer\">\n      <div className=\"canvasContainer\">\n      {\n        (field?.type === \"binary\" || field?.type === \"number\")?\n        <CanvasJSChart options={getOption(filterTime(field, range), nawstyle)}/>\n        :<HistoryList records={filterTime(field, range)} title={field?.deviceName}/>\n      }\n      </div>\n      <div className=\"menuContainer\">\n        <div className=\"historySetingsContainer\">\n          <div className=\"SetingsBtn\">\n            <div className={(range===\"all\")?\"active\":\"\"} onClick={()=>setrange(\"all\")}>all</div>\n            <div className={(range===\"year\")?\"active\":\"\"} onClick={()=>setrange(\"year\")}>year</div>\n            <div className={(range===\"month\")?\"active\":\"\"} onClick={()=>setrange(\"month\")}>month</div>\n            <div className={(range===\"day\")?\"active\":\"\"} onClick={()=>setrange(\"day\")}>day</div>\n          </div>\n        </div>\n        <div className=\"fieldsList\">\n          <ul>\n            {\n              device?.fields?.map((item, index)=>{\n                return(\n                  <li key={index} className={(fieldname === item.name)?\"active\":\"\"} onClick={()=>setFieldname(item.name)}>\n                    {item.name}\n                  </li>\n                )\n              })\n            }\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React,{useContext, useEffect} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {getValue} from './utils'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const Btn = ({device, item})=>{\n  const auth = useContext(AuthContext)\n  const {request, error, clearError} = useHttp();\n  const {message} = useMessage();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(systemName,name,v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const togleField = (name)=>{\n    let val = device.value[name]\n    outValue(device.systemName, name, (val===\"1\")?0:1)\n  }\n\n  return (\n    <div onClick={()=>togleField(item.name)} className={`dopBlubButton ${(getValue(device,item.name))?\"activ\":\"\"}`}>\n      <i className={item.icon||\"far fa-lightbulb\"}></i>\n    </div>\n  )\n}\n","import React,{useContext, useState, useEffect, useRef} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useMessage} from '../../hooks/message.hook'\nimport {getValue} from './components/utils'\nimport {Slider} from './components/slider'\nimport {Text} from './components/text'\nimport {Enum} from './components/enum'\nimport {History} from './components/history'\nimport {Btn} from './components/btn'\n\nexport const LightPage = ({device})=>{\n  const auth = useContext(AuthContext)\n  const [value,setValue] = useState(false)\n  const blub = useRef(null)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const getBlub = (fields)=>fields?.filter((item)=>(item?.type === \"binary\" && item?.control === true && (item?.name?.toLowerCase()?.indexOf(\"state\") !== -1 || item?.name?.toLowerCase()?.indexOf(\"power\") !== -1)))\n\n  const otherBinary = (fields)=>fields?.filter((item)=>(item?.type === \"binary\" && item?.control === true && item?.name?.toLowerCase()?.indexOf(\"state\") === -1 && item?.name?.toLowerCase()?.indexOf(\"power\") === -1))\n\n  const textcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"text\" && item?.control === true))\n\n  const enumcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"enum\" && item?.control === true))\n\n  const sensors = (fields)=>fields?.filter((item)=>(item?.control === false))\n\n  const generalBlub = (fields)=>{\n    let blubs = getBlub(fields)||[]\n    let blubs2 = blubs.filter((item)=>(item?.name?.toLowerCase()?.indexOf(\"state\") === 0 || item?.name?.toLowerCase()?.indexOf(\"power\") === 0))\n    if(blubs2.length > 0)\n      return blubs2[0]\n    if(blubs.length > 0)\n      return blubs[0]\n    return null\n  }\n\n  const dopBlub = (fields)=>{\n    let blubs = getBlub(fields)\n    let blub = generalBlub(fields)\n    return blubs.filter((item)=>item.name !== blub.name)\n  }\n\n  const ranges = (fields)=>fields.filter((item)=>item.type === \"number\")\n\n  const outValue = async(systemName,name,v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const togleField = (name)=>{\n    let val = device.value[name]\n    outValue(device.systemName, name, (val===\"1\")?0:1)\n  }\n\n  useEffect(()=>{\n    let d = getValue(device, \"state\")\n    setValue(d)\n  },[device])\n\n  useEffect(()=>{\n    blub.current?.style.setProperty('--blub-on',\"#fff\")\n  },[])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className=\"deviceContainer\">\n      <div className=\"gridDeviceContainer\">\n      <div className=\"top-left\"></div>\n      <div className=\"topContainer top-center\">\n        {\n          [generalBlub(device.fields)]?.map((item,index)=>{\n            if(!item) return (null)\n            return(\n            <div key={index}>\n              <div className=\"blubContainer\">\n                <div onClick={()=>togleField(item.name)} ref={blub} className={`bulb ${(value)?\"on\":\"off\"}`}>\n                  <span></span>\n                  <span></span>\n                </div>\n              </div>\n              <p className=\"nameGeneralBlub\">{item.name}</p>\n            </div>\n            )\n          })\n        }\n      </div>\n      <div className=\"top-right\"></div>\n      {\n        (ranges(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">ranges field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              ranges(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"slider-container\">\n                    <Slider device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (dopBlub(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">blubs</div>\n          <div className=\"containerBlockcontent dopBlubContainer\">\n          {\n            dopBlub(device.fields).map((item, index)=>{\n              return (\n                <Btn device={device} key={index} item={item}/>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (otherBinary(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">switchs</div>\n          <div className=\"containerBlockcontent dopBlubContainer\">\n          {\n            otherBinary(device.fields).map((item, index)=>{\n              return (\n                <Btn device={device} key={index} item={item}/>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (textcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">text field</div>\n          <div className=\"containerBlockcontent\">\n          {\n            textcontrol(device.fields).map((item, index)=>{\n              return (\n                <div key={index} className=\"text-container\">\n                  <Text device={device} item={item}/>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (enumcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">enum field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              enumcontrol(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <Enum device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (sensors(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">sensors field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              sensors(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <div className=\"sensor-container\">\n                      <p className=\"name\">{item.name}</p>\n                      <p className=\"value\">{String(getValue(device,item.name))}</p>\n                    </div>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      </div>\n    <div className=\"HistoryBlock\">\n      <History device={device}/>\n    </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {getValue} from './components/utils'\nimport {Slider} from './components/slider'\nimport {Text} from './components/text'\nimport {Enum} from './components/enum'\nimport {Btn} from './components/btn'\nimport {History} from './components/history'\n\nexport const OtherDevicePage = ({device})=>{\n\n  const binaryControl = (fields)=>fields?.filter((item)=>(item?.type === \"binary\" && item?.control === true))\n\n  const ranges = (fields)=>fields.filter((item)=>(item.type === \"number\" && item?.control === true))\n\n  const textcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"text\" && item?.control === true))\n\n  const enumcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"enum\" && item?.control === true))\n\n  const sensors = (fields)=>fields?.filter((item)=>(item?.control === false))\n\n  return(\n    <div className=\"deviceContainer\">\n      <div className=\"gridDeviceContainer\">\n      {\n        (ranges(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">ranges field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              ranges(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"slider-container\">\n                    <Slider device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (binaryControl(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">switchs</div>\n          <div className=\"containerBlockcontent dopBlubContainer\">\n          {\n            binaryControl(device.fields).map((item, index)=>{\n              return (\n                <Btn device={device} item={item}/>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (textcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">text field</div>\n          <div className=\"containerBlockcontent\">\n          {\n            textcontrol(device.fields).map((item, index)=>{\n              return (\n                <div key={index} className=\"text-container\">\n                  <Text device={device} item={item}/>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (enumcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">enum field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              enumcontrol(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <Enum device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (sensors(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">sensors field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              sensors(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <div className=\"sensor-container\">\n                      <p className=\"name\">{item.name}</p>\n                      <p className=\"value\">{String(getValue(device,item.name))}</p>\n                    </div>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      </div>\n    <div className=\"HistoryBlock\">\n      <History device={device}/>\n    </div>\n    </div>\n  )\n}\n","import React,{useContext, useState, useEffect} from 'react'\nimport {SocketContext} from '../context/SocketContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {useParams} from \"react-router-dom\"\nimport {LightPage} from './ditailPages/lightPage'\nimport {OtherDevicePage} from './ditailPages/otherdevice'\n\nexport const DitailDevicePage = ()=>{\n  const [device,setDevice] = useState(null)\n  const {setData} = useContext(MenuContext)\n  const {devices} = useContext(SocketContext)\n  let {systemName} = useParams()\n\n  useEffect(()=>{\n    if(devices){\n      let newdev = devices.filter(item => (item&&item.systemName===systemName))[0]\n      setDevice(newdev)\n    }\n  },[devices,systemName])\n\n  useEffect(()=>{\n    setData(device?.name)\n  },[setData, device])\n\n  if(!device || device.status !== \"online\" || !device?.value)\n    return(null)\n\n  return(\n    <div className=\"conteiner fon bottom\">\n    {\n      (device?.type === \"light\")?\n      <LightPage device={device}/>\n      :<OtherDevicePage device={device}/>\n    }\n    </div>\n  )\n}\n","import React, {useState,useEffect} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Power = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(value||0)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const clickHandler = event =>{\n    setValue(event.target.checked)\n    if(event.target.checked)\n      outValue(systemName, type, 1)\n    else\n      outValue(systemName, type, 0)\n    setTimeout(function () {\n      if(typeof(updata)==='function')\n        updata()\n    }, 500);\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||type}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\">\n        <label className=\"switch\">\n          <input onChange={clickHandler} name=\"auteStyle\" type=\"checkbox\" checked={newvalue}></input>\n          <span></span>\n          <i className=\"indicator\"></i>\n        </label>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState,useEffect, useRef} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Dimmer = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(0)\n  const delay = useRef(null)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n    setTimeout(function () {\n      if(typeof(updata)==='function')\n        updata()\n    }, 500);\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(systemName, type, event.target.value)\n    }, 200);\n  }\n\n  function isColor(text) {\n    return (text.indexOf(\"color\") !== -1)\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||\"level\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n      <div className=\"DeviceControlLiValue\">\n        <p>{newvalue||\"0\"}</p>\n      </div>\n      <div className={`DeviceLiControl ${(isColor(type))?\"allColor\":\"\"}`}>\n        <input type=\"range\" value={newvalue||0} min={conf.min} max={conf.max} onChange={changeHandler} onInput={changeHandler}/>\n      </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState,useEffect} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Mode = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(0)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const clickHandler = event =>{\n    if(newvalue>=conf-1){\n      setValue(0)\n      outValue(systemName, type, 0)\n    }\n    else{\n      outValue(systemName, type, newvalue+1)\n      setValue(newvalue+1)\n    }\n    setTimeout(function () {\n      if(typeof(updata)==='function')\n        updata()\n    }, 500);\n  }\n  if(conf===2){\n    return(\n      <li className=\"DeviceControlLi\">\n        <div className=\"DeviceControlLiName\">\n          <p>{title||type}</p>\n        </div>\n        <div className=\"DeviceControlLiContent\">\n          <div className=\"DeviceLiControl\">\n            <div className=\"custom1-checkbox\">\n              <div className={`custom1-inner ${(newvalue===1)?\"active\":\"\"}`} onClick={clickHandler} >\n                <div className=\"custom1-toggle\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    )\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||\"mode\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n      <div className=\"DeviceControlLiValue\">\n        <p>{newvalue}</p>\n      </div>\n      <div className=\"DeviceLiControl\">\n        <input type=\"button\" value=\"mode\" onClick={clickHandler}/>\n      </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState,useEffect} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Enum = ({updata,title,type,conf,value,systemName, outValue=foo}) =>{\n  const [newvalue, setValue]=useState(0)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n    outValue(systemName, type, event.target.value)\n  }\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||type}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\">\n          <select value={newvalue} onChange={changeHandler}>\n          {\n            valuesDecod(conf).map((item,index)=>{\n              return(\n                <option key={index} value={item}>{item}</option>\n              )\n            })\n          }\n          </select>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Text = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(value)\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n  }\n\n  const out = ()=>{\n    outValue(systemName, type, newvalue)\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||\"text\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\" style={{display: \"flex\",justifyContent: \"flex-end\"}}>\n          <input type=\"text\" onFocus={()=>{}} value={newvalue} onChange={changeHandler}/>\n          <input type=\"button\" onClick={out} value=\"send\"/>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useContext,useState,useEffect} from 'react'\nimport {FormContext} from './Form/formContext'\nimport {useHistory} from 'react-router-dom'\nimport {RunText} from './runText'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {Power} from './controlComponents/power'\nimport {Dimmer} from './controlComponents/dimmer'\nimport {Mode} from './controlComponents/mode'\nimport {Enum} from './controlComponents/enum'\nimport {Text} from './controlComponents/text'\nimport {Menu} from './Menu/dopmenu/menu'\n// import {Color} from './newDeviceControlElements/color'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const NewDeviceElement = ({systemName}) =>{\n  const history = useHistory()\n  const {devices, updateDevice} = useContext(SocketContext)\n  const form = useContext(FormContext)\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [device,setDevice] = useState({})\n  const [status,setStatus] = useState(true)\n\n  useEffect(()=>{\n    if(devices){\n      let newdev = devices.filter(item => (item&&item.systemName===systemName))[0]\n      setDevice(newdev)\n      if(newdev)\n      {\n        if (newdev.status === \"unlink\")\n          setStatus(false)\n        else\n          setStatus(true)\n      }\n    }\n  },[devices,systemName])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  if(!device){\n    return null\n  }\n\n  const linc = ()=>{\n    setStatus((prev)=>!prev)\n    request('/api/device/status/set', 'POST', {systemName: device.systemName,status:!status},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const detailDevice = ()=>{\n    if(device?.status === \"online\" && device?.value)\n      history.push(`/devices/ditail/${device.systemName}`)\n  }\n\n  const outValue = async(systemName, type, v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:type,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <div className = {`typeConnect ${device.typeConnect||\"other\"}`}>\n          <p>{device.typeConnect||\"other\"}</p>\n        </div>\n        <RunText onClick={detailDevice} className=\"DeviceName\" id={device.systemName} text={device.name||\"NuN\"}/>\n        {\n          (auth.userLevel >= 3)?\n          <Menu buttons={[\n            {\n              title:\"edit\",\n              onClick:()=>{form.show(\"EditDevices\",updateDevice,device)}\n            },\n            {\n              title:(device.status === \"unlink\")?\"linc\":\"unlink\",\n              onClick:linc\n            }\n          ]}/>\n          :null\n        }\n      </div>\n      <div className=\"dividers\"></div>\n      <div className = \"NewCardBody\">\n        <ul>\n        {\n          (device.status!==\"online\")?\n          <li className=\"DeviceControlLi\"><h4 className=\"offline\">{device.status}</h4></li>\n          :device.fields.map((item,index)=>{\n            if(item.type===\"binary\" && item.control){\n              return <Power outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value&&(String(device.value[item.name])===\"1\"))?true:false} type={item.name}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Dimmer outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?Number(device.value[item.name]):0} type={item.name} title = {item.name} conf={{min:item.low,max:item.high}}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Mode outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?Number(device.value[item.name]):0} type={item.name} conf={Number(item.high)}/>\n            }\n            if(item.type===\"enum\"&& item.control){\n              return <Enum outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?device.value[item.name]:0} type={item.name} conf={item.values}/>\n            }\n            if(item.type===\"text\"&& item.control){\n              return <Text outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?device.value[item.name]:0} type={item.name} conf={item.values} title={item.name}/>\n            }\n            if(!item.control){\n              return(\n                <li className=\"DeviceControlLi\" key={index}>\n                  <div className=\"DeviceControlLiName\">\n                    <p>{item.name}</p>\n                  </div>\n                  <div className=\"DeviceControlLiContent\">\n                    <div className=\"DeviceControlLiValue\">\n                      <p>{device.value[item.name]}</p>\n                    </div>\n                  </div>\n                </li>\n              )\n            }\n            return null\n          })\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useRef, useCallback} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {NewDeviceElement} from '../components/newDeviceElement'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nexport const DevicesPage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const allDevices = useContext(SocketContext)\n  const {setData} = useContext(MenuContext)\n\n  const [devices, setDevices] = useState([]);\n  const read = useRef(0)\n\n  useEffect(()=>{\n    if(read.current<3){\n      setDevices(allDevices.devices)\n      read.current++\n    }\n  },[allDevices.devices])\n\n  const searchout = useCallback((data)=>{\n    if(data===\"\"){\n      setDevices(allDevices.devices)\n      return\n    }\n    let array = allDevices.devices.filter(item => item&&item.name.toLowerCase().indexOf(data.toLowerCase())!==-1)\n    setDevices(array)\n  },[allDevices.devices])\n\n  useEffect(()=>{\n    setData(\"Device All\",{\n      specialAction:(auth.userLevel >= 3)?{\n        type: \"add\",\n        action:()=>history.push(\"/devices/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, history, searchout, auth.userLevel])\n\n  return(\n      <div className = \"conteiner top bottom\">\n\n        <div className = \"Devices\">\n          {\n            (!devices||devices.length === 0)?\n            <h2 className=\"empty\">Not elements</h2>:\n            <div className = \"CardConteiner\">\n              {\n                devices.map((item,index)=>{\n\n                  if(item)\n                    return(\n                      <NewDeviceElement key = {index} systemName={item.systemName}/>\n                    )\n                  return null\n                })\n              }\n            </div>\n          }\n        </div>\n      </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {NavLink,useLocation} from 'react-router-dom'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {Loader} from '../components/Loader'\n\nexport const ProfilePage = () => {\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const location = useLocation();\n  const [user, setUser] = useState({});\n  const [newuser, setNewuser] = useState({\n    UserName:\"\",\n    UserSurname:\"\",\n    Mobile:\"\",\n    Email:\"\",\n    ImageId:0\n  });\n  const [password, setPassword] = useState({\n    Old:\"\",\n    New:\"\"\n  });\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const updataUser = useCallback(async()=>{\n    const data = await request(`/api/user/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(!data) return;\n    setUser(data);\n    setNewuser({\n      UserName:data.UserName||\"\",\n      UserSurname:data.UserSurname||\"\",\n      Mobile:data.Mobile||\"\",\n      Email:data.Email||\"\",\n      ImageId:data.ImageId||0\n    });\n  },[request,auth.token])\n\n  useEffect(()=>{\n    updataUser()\n  },[updataUser])\n\n  const changeHandler = event => {\n    setNewuser({ ...newuser, [event.target.name]: event.target.value })\n  }\n  const changePassHandler = event => {\n    setPassword({ ...password, [event.target.name]: event.target.value })\n  }\n\n  const outForm = async () =>{\n      const data = await request(`/api/user/edit`, 'POST', newuser,{Authorization: `Bearer ${auth.token}`})\n      if(data === \"ok\"){\n        updataUser()\n      }\n  }\n\n  const outPassForm = async () =>{\n    await request(`/api/user/password/edit`, 'POST', {...password},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    setData(\"Profile\")\n  },[setData])\n\n  return(\n    <div className = \"fullScrinContainer color-normal\">\n        <div className = \"pages\">\n        {\n          (loading)?\n          <Loader/>:\n          <>\n          <div className = {`page ${(location.pathname===\"/profile\")?\"active\":\"\"}`}>\n            <i className=\"fas fa-sign-out-alt logout-btn\" onClick={auth.logout}></i>\n            <div className = \"pagecontent\">\n              <h2>Profile</h2>\n              <p>User Name: {user.UserName}</p>\n              <p>User Surname: {user.UserSurname||\"NuN\"}</p>\n              <p>User Email: {user.Email||\"NuN\"}</p>\n              <p>User Mobile: {user.Mobile||\"NuN\"}</p>\n              <p>User Level: {(user.Level===3)?\"Admin\":(user.Level===2)?\"Mid\":\"Low\"}</p>\n              <div className=\"dividers\"></div>\n              <div className=\"controlElement\">\n                <NavLink to = \"/config\" className=\"normalSelection button\">Client settings</NavLink>\n                <NavLink to = \"/profile/edit\" className=\"normalSelection button\">Edit profile</NavLink>\n                <NavLink to = \"/profile/editPass\" className=\"normalSelection button\">Edit password</NavLink>\n              </div>\n            </div>\n          </div>\n          <div className = {`page ${(location.pathname===\"/profile/edit\")?\"active\":\"\"}`}>\n            <div className = \"pagecontent\">\n            <h2>Profile</h2>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"UserName\" type=\"text\" value={newuser.UserName}></input>\n                <label>Name</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"UserSurname\" type=\"text\" value={newuser.UserSurname}></input>\n                <label>Surname</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"Email\" type=\"email\" value={newuser.Email}></input>\n                <label>Email</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"Mobile\" type=\"tel\" value={newuser.Mobile}></input>\n                <label>Mobile</label>\n              </div>\n            </div>\n            <div className=\"dividers\"></div>\n            <div className=\"configElement block\">\n              <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={outForm}>Save</button>\n            </div>\n            </div>\n          </div>\n          <div className = {`page ${(location.pathname===\"/profile/editPass\")?\"active\":\"\"}`}>\n            <div className = \"pagecontent\">\n              <h2>Change password</h2>\n              <p>Name: {user.UserName}</p>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input onChange={changePassHandler} required name=\"Old\" type=\"password\" value={password.Old}></input>\n                  <label>Old password</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input onChange={changePassHandler} required name=\"New\" type=\"password\" value={password.New}></input>\n                  <label>New password</label>\n                </div>\n              </div>\n              <div className=\"dividers\"></div>\n              <div className=\"configElement block\">\n                <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={outPassForm}>Save</button>\n              </div>\n            </div>\n          </div>\n          </>\n        }\n        </div>\n      </div>\n  )\n}\n","import React,{useContext,useEffect,useState,useCallback} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {UserContext} from '../../../context/UserContext'\nimport {Loader} from '../../Loader'\nimport {StyleIcon} from './castomIcon/styleIcon'\nimport {StyleContext} from '../../UserStyle/StyleContext'\nimport {Menu} from '../../Menu/dopmenu/menu'\nimport {useHistory} from 'react-router-dom'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const UserOption = () =>{\n  const auth = useContext(AuthContext)\n  const config = useContext(UserContext)\n  const history = useHistory()\n  const {styles, updateConfig} = useContext(StyleContext)\n\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [mode , setMode] = useState(false)\n  const [userconf , setUserconf] = useState({\n    auteStyle:config.auteStyle||false,\n    staticBackground:config.staticBackground||false,\n    style:config.Style||\"light\"\n  });\n\n  const updataConf = useCallback(async()=>{\n    if(!config)return;\n    setUserconf({\n      auteStyle:config.auteStyle||false,\n      staticBackground:config.staticBackground||false,\n      style:config.Style||\"light\",\n    })\n  },[config])\n\n  const userConfigHandler = async()=>{\n    await request(`/api/user/config/edit`, 'POST', userconf,{Authorization: `Bearer ${auth.token}`})\n    updateConfig()\n    setTimeout(()=>{\n      updataConf()\n    },500)\n  }\n\n  const deleteStyle = async (event)=>{\n    await request(`/api/style/delete`, 'POST', {name:event.target.dataset.name}, {Authorization: `Bearer ${auth.token}`})\n    updateConfig();\n    setTimeout(()=>{\n      updataConf()\n    },500)\n  }\n  \n  useEffect(()=>{\n    updataConf();\n  },[updataConf])\n\n  const styleHandler = async(event)=>{\n    setUserconf({ ...userconf, style:event.target.dataset.name })\n  }\n\n  const checkedHandler = event => {\n    setUserconf({ ...userconf, [event.target.name]: event.target.checked })\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  if(loading){\n    return <Loader/>\n  }\n  return(\n    <div className = \"pagecontent\">\n      <div className=\"configElement\">\n        <p className=\"switchText\">changing style when changing time of day</p>\n        <label className=\"switch\">\n          <input onChange={checkedHandler} name=\"auteStyle\" type=\"checkbox\" checked={userconf.auteStyle}></input>\n          <span></span>\n          <i className=\"indicator\"></i>\n        </label>\n      </div>\n      <div className=\"configElement\">\n        <p className=\"switchText\">static background</p>\n        <label className=\"switch\">\n          <input onChange={checkedHandler} name=\"staticBackground\" type=\"checkbox\" checked={userconf.staticBackground}></input>\n          <span></span>\n          <i className=\"indicator\"></i>\n        </label>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"configElement block\">\n        <p className=\"switchText\">Style</p>\n        <Menu buttons={[\n          {\n            title:\"create\",\n            onClick:()=>history.push(\"/config/style\")\n          },\n          {\n            title:\"detete\",\n            onClick:()=>setMode(!mode)\n          }\n        ]}/>\n        <div className=\"StyleChoice\">\n          {\n            styles?.map((item, index)=>{\n              return(\n                <div\n                key={index}\n                onClick={(mode && (item.name !== \"light\" && item.name !== \"night\"))?deleteStyle:styleHandler}\n                className={`choiceElement ${(mode && (item.name !== \"light\" && item.name !== \"night\"))?\"deleted\":\"\"} ${(userconf.style===item.name)?\"active\":null}`}\n                data-name={item.name}>\n                  <StyleIcon colors={item}/>\n                  <p className=\"styleName\">{item.name}</p>\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"configElement block\">\n        <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={userConfigHandler}>Save</button>\n      </div>\n    </div>\n)\n}\n","import React,{useContext,useState,useEffect,useCallback} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {Loader} from '../../Loader'\n\nexport const ServerOption = () =>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [serverconf , setServerconf] = useState([]);\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  // const checkedHandler = event => {\n  //   setServerconf({ ...serverconf, [event.target.name]: event.target.checked })\n  // }\n  const changeHandler = (event, module, field) => {\n    let arr = serverconf.slice()\n    for (var item of arr) {\n      if(item.name === module)\n      {\n        for (var item2 of item.fields) {\n          if(item2.name === field)\n          {\n            item2.value = event.target.value\n            setServerconf(arr)\n            return\n          }\n        }\n        return\n      }\n    }\n  }\n\n  const serverConfigHandler = async(event)=>{\n    request(`/api/server/config/edit`, 'POST', {moduleConfig:serverconf},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const updataConf = useCallback(async()=>{\n    const data = await request(`/api/server/config/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(!data)return;\n    let arr = []\n    for (var item of data.moduleConfig) {\n      arr.push(item)\n    }\n    setServerconf(arr)\n  },[request,auth.token])\n\n  useEffect(()=>{\n    updataConf()\n  },[updataConf])\n\n  if(loading){\n    return <Loader/>\n  }\n\n  return(\n    <div className = \"pagecontent\">\n    {\n      serverconf.map((item, index)=>{\n        return(\n          <div key={index}>\n          <div className=\"configTitle\">\n            <p className=\"text\">{item.name}</p>\n          </div>\n          {\n            item?.fields?.map((item2, index2)=>{\n              return(\n                <div key={index2} className=\"configElement\">\n                  <div className=\"input-data\">\n                    <input onChange={(e)=>changeHandler(e, item.name, item2.name)} required name={item2.name} type=\"text\" value={item2.value} disabled = {(!item2)}></input>\n                    <label>{item2.name}</label>\n                  </div>\n                </div>\n              )\n            })\n          }\n          <div className=\"dividers\"></div>\n          </div>\n        )\n      })\n    }\n      <div className=\"configElement block\">\n        <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={serverConfigHandler}>Save</button>\n      </div>\n    </div>\n)\n}\n","import React,{useState,useCallback,useEffect,useContext} from 'react'\nimport {UserContext} from '../../../context/UserContext'\nimport {Link} from 'react-router-dom'\n// import {ImageInput} from '../../moduls/imageInput'\n\nexport const ImgOption = () =>{\n  const config = useContext(UserContext)\n\n  const [userconf , setUserconf] = useState({\n    base:'',\n    sunrise:'',\n    day:'',\n    twilight:'',\n    night:''\n  });\n\n  const updataConf = useCallback(async()=>{\n    if(!config||!config.images)return;\n    let fon = {}\n    for (var item of config.images) {\n      fon = {...fon,[item.type]:item.image}\n    }\n    setUserconf(prev=>{return{...prev,...fon}})\n  },[config])\n\n  useEffect(()=>{\n    updataConf()\n  },[updataConf])\n\n  return(\n    <div className = \"pagecontent\">\n      <div className=\"configElement block\">\n        <h2>Background</h2>\n      </div>\n      <div className=\"configElement block\">\n        <Link to=\"/gallery\" className=\"button normalSelection\">Gallery</Link>\n      </div>\n      <div className=\"configElement img\">\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.base} alt=\"base\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Base</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.sunrise} alt=\"sunrise\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Sunrise</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.day} alt=\"day\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Day</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.twilight} alt=\"twilight\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Twilight</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.night} alt=\"night\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Night</h3>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n//   return(\n//     <div className=\"configElement img\">\n//       <h3>Background</h3>\n//       <ImageInput id=\"1\" title=\"Base\" name = \"base\" src = {userconf.base}/>\n//       <ImageInput id=\"2\" title=\"Sunrise\" name=\"sunrise\" src = {userconf.sunrise}/>\n//       <ImageInput id=\"3\" title=\"Day\" name=\"day\" src = {userconf.day}/>\n//       <ImageInput id=\"4\" title=\"Twilight\" name=\"twilight\" src = {userconf.twilight}/>\n//       <ImageInput id=\"5\" title=\"Night\" name=\"night\" src = {userconf.night}/>\n//     </div>\n// )\n}\n","import React from 'react'\n\nexport const MenuComponent = ({name, icon,url,use=false,onClick,def=false}) =>{\n\n  return(\n    <div className=\"menu-component-paragraph\">\n      <div className=\"icon\">\n        <i className={icon}></i>\n      </div>\n      <p>{name}</p>\n      <div className=\"menu-component-btn\" >\n        {\n          (!def&&use)?<i className=\"fas fa-times-circle\" style={{color:\"#f00\"}} onClick={()=>onClick(name,icon,url)}></i>\n          :(!def&&!use)?<i className=\"fas fa-plus-circle\" style={{color:\"#0f0\"}} onClick={()=>onClick(name,icon,url)}></i>:\n          null\n        }\n      </div>\n    </div>\n  )\n}\n","import React,{useContext,useEffect,useState,useCallback} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {UserContext} from '../../../context/UserContext'\nimport {ModalWindow} from '../../modalWindow/modalWindow'\nimport {Loader} from '../../Loader'\nimport {StyleContext} from '../../UserStyle/StyleContext'\nimport {MenuComponent} from './menuOptionComponents/component'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {menuField} from '../../Menu/data.menu.js'\n\nexport const MenuOption = () =>{\n  const auth = useContext(AuthContext)\n  const config = useContext(UserContext)\n  const {updateConfig} = useContext(StyleContext)\n\n  const {message} = useMessage();\n  const [visible,setVisible] = useState(false)\n  const {loading, request, error, clearError} = useHttp();\n  const [useBlock,setUseBlock] = useState([])\n  const [noUseBlock,setNoUseBlock] = useState([])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const configHandler = async(event)=>{\n    await request(`/api/user/menu/edit`, 'POST', useBlock,{Authorization: `Bearer ${auth.token}`})\n    setTimeout(function () {\n      updateConfig()\n    }, 200);\n  }\n\n  const updataConf = useCallback(async()=>{\n    if(!config||!config.MenuElements)return;\n    let newarr = menuField\n    let newarr2 = config.MenuElements\n    for (var item of config.MenuElements) {\n      let y = item\n      newarr = newarr.filter((item2)=>item2.title!==y.title)\n    }\n    setNoUseBlock(newarr)\n    setUseBlock(newarr2)\n  },[config])\n\n  useEffect(()=>{\n  },[config,useBlock])\n\n  useEffect(()=>{\n    updataConf()\n  },[updataConf])\n\n  const addParagraph = (title,icon,url)=>{\n    let usearr = useBlock\n    let nousearr = noUseBlock\n    usearr.push({title,iconClass:icon,url})\n    nousearr = nousearr.filter((item)=>item.title!==title)\n    setNoUseBlock(nousearr)\n    setUseBlock(usearr)\n  }\n\n  const deleteParagraph = (title,icon,url)=>{\n    let usearr = useBlock\n    let nousearr = noUseBlock\n    for (var item of menuField) {\n      if(item.title === title){\n        nousearr.push({title,iconClass:icon,url})\n        usearr = usearr.filter((item)=>item.title!==title)\n        setNoUseBlock(nousearr)\n        setUseBlock(usearr)\n        return\n      }\n    }\n    usearr = usearr.filter((item)=>item.title!==title)\n    setUseBlock(usearr)\n  }\n\n  const addlink=()=>{\n    let title = document.getElementById('titlelink')\n    let icon = document.getElementById('titleicon')\n    let url = document.getElementById('titleurl')\n    addParagraph(title.value,icon.value,url.value)\n    setVisible(false)\n  }\n\n  if(loading){\n    return <Loader/>\n  }\n\n  return(\n    <>\n    {\n      (visible)?\n      <ModalWindow moving={false} hide={()=>setVisible(false)} title=\"add\" zindex={6} className=\"createLinkWindow\">\n        <div className=\"createLink\">\n          <div className=\"configElement\">\n            <div className=\"input-data\">\n              <input required id=\"titlelink\" type = \"text\" name = \"title\"/>\n              <label>title</label>\n            </div>\n          </div>\n          <div className=\"configElement\">\n            <div className=\"input-data\">\n              <input required id=\"titleicon\" type = \"text\" name = \"icon\"/>\n              <label>icon</label>\n            </div>\n          </div>\n          <div className=\"configElement\">\n            <div className=\"input-data\">\n              <input required id=\"titleurl\" type = \"text\" name = \"url\"/>\n              <label>title</label>\n            </div>\n          </div>\n          <div className=\"configElement\">\n            <button className=\"normalSelection button\" onClick={addlink}>Save</button>\n          </div>\n        </div>\n      </ModalWindow>\n      :null\n    }\n    <div className = \"pagecontent\">\n      <div className=\"configElement\">\n        <MenuComponent name=\"Home\" icon=\"fas fa-home\" def={true}/>\n      </div>\n      <div className=\"configElement\">\n        <MenuComponent name=\"Devices\" icon=\"fas fa-plug\" def={true}/>\n      </div>\n      <div className=\"configElement\">\n        <MenuComponent name=\"Setings\" icon=\"fas fa-cogs\" def={true}/>\n      </div>\n        {\n          useBlock.map((item,index)=>{\n            return(\n              <div key={index} className=\"configElement\">\n              <MenuComponent key={index} name={item.title} url={item.url} icon={item.iconClass} onClick={deleteParagraph} use={true}/>\n              </div>\n            )\n          })\n        }\n        <div className=\"configElement\">\n\n        <div className=\"menu-component-paragraph\" onClick={()=>setVisible(true)}>\n          <p>Создать ссылку</p>\n          <div className=\"menu-component-btn\">\n            <i className=\"fas fa-plus-circle\" style={{color:\"#aaa\"}}></i>\n          </div>\n        </div>\n        </div>\n        <div className=\"dividers\"></div>\n        {\n          noUseBlock.map((item,index)=>{\n            return(\n              <div key={index} className=\"configElement\">\n                <MenuComponent key={index} name={item.title} url={item.url} onClick={addParagraph} icon={item.iconClass}/>\n              </div>\n            )\n          })\n        }\n      <div className=\"dividers\"></div>\n      <div className=\"configElement block\">\n        <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={configHandler}>Save</button>\n      </div>\n    </div>\n    </>\n)\n}\n","import React, {useContext,useEffect} from 'react'\nimport {useLocation, useHistory} from 'react-router-dom'\nimport {UserOption} from '../components/pages/optionPages/userOption'\nimport {ServerOption} from '../components/pages/optionPages/serverOption'\nimport {ImgOption} from '../components/pages/optionPages/imgOption'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {MenuOption} from '../components/pages/optionPages/menuOption'\n\nexport const OptionsPage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const location = useLocation();\n\n  useEffect(()=>{\n    let buttons = [\n      {\n        title:\"user\",\n        action:()=>history.push(\"/config\"),\n        active:(location.pathname===\"/config\")\n      },\n      {\n        title:\"image\",\n        action:()=>history.push(\"/config/image\"),\n        active:(location.pathname===\"/config/image\")\n      },\n      {\n        title:\"menu\",\n        action:()=>history.push(\"/config/menu\"),\n        active:(location.pathname===\"/config/menu\")\n      }\n    ]\n    if(auth.userLevel >= 3)\n      buttons.push({\n        title:\"server\",\n        action:()=>history.push(\"/config/server\"),\n        active:(location.pathname===\"/config/server\")\n      })\n    setData(\"Setings\",{\n      buttons:buttons\n    })\n  },[setData,location.pathname, history, auth.userLevel])\n\n  return(\n    <div className = \"fullScrinContainer color-normal page-whith-tabs\">\n      <div className = \"pages\">\n        <div className = {`page ${(location.pathname===\"/config\")?\"active\":\"\"}`}>\n          <UserOption/>\n        </div>\n        <div className = {`page ${(location.pathname===\"/config/server\")?\"active\":\"\"}`}>\n          <ServerOption/>\n        </div>\n        <div className = {`page ${(location.pathname===\"/config/image\")?\"active\":\"\"}`}>\n          <ImgOption/>\n        </div>\n        <div className = {`page ${(location.pathname===\"/config/menu\")?\"active\":\"\"}`}>\n          <MenuOption/>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\n\nexport const ScriptElement = ({script,updata})=>{\n  const history = useHistory()\n  const [status, setStatus] = useState(script.status)\n  const {message} = useMessage();\n  const {show, hide} = useContext(DialogWindowContext)\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n\n  useEffect(()=>{\n    setStatus(script.status)\n  },[script, auth.userLevel])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const deleteScript = async()=>{\n    show(\"alert\",{\n      title:\"Delete script\",\n      text:`delete ${script.name}?`,\n      buttons:[\n        {\n          title:\"ok\",\n          action:async()=>{\n            await request(`/api/script/delete?name=${script.name}`, 'GET',null ,{Authorization: `Bearer ${auth.token}`})\n            updata()\n            hide()\n          }\n        },\n        {\n          title:\"cancel\",\n          action:hide\n        },\n      ]\n    })\n  }\n\n  const runScript = async()=>{\n    await request(`/api/script/run?name=${script.name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const checkedHandler = async event => {\n    setStatus((prev)=>!prev)\n    await request('/api/script/status/set', 'POST', {name:script.name,status:!status},{Authorization: `Bearer ${auth.token}`})\n    if(typeof(updata)===\"function\")\n    setTimeout(function () {\n      updata()\n    }, 600);\n  }\n\n  return(\n    <div className=\"scriptElement\">\n      <p>{script.name}</p>\n      <div className=\"scriptStatus\">\n        <button onClick={runScript} className=\"activateBtn\">activate</button>\n        {\n          (auth.userLevel >= 3)?\n          <button onClick={()=>history.push(`/scripts/edit/${script.name}`)} className=\"showBtn\">edit</button>\n          :null\n        }\n        <div className=\"switchConteiner\">\n        <p className=\"switchText\">{(status)?\"auto\":\"manual\"}</p>\n        {\n          (script.trigger&&script.trigger[0]&&auth.userLevel >= 3)?\n          <label className=\"switch\">\n            <input onChange={checkedHandler} name=\"auteStyle\" type=\"checkbox\" checked={(status)}></input>\n            <span></span>\n            <i className=\"indicator\"></i>\n          </label>\n          :null\n        }\n        </div>\n        {\n          (auth.userLevel >= 3)?\n          <button onClick={deleteScript} className=\"deleteBtn\"><i className=\"fas fa-trash\"></i></button>\n          :null\n        }\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useEffect,useCallback,useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {Loader} from '../components/Loader'\nimport {ScriptElement} from '../components/scriptCarts/scriptElement'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nexport const ScriptsPage = () => {\n  const [scripts, setScripts] = useState([])\n  const history = useHistory()\n  const [allScripts, setAllScripts] = useState([])\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {message} = useMessage();\n  const {loading,request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const updataScripts = useCallback(async()=>{\n    const data = await request('/api/script/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setScripts(data);\n    setAllScripts(data)\n  },[request,auth.token])\n\n  const searchout = useCallback((search)=>{\n    if(search===\"\"){\n      setScripts(allScripts)\n      return\n    }\n    let array = allScripts.filter(item => item.name.indexOf(search)!==-1)\n    setScripts(array)\n  },[allScripts])\n\n  useEffect(()=>{\n    setData(\"Scripts All\",{\n      specialAction:(auth.userLevel >= 3 && window.screen.width > 700)?{\n        type: \"add\",\n        action:()=>history.push(\"/scripts/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, searchout, history, auth.userLevel])\n\n  useEffect(()=>{\n    updataScripts()\n  },[updataScripts])\n\n  return(\n    <>\n      <div className = \"conteiner top bottom\">\n        <div className = \"Scripts\">\n          <div className=\"scriptsList\">\n            {\n              (loading)?\n              <Loader/>:\n              (scripts&&scripts[0])?\n              scripts.map((item,index)=>{\n                return(\n                  <ScriptElement key={index} script={item} updata={updataScripts}/>\n                )\n              }):\n              <h2 className=\"empty\">Not elements</h2>\n            }\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React,{useState,useEffect,useContext,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\n\nexport const ValueDeviceBlock = ({data,updata,index,type,deleteEl,block})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return devices.filter((item)=>item.systemName===id)[0]\n  },[devices])\n\n  const lookForField = (device,name)=>{\n    return device.fields.filter((item)=>item.name===name)[0]\n  }\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = event=>{\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n    updata({index,action:event.target.value})\n  }\n\n  const filtredOption = (options)=>options.filter((item)=>(\n    (type===\"number\"&&(item.type===\"number\"||item.type===\"binary\"))||\n    (type===\"binary\"&&item.type===\"binary\")||\n    (type===\"text\")||\n    (type===\"enum\"&&item.type===\"enum\")||\n    (!type)\n  ))\n\n  if(Object.keys(device).length === 0 || Object.keys(field).length === 0){\n    return null\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"property\">\n          {\n            filtredOption(device.fields).map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index,block)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const TextBlock = ({data,updata,block,deleteEl})=>{\n  const [value,setValue] = useState(data.value??\"\")\n  const [delay, setDelay] = useState()\n\n  const changeHandler = event=>{\n    clearTimeout(delay)\n    setValue(event.target.value)\n    setDelay(setTimeout(function () {\n      updata({action:event.target.value})\n    }, 2000))\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        value\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <input type=\"text\" onChange={changeHandler} value={value}/>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\nexport const NumberBlock = ({data,updata,block,deleteEl})=>{\n  const [value,setValue] = useState(Number(data.value)??0)\n  const [delay, setDelay] = useState()\n\n  const changeHandler = event=>{\n    clearTimeout(delay)\n    setValue(event.target.value)\n    setDelay(setTimeout(function () {\n      updata({action:event.target.value})\n    }, 2000))\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        value\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <input type=\"number\" onChange={changeHandler} value={value}/>\n      </div>\n      {\n        (deleteEl)?\n        <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n          <i className=\"fas fa-trash\"></i>\n        </div>\n        :null\n      }\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const EnumBlock = ({data,updata,block,deleteEl,values=[]})=>{\n  const [value,setValue] = useState(data.value)\n\n  const changeHandler = event=>{\n    setValue(event.target.value)\n    updata({action:event.target.value})\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        value\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select onChange={changeHandler} value={value}>\n        {\n          values.map((item,index)=>{\n            return(\n              <option key={index} value={item}>{item}</option>\n            )\n          })\n        }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext} from 'react'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {NumberBlock} from './numberBlock'\n\nexport const MathBlock = ({data,updata,block,deleteEl})=>{\n  const [type,setType] = useState(data.action??\"+\")\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n\n\n  const changeSelector = event=>{\n    let element = data\n    setType(event.target.value)\n    element={...element,action:event.target.value}\n    updata(element)\n  }\n\n  const addvalue = (v)=>{\n    typeValue(\"addValue\",{type:\"number\"},(typeValue,deviceData)=>{\n      let element = data\n      if(typeValue===\"DeviceValue\"){\n        deviceBlock((deviceData)=>{\n          element = {...element, [v]:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n          updata(element)\n          return\n        }, \"if\", \"number\")\n      }\n      if(typeValue===\"Text\")\n        element = {...element, [v]:{type:\"text\",value:\"\"}}\n      if(typeValue===\"Number\")\n        element = {...element, [v]:{type:\"number\",value:0}}\n      if(typeValue===\"Math\")\n        element = {...element, [v]:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n      updata(element)\n    })\n  }\n\n  const updataValue = (data1,v)=>{\n    let element = data\n    let val = element[v]\n    if(data[v].type===\"device\")\n      val = {...val, action:data1.action}\n    if(data[v].type===\"text\")\n      val = {...val, value:data1.action}\n    if(data[v].type===\"number\")\n      val = {...val, value:data1.action}\n    if(data[v].type===\"enum\")\n      val = {...val, value:data1.action}\n    if(data[v].type===\"math\")\n      val = data1\n    element[v] = val\n    updata(element)\n  }\n\n  const deleteValue = (v)=>{\n    let element = {...data, [v]:null}\n    updata(element)\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value1)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue(\"value1\")}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value1.type===\"device\")?\n        <ValueDeviceBlock data={data.value1} type=\"number\" updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        (data.value1.type===\"text\")?\n        <TextBlock data={data.value1} updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        (data.value1.type===\"number\")?\n        <NumberBlock data={data.value1} updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        (data.value1.type===\"math\")?\n        <MathBlock data={data.value1} updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={type} onChange={changeSelector} name=\"property\">\n          <option value=\"+\">+</option>\n          <option value=\"-\">-</option>\n          <option value=\"*\">*</option>\n          <option value=\"/\">/</option>\n        </select>\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value2)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue(\"value2\")}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value2.type===\"device\")?\n        <ValueDeviceBlock data={data.value2} type=\"number\" updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        (data.value2.type===\"text\")?\n        <TextBlock data={data.value2} updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        (data.value2.type===\"number\")?\n        <NumberBlock data={data.value2} updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        (data.value2.type===\"math\")?\n        <MathBlock data={data.value2} updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {NumberBlock} from './numberBlock'\nimport {EnumBlock} from './enumBlock'\nimport {MathBlock} from './mathBlock'\n// import {ifClass} from '../../../myClass.js'\n\nexport const IfBlock = ({idDevice,updata,index,data,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n  const [action,setAction] = useState(data.oper??\"==\")\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return devices.filter((item)=>item.systemName===id)[0]\n  },[devices])\n\n  const lookForField = (device,name)=>{\n    return device.fields.filter((item)=>item.name===name)[0]\n  }\n\n  const valuesDecod = (data)=> data.split(\" \").join(\"\").split(\",\")\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = (event)=>{\n    let element = {...data, [event.target.name]:event.target.value}\n    if(event.target.name===\"action\")\n      setField(lookForField(lookForDeviceById(data.systemName),element.action))\n    if(event.target.name===\"oper\")\n      setAction(element.oper)\n    updata(element,index)\n  }\n\n  const addvalue = ()=>{\n    typeValue(\"addValue\",{type:field.type},(typeValue)=>{\n      let element = data\n      if(typeValue===\"DeviceValue\"){\n        deviceBlock((deviceData)=>{\n          element = {...element, value:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n          updata(element,index)\n          return\n        }, \"if\", field.type)\n      }\n      if(typeValue===\"Text\")\n        element = {...element, value:{type:\"text\",value:\"\"}}\n      if(typeValue===\"Number\")\n        element = {...element, value:{type:\"number\",value:0}}\n      if(typeValue===\"Math\")\n        element = {...element, value:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n      if(typeValue===\"Enum\"&&field.type===\"binary\")\n        element = {...element, value:{type:\"enum\",value:\"low\"}}\n      if(typeValue===\"Enum\"&&field.type===\"enum\")\n        element = {...element, value:{type:\"enum\",value:valuesDecod(field.values)[0]}}\n      updata(element,index)\n    })\n  }\n\nconst updataValue = (data1)=>{\n  let element = data\n  let val = element.value\n  if(data.value.type===\"device\")\n    val = {...val, action:data1.action}\n  if(data.value.type===\"text\")\n    val = {...val, value:data1.action}\n  if(data.value.type===\"number\")\n    val = {...val, value:data1.action}\n  if(data.value.type===\"enum\")\n    val = {...val, value:data1.action}\n  if(data.value.type===\"math\")\n    val = data1\n  element.value = val\n  updata(element,index)\n}\n\nconst deleteValue = ()=>{\n  let element = {...data, value:null}\n  updata(element,index)\n}\n\nif(Object.keys(device)?.length === 0 || Object.keys(field)?.length === 0){\n  return null\n}\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"action\">\n          {\n            device.fields.map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item\">\n      <select value={action} onChange={changeSelector} name=\"oper\">\n        <option value=\"==\">==</option>\n        <option value=\"!=\">!=</option>\n        {\n          (field.type===\"number\")?\n          <>\n            <option value=\">=\">{\">=\"}</option>\n            <option value=\"<=\">{\"<=\"}</option>\n            <option value=\">\">{\">\"}</option>\n            <option value=\"<\">{\"<\"}</option>\n          </>:null\n        }\n      </select>\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value)?\n        <div className=\"programm-function-block-content-item add\" onClick={addvalue}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value.type===\"device\")?\n        <ValueDeviceBlock data={data.value} type={field.type} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"text\")?\n        <TextBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"number\")?\n        <NumberBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"math\")?\n        <MathBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"enum\")?\n        <EnumBlock data={data.value} values={valuesDecod(field.values)} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"binary\")?\n        <EnumBlock data={data.value} values={[\"high\",\"low\"]} updata={updataValue} deleteEl={deleteValue}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext} from 'react'\nimport {IfBlock} from './ifBlock'\nimport {AddScriptContext} from '../addScript/addScriptContext'\n// import {ifClass,groupIfClass} from '../../../myClass.js'\n\nexport const GroupBlock = ({index,type,children,data,updata,deleteEl})=>{\nconst {deviceBlock,typeIf} = useContext(AddScriptContext)\nconst [blockData/*, setData*/] = useState(data)\n\n// {type:\"group\" ,oper:\"and\",children:[],idDevice:null,action:null,value:null}\n\nconst addEl = ()=>{\n  typeIf((typeblock)=>{\n    if(typeblock===\"groupBlockAnd\"){\n      let element = blockData\n      element.children.push({type:\"group\" ,oper:\"and\",children:[],systemName:null,action:null,value:null})\n      updata(element,index)\n    }\n    else if(typeblock===\"groupBlockOr\"){\n      let element = blockData\n      element.children.push({type:\"group\" ,oper:\"or\",children:[],systemName:null,action:null,value:null})\n      updata(element,index)\n    }\n    else if(typeblock===\"deviceBlock\"){\n      deviceBlock((dataDev)=>{\n        let element = blockData\n        let act = dataDev.fields[0].name\n        element.children.push({type:\"device\" ,oper:\"==\",systemName:dataDev.systemName,action:act,value:\"\"})\n        updata(element,index)\n      },\"if\")\n    }\n  })\n}\n\nconst devEl = (indexel)=>{\n  let elements = blockData\n  elements.children = elements.children.filter((_,index2)=>index2!==indexel)\n  updata(elements,index)\n}\n\nconst reqUpdata = (elementData,indexel)=>{\n  let elements = blockData\n  elements.children[indexel] = elementData\n  updata(elements,index)\n}\n\n  return(\n    <div className=\"groupBlock\">\n      <div className=\"groupBlockTop\">\n        <p className=\"textBlock\">{`start of block ${type}`}</p>\n        <div className=\"addBlock\" onClick={addEl}>\n          <i className=\"fas fa-plus\"></i>\n        </div>\n        {\n          (typeof(deleteEl)===\"function\")?\n          <div className=\"deleteBlock\" onClick={()=>deleteEl(index)}>\n            <i className=\"fas fa-trash\"></i>\n          </div>:\n          null\n        }\n      </div>\n      <div className=\"groupBlockConteiner\">\n      {\n        (blockData)?\n          blockData.children.map((item,index1)=>{\n            if(item.type===\"group\"){\n              return <GroupBlock index={index1} deleteEl={devEl} updata={reqUpdata} key={index1} type={item.oper} data={item}/>\n            }\n            return <IfBlock key={index1} data={item} deleteEl={devEl} index={index1} updata={reqUpdata} idDevice={item.systemName}/>\n          })\n        :null\n      }\n      </div>\n      <div className=\"groupBlockBottom\">\n        <p className=\"textBlock\">end block</p>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {EnumBlock} from './enumBlock'\nimport {NumberBlock} from './numberBlock'\nimport {MathBlock} from './mathBlock'\n\nexport const ActBlock = ({updata,index,data,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return devices.filter((item)=>item.systemName===id)[0]\n  },[devices])\n\n  const lookForField = (device,name)=>{\n    return device?.fields?.filter((item)=>item.name===name)[0]\n  }\n\n  const valuesDecod = (data)=> data.split(\" \").join(\"\").split(\",\")\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = (event)=>{\n    let element = {...data, [event.target.name]:event.target.value}\n    if(event.target.name===\"action\")\n      setField(lookForField(lookForDeviceById(data.systemName),element.action))\n    updata({...element,index})\n  }\n\n  const updataValue = (data1)=>{\n    let element = data\n    let val = element.value\n    if(data.value.type===\"device\")\n      val = {...val, action:data1.action}\n    if(data.value.type===\"text\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"number\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"enum\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"math\")\n      val = data1\n    element.value = val\n    updata({...element,index})\n  }\n\n\nconst addvalue = ()=>{\n  typeValue(\"addValue\",{type:field.type},(typeValue)=>{\n    let element = data\n    if(typeValue===\"DeviceValue\"){\n      deviceBlock((deviceData)=>{\n        element = {...element, value:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n        updata(element,index)\n        return\n      }, \"if\", field.type)\n    }\n    if(typeValue===\"Text\")\n      element = {...element, value:{type:\"text\",value:\"\"}}\n    if(typeValue===\"Number\")\n      element = {...element, value:{type:\"number\",value:0}}\n    if(typeValue===\"Math\")\n      element = {...element, value:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n    if(typeValue===\"Enum\"&&field.type===\"binary\")\n      element = {...element, value:{type:\"enum\",value:\"low\"}}\n    if(typeValue===\"Enum\"&&field.type===\"enum\")\n      element = {...element, value:{type:\"enum\",value:valuesDecod(field.values)[0]}}\n    updata({...element,index})\n  })\n}\n\nconst deleteValue = ()=>{\n  let element = {...data, value:null}\n  updata({...element,index})\n}\n\nif(Object?.keys(device||\"\")?.length === 0 || Object?.keys(field||\"\")?.length === 0){\n  return null\n}\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"action\">\n          {\n            device.fields.map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item\">\n      ==\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue()}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value.type===\"device\")?\n        <ValueDeviceBlock data={data.value} type={field.type} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"text\")?\n        <TextBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"number\")?\n        <NumberBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"math\")?\n        <MathBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"enum\")?\n        <EnumBlock data={data.value} values={valuesDecod(field.values)} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"binary\")?\n        <EnumBlock data={data.value} values={[\"high\",\"low\",\"togle\"]} updata={updataValue} deleteEl={deleteValue}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {GroupsContext} from '../Groups/groupsContext'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {EnumBlock} from './enumBlock'\nimport {NumberBlock} from './numberBlock'\nimport {MathBlock} from './mathBlock'\n\nexport const ActGroup = ({updata,index,data,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {groups} = useContext(GroupsContext)\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return groups.filter((item)=>item.systemName===id)[0]\n  },[groups])\n\n  const lookForField = (device,name)=>{\n    return device?.fields?.filter((item)=>item.name===name)[0]\n  }\n\n  const valuesDecod = (data)=> data.split(\" \").join(\"\").split(\",\")\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = (event)=>{\n    let element = {...data, [event.target.name]:event.target.value}\n    if(event.target.name===\"action\")\n      setField(lookForField(lookForDeviceById(data.systemName),element.action))\n    updata({...element,index})\n  }\n\n  const updataValue = (data1)=>{\n    let element = data\n    let val = element.value\n    if(data.value.type===\"device\")\n      val = {...val, action:data1.action}\n    if(data.value.type===\"text\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"number\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"enum\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"math\")\n      val = data1\n    element.value = val\n    updata({...element,index})\n  }\n\n\nconst addvalue = ()=>{\n  typeValue(\"addValue\",{type:field.type},(typeValue)=>{\n    let element = data\n    if(typeValue===\"DeviceValue\"){\n      deviceBlock((deviceData)=>{\n        element = {...element, value:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n        updata(element,index)\n        return\n      }, \"if\", field.type)\n    }\n    if(typeValue===\"Text\")\n      element = {...element, value:{type:\"text\",value:\"\"}}\n    if(typeValue===\"Number\")\n      element = {...element, value:{type:\"number\",value:0}}\n    if(typeValue===\"Math\")\n      element = {...element, value:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n    if(typeValue===\"Enum\"&&field.type===\"binary\")\n      element = {...element, value:{type:\"enum\",value:\"low\"}}\n    if(typeValue===\"Enum\"&&field.type===\"enum\")\n      element = {...element, value:{type:\"enum\",value:valuesDecod(field.values)[0]}}\n    updata({...element,index})\n  })\n}\n\nconst deleteValue = ()=>{\n  let element = {...data, value:null}\n  updata({...element,index})\n}\n\nif(Object?.keys(device||\"\")?.length === 0 || Object?.keys(field||\"\")?.length === 0){\n  return null\n}\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"action\">\n          {\n            device.fields.map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item\">\n      ==\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue()}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value.type===\"device\")?\n        <ValueDeviceBlock data={data.value} type={field.type} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"text\")?\n        <TextBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"number\")?\n        <NumberBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"math\")?\n        <MathBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"enum\")?\n        <EnumBlock data={data.value} values={valuesDecod(field.values)} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"binary\")?\n        <EnumBlock data={data.value} values={[\"high\",\"low\"]} updata={updataValue} deleteEl={deleteValue}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const ActScript = ({updata,index,data,deleteEl})=>{\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        script: {data.systemName}\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useEffect,useContext,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\n\nexport const TriggerBlock = ({deviceId,action,updata,index,el,block,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const [type,setType] = useState(action??\"all\")\n  const [allTypes,setAllTypes] = useState([])\n\n  const lookForDeviceById = useCallback((id)=>{\n    let condidat = devices.filter((item)=>item.systemName===id)\n    condidat = condidat[0]\n    let array = []\n    if(condidat){\n      for (var item of condidat.fields) {\n        if(item.name){\n          array.push(item.name)\n        }\n      }\n    }\n    setAllTypes(array)\n    return condidat;\n  },[devices])\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(deviceId))\n  },[lookForDeviceById,deviceId])\n\n  const changeSelector = event=>{\n    setType(event.target.value)\n    updata({index,action:event.target.value})\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={type} onChange={changeSelector} name=\"property\">\n          <option value=\"all\">all</option>\n          {\n            allTypes.map((item,index)=>{\n              return(\n                <option key={index} value={item}>{item}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index,block)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const TriggerDateTime = ({deviceId,action,updata,index,el,block,deleteEl})=>{\n  const [frequency, setFrequency] = useState(action?.frequency||\"everyday\")\n  const [time, setTime] = useState(action?.time||null)\n  const [date, setDate] = useState(action?.date||1)\n\n  const change = (event)=>{\n    if(event.target.name === \"frequency\")\n    {\n      setFrequency(event.target.value)\n      updata({index,action:{\n        frequency:event.target.value,\n        time,\n        date\n      }})\n    }\n    if(event.target.name === \"time\")\n    {\n      setTime(event.target.value)\n      updata({index,action:{\n        frequency,\n        time:event.target.value,\n        date\n      }})\n    }\n    if(event.target.name === \"date\")\n    {\n      setDate(event.target.value)\n      updata({index,action:{\n        frequency,\n        time,\n        date:event.target.value\n      }})\n    }\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        datetime\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={frequency} onChange={change} name=\"frequency\">\n            <option value=\"everyday\">everyday</option>\n            <option value=\"everyhour\">every hour</option>\n            <option value=\"everyweek\">every week</option>\n            <option value=\"everymonth\">every month</option>\n        </select>\n      </div>\n      {\n        (frequency===\"everyday\")?\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"time\" name=\"time\" value={time} onChange={change}/>\n        </div>:\n        (frequency===\"everymonth\")?\n        <>\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"number\" name=\"date\" min={1} max={31} value={date} onChange={change}/>\n        </div>\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"time\" name=\"time\" value={time} onChange={change}/>\n        </div>\n        </>:\n        (frequency===\"everyweek\")?\n        <>\n        <div className=\"programm-function-block-content-item\">\n          <select value={date} onChange={change} name=\"date\">\n            <option value={1}>Monday</option>\n            <option value={2}>Tuesday</option>\n            <option value={3}>Wednesday</option>\n            <option value={4}>Thursday</option>\n            <option value={5}>Friday</option>\n            <option value={6}>Saturday</option>\n            <option value={7}>Sunday</option>\n          </select>\n        </div>\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"time\" name=\"time\" value={time} onChange={change}/>\n        </div>\n        </>:null\n      }\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index,block)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const DelayBlock = ({updata,index,data,deleteEl})=>{\n\n  const changeHandler = (event)=>{\n    let element = data\n    let val = element.value\n    val = {...val, value:event.target.value}\n    element.value = val\n    updata({...element,index})\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        Delay\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <input type=\"number\" onChange={changeHandler} value={data.value.value}/>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {useChecked} from '../hooks/checked.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {GroupBlock} from '../components/programmBlock/groupBlock'\nimport {ActBlock} from '../components/programmBlock/actBlock'\nimport {ActGroup} from '../components/programmBlock/actGroup'\nimport {ActScript} from '../components/programmBlock/actScript'\nimport {TriggerBlock} from '../components/programmBlock/triggerBlock'\nimport {TriggerDateTime} from '../components/programmBlock/triggerDateTime'\nimport {Loader} from '../components/Loader'\nimport {AddScriptContext} from '../components/addScript/addScriptContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {DelayBlock} from '../components/programmBlock/delayBlock'\nimport {useHistory,useParams} from 'react-router-dom'\n\nexport const NewScriptsPage = ({edit}) => {\n  let {id} = useParams();\n  const {setData} = useContext(MenuContext)\n  const history = useHistory()\n  const {USText} = useChecked()\n  const auth = useContext(AuthContext)\n  const {addTarget,typeAct,deviceBlock,groupBlock,addScriptBlock} = useContext(AddScriptContext)\n  const {message} = useMessage();\n  const {loading,request, error, clearError} = useHttp();\n  const[cost, setCost]=useState(true)\n  const[script, setScript]=useState({\n    name:\"\",\n    trigger:[],\n    condition:{type:\"group\" ,oper:\"and\",children:[],systemName:null,action:null,value:null},\n    then:[],\n    otherwise:[]\n  })\n\n  const addTrigger = ()=>{\n    addTarget((dataDev)=>{\n      if(dataDev.type === \"datetime\")\n      {\n        let mas = script;\n        mas.trigger.push({type:\"datetime\",action:{frequency:\"everyday\", time:\"00:00:00\"}})\n        setScript(mas)\n        return\n      }\n      if(!dataDev||!dataDev.systemName)\n        return\n      let mas = script;\n      mas.trigger.push({type:\"device\",action:\"all\",systemName:dataDev.systemName})\n      setScript(mas)\n    })\n  }\n\n  const deleteTrigger = (index)=>{\n    if(!script||!script.trigger)\n      return\n    let mas = script;\n    mas.trigger = mas.trigger.filter((_,i)=>i!==index)\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  const addActBlock = (type)=>{\n    typeAct((typeAct)=>{\n      setTimeout(function () {\n        if(typeAct===\"device\"){\n          deviceBlock((dataDev)=>{\n            if(!dataDev||!dataDev.systemName)\n              return\n            let mas = script;\n            let act = dataDev.fields[0].name\n            mas[type].push({type:\"device\",action:act,systemName:dataDev.systemName})\n            setScript(mas)\n          })\n        }\n        if(typeAct===\"group\"){\n          groupBlock((dataDev)=>{\n            if(!dataDev||!dataDev.systemName)\n              return\n            let mas = script;\n            let act = dataDev.fields[0].name\n            mas[type].push({type:\"group\",action:act,systemName:dataDev.systemName})\n            setScript(mas)\n          })\n        }\n        if(typeAct===\"script\"){\n          addScriptBlock((datascr)=>{\n            if(!datascr||!datascr.name)\n              return\n            let mas = script;\n            mas[type].push({type:\"script\",action:\"run\",systemName:datascr.name})\n            setScript(mas)\n          })\n        }\n        if(typeAct===\"delay\"){\n          let mas = script[type].slice();\n          mas.push({type:\"delay\",action:\"delay\",value:{type:\"number\", value:\"0\"}})\n          setScript({...script, [type]:mas})\n        }\n      }, 100);\n    })\n  }\n\n  const deleteActBlock = (type,index)=>{\n    if(!script||!script[type])\n      return\n    let mas = script;\n    mas[type] = mas[type].filter((_,i)=>i!==index)\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  const changeHandler = (event)=>{\n    setScript({...script,[event.target.name]:event.target.value})\n  }\n\n  const outHandler = async()=>{\n    try {\n      if(!script.name || !USText(script.name)){\n        console.error(\"allowed characters: 1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\");\n        let el = document.getElementById(\"scriptName\")\n        el.style=\"background:red;\"\n        message(\"allowed characters: 1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\",\"error\")\n        return\n      }\n      let data\n      if(edit)\n        data = await request(`/api/script/edit/${id}`, 'POST', {...script},{Authorization: `Bearer ${auth.token}`})\n      else\n        data = await request('/api/script/add', 'POST', {...script},{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        history.push('/scripts')\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const updatascript=(type,data)=>{\n    let mas = script;\n    let components = mas[type].slice()\n    let component = components[data.index]\n    for (var key in data) {\n      if (key!==\"index\") {\n        component[key] = data[key]\n      }\n    }\n    components[data.index] = component\n    mas[type] = components\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  const updataIfBlock=(data)=>{\n    let mas = script;\n    mas.condition = data\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    if(!cost)\n    setCost(true)\n  },[cost])\n\n  const giveScript = useCallback(async(idscript)=>{\n    const data = await request(`/api/script/get/${idscript}`, 'Get', null,{Authorization: `Bearer ${auth.token}`})\n    if(data){\n      let s = {}\n      s.name = data.name\n      s.condition = data.condition\n      s.trigger = data.trigger\n      s.then = data.then\n      s.otherwise = data.otherwise\n      setScript(s)\n      setCost(prev=>!prev)\n    }\n  },[auth.token,request])\n\n  useEffect(()=>{\n    if(id&&edit){\n      giveScript(id)\n    }\n  },[id,edit,giveScript])\n\n  useEffect(()=>{\n    setData(\"New Script\")\n  },[script, setData])\n\n  useEffect(()=>{\n    console.log(script);\n  },[script])\n\n  if(loading){\n    return(\n      <Loader/>\n    )\n  }\n\n  return(\n    <>\n      <div className = \"NewScripConteiner\">\n      <h2>Create new script</h2>\n        <div className=\"NewScripPage\">\n          <div className=\"scriptOut\">\n            <p>Script name</p>\n            <input type=\"text\" id=\"scriptName\" name=\"name\" value={script.name} onChange={changeHandler}/>\n            <button onClick={outHandler}>Save</button>\n          </div>\n          <div className=\"progammzon\">\n            <div className=\"triggerBlock\">\n              <div className=\"baseBlock\">\n                <div className=\"textBlock\">\n                  <p>Trigger</p>\n                </div>\n                <div className=\"addBlock\" onClick={addTrigger}>\n                  <i className=\"fas fa-plus\"></i>\n                </div>\n              </div>\n              {\n                (cost)?\n                script.trigger.map((item,index)=>{\n                  if(item?.type === \"datetime\")\n                    return <TriggerDateTime key={index} index={index} action={item.action} updata={(data1)=>updatascript(\"trigger\",data1)} deleteEl={()=>deleteTrigger(index)} block=\"trigger\" deviceId={item.systemName}/>\n                  return <TriggerBlock key={index} index={index} action={item.action} updata={(data1)=>updatascript(\"trigger\",data1)} deleteEl={()=>deleteTrigger(index)} block=\"trigger\" deviceId={item.systemName}/>\n                }):null\n              }\n            </div>\n            <div className=\"baseBlock\">\n              <div className=\"textBlock\">\n                <p>if</p>\n              </div>\n            </div>\n            {\n              (script.condition.children&&cost)?\n                <GroupBlock index = {\"1\"} type={script.condition.oper} data={script.condition} updata={updataIfBlock}/>\n              :null\n            }\n            <div className=\"baseBlock\">\n              <div className=\"textBlock\">\n                <p>then</p>\n              </div>\n              <div className=\"addBlock\" onClick={()=>addActBlock(\"then\")}>\n                <i className=\"fas fa-plus\"></i>\n              </div>\n            </div>\n            <div className=\"groupBlockConteiner\">\n            {\n              (cost)?\n              script.then.map((item,index)=>{\n                if(item.type===\"device\"){\n                  return <ActBlock deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                if(item.type===\"group\"){\n                  return <ActGroup deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                if(item.type===\"script\"){\n                  return <ActScript deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                if(item.type===\"delay\"){\n                  return <DelayBlock deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                return null\n              }):null\n            }\n            </div>\n            <div className=\"baseBlock\">\n              <div className=\"textBlock\">\n                <p>else</p>\n              </div>\n              <div className=\"addBlock\" onClick={()=>addActBlock(\"otherwise\")}>\n                <i className=\"fas fa-plus\"></i>\n              </div>\n            </div>\n            <div className=\"groupBlockConteiner\">\n            {\n              (cost)?\n              script.otherwise.map((item,index)=>{\n                if(item.type===\"device\"){\n                  return <ActBlock deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                if(item.type===\"group\"){\n                  return <ActGroup deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                if(item.type===\"script\"){\n                  return <ActScript deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                if(item.type===\"delay\"){\n                  return <DelayBlock deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                return null\n              }):\n              null\n            }\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React,{useContext,useEffect} from 'react'\nimport userDefault from '../../img/userNuN.png'\nimport {Link} from 'react-router-dom'\nimport {FormContext} from '../Form/formContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const UserElement = ({user,updata})=>{\n  const auth = useContext(AuthContext)\n  const form = useContext(FormContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className=\"userElement\">\n      <div className=\"content\">\n        <p>Email: {user.Email}\n        <br/>Mobile: {user.Mobile}</p>\n        <img alt=\"user icon\" src={userDefault} className=\"userImg\"/>\n        <h3>{user.UserName} {user.UserSurname}</h3>\n        <div className=\"control\">\n        {\n          (auth.userLevel===3&&auth.userId!==user.UserId)?\n          <button className=\"editBtn\" onClick={()=>{form.show(\"EditUserLevel\",updata,user)}}>Edit</button>:\n          null\n        }\n        {\n          (auth.userId===user.UserId)?\n          <Link className=\"editBtn\" to=\"/profile/edit\">Edit</Link>:\n          (auth.userLevel===3)?\n          <button className=\"deletBtn\" onClick={()=>{\n            message(\"Delete user?\",\"dialog\",async()=>{\n              await request(`/api/user/delete`, 'POST', {UserId:user.UserId},{Authorization: `Bearer ${auth.token}`})\n              updata()\n            },\"no\")\n          }}>delete</button>:\n          null\n        }\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default \"data:image/png;base64,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\"","import React,{useState,useEffect,useCallback,useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {Loader} from '../components/Loader'\nimport {UserElement} from '../components/usersCart/userElement'\n\nexport const UsersPage = () => {\n  const [users, setUsers] = useState([])\n  const [allUsers, setAllUsers] = useState([])\n  const {setData} = useContext(MenuContext)\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const history = useHistory()\n  const {loading,request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const updataUsers = useCallback(async()=>{\n    const data = await request('/api/user/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setUsers(data);\n    setAllUsers(data)\n  },[request,auth.token])\n\n  const searchout = useCallback((search)=>{\n    if(search===\"\"){\n      setUsers(allUsers)\n      return\n    }\n    let array = allUsers.filter(item => (item.UserName.toLowerCase().indexOf(search.toLowerCase())!==-1)||(item.UserSurname.toLowerCase().indexOf(search.toLowerCase())!==-1))\n    setUsers(array)\n  },[allUsers])\n\n  useEffect(()=>{\n    setData(\"Users\",{\n      specialAction:(auth.userLevel >= 3)?{\n        type: \"add\",\n        action:()=>history.push(\"/user/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, history, searchout, auth.userLevel])\n\n  useEffect(()=>{\n    updataUsers()\n  },[updataUsers])\n\n  if(loading){\n    return(\n      <Loader/>\n    )\n  }\n\n  return(\n    <>\n      <div className = \"conteiner top\">\n        <div className = \"Users\">\n          <div className=\"usersList\">\n            {\n              (users&&users[0])?\n                users.map((item,index)=>{\n                  return(\n                    <UserElement key={index} user={item} updata={updataUsers}/>\n                  )\n                })\n              :null\n            }\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, {useEffect,useContext,useRef,useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const ImagesInput = ({update}) =>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const inputRef = useRef(null)\n  const imgConteiner = useRef(null)\n  const [filesArr,setFiles] = useState([])\n\n  const byteToSize = (bytes)=>{\n    const size = [\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\"]\n    if(!bytes) return \"0 Bytes\"\n    let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)))\n    return Math.round(bytes / Math.pow(1024,i),2) + \" \" + size[i]\n  }\n\n  async function handleFiles(event){\n    let files = Array.from(event.target.files)\n    setFiles(files)\n    let conteiner = imgConteiner.current\n    conteiner.innerHTML=\"\"\n    files.forEach(file => {\n      if(!file.type.match('image')){\n        return\n      }\n      const reader = new FileReader()\n\n      reader.onload = ev =>{\n        conteiner.insertAdjacentHTML(\"afterbegin\",`\n        <div class=\"image-preview\">\n          <img src=\"${ev.target.result}\" alt=\"${file.name}\"/>\n          <div class=\"preview-remove\" data-name=\"${file.name}\">&times</div>\n          <div class=\"preview-info\"><span>${file.name}</span><span>${byteToSize(file.size)}</span></div>\n        </div>\n        `)\n      }\n\n      reader.readAsDataURL(file)\n    });\n  }\n\n  const imgClick = (event)=>{\n    if(!event.target.dataset.name){\n      return\n    }\n\n    const {name} = event.target.dataset\n    let files = filesArr.filter(file=>file.name!==name)\n    setFiles(files)\n    const block = imgConteiner.current.querySelector(`[data-name=\"${name}\"]`).closest(\".image-preview\")\n    block.classList.add(\"removeing\")\n    setTimeout(function () {\n      block.remove()\n    }, 300);\n\n  }\n\n  const sendFile = async()=>{\n    for (const file of filesArr) {\n      var data = new FormData();\n      data.append(\"file\",file)\n      data.append('name',file.name)\n      const ret = await request(`/api/file/background/load`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n      if(ret===\"ok\"){\n        const block = imgConteiner.current.querySelector(`[data-name=\"${file.name}\"]`).closest(\".image-preview\")\n        block.classList.add(\"removeing\")\n        setTimeout(function () {\n          block.remove()\n        }, 300);\n      }\n    }\n    setFiles([])\n    if(typeof(update)===\"function\"){\n      setTimeout(function () {\n        update()\n      }, 200);\n    }\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n\n  return(\n    <div className=\"cartImageInput\">\n      <h2>Загрузить изображение</h2>\n      <input ref={inputRef} multiple={true} type=\"file\" id=\"fileElem\" accept=\"image/*\" onChange={handleFiles}/>\n      <div ref={imgConteiner} className=\"fileList\" onClick={imgClick}></div>\n      <div className=\"btnConteiner\">\n      {\n        (filesArr&&filesArr[0])?\n        <button className=\"highSelection button\" onClick={sendFile}>загрузить</button>:\n        null\n      }\n      <button style={{marginLeft: \"10px\"}} className=\"normalSelection button\" onClick={()=>inputRef.current.click()}>открыть</button>\n      </div>\n    </div>\n  )\n}\n","import React,{useEffect,useState,useContext} from 'react'\nimport {BackForm} from '../backForm'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {StyleContext} from '../UserStyle/StyleContext'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const ImageDitail = ({data,hide})=>{\n  const [fon,setFon]=useState(\"base\")\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n  const {updateConfig} = useContext(StyleContext)\n\n\n  const changeSelector = (event)=>{\n    setFon(event.target.value)\n  }\n\n  const out = async()=>{\n    await request(`/api/file/background/linc?name=${data.title}&type=${fon}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    updateConfig()\n    hide()\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return (\n    <BackForm onClick={hide} className=\"ditailImage-body\">\n      <div className=\"ditailImage-box\">\n        <div className=\"ditailImage-image\">\n          <img src={data.image} alt={data.title}/>\n        </div>\n        <div className=\"ditailImage-control\">\n          <p>Name: {data.title}</p>\n          <div className=\"dividers\"></div>\n          <div className=\"input-data\">\n          <select value={fon} onChange={changeSelector}>\n            <option value=\"base\">Base</option>\n            <option value=\"sunrise\">Sunrise</option>\n            <option value=\"day\">Day</option>\n            <option value=\"twilight\">Twilight</option>\n            <option value=\"night\">Night</option>\n          </select>\n          </div>\n          <button className=\"button normalSelection\" onClick={out}>Cделать фоном</button>\n        </div>\n      </div>\n    </BackForm>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {ImagesInput} from '../components/inputImages'\nimport {AlertContext} from '../components/alert/alertContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {ImageDitail} from '../components/files/imageDitail'\n\nexport const GalleryPage = () => {\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {show,hide} = useContext(AlertContext);\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [visible,setVisible] = useState(false)\n  const [end,setEnd] = useState(false)\n  const [urls,setUrls] = useState([])\n  const [newUrl,setnewUrl] = useState(0)\n  const [ditailElement,setDitailElement] = useState({})\n\n  const getTenUrl = useCallback(async(oldUrl = 0)=>{\n    try {\n      const data = await request(`/api/file/background/get?index=${oldUrl}&count=10`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        if(data.length !== 10)\n          setEnd(true)\n        setnewUrl(oldUrl+30)\n        let arr = urls.slice()\n        if(newUrl>oldUrl){\n          arr = []\n        }\n        for (let item of data) {\n          arr.push(item)\n        }\n        setUrls(arr)\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  },[auth.token,newUrl,urls,request])\n\n  const deleteImg = (id)=>{\n    show(\"удалить изображение?\",\"general\",()=>{\n      request(`/api/file/background/delete/${id}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      let arr = urls.slice()\n      arr = arr.filter(item=>item.title!==id)\n      setUrls(arr)\n    },hide)\n  }\n\n  const ditail = (event,item)=>{\n    if(event.target.dataset.type===\"rootimg\"){\n      setDitailElement(item)\n      setVisible(true)\n    }\n  }\n\n  useEffect(()=>{\n    if(newUrl===0)\n      getTenUrl()\n  },[getTenUrl,newUrl])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    setData(\"Gallery\")\n  },[setData])\n\n  return(\n    <div className=\"conteiner top bottom\">\n    {\n      (visible)?\n      <ImageDitail data={ditailElement} hide={()=>setVisible(false)}/>:\n      null\n    }\n    <div className=\"\">\n      <ImagesInput update={getTenUrl}/>\n      <div className=\"galeryContent\">\n      {\n        (urls&&urls[0])?\n        urls.map((item,index)=>{\n          return(\n            <div key={index} className=\"imageBx\" onClick={(event)=>ditail(event,item)}>\n              <img src={item.image} alt={item.title} data-type=\"rootimg\"/>\n              <div className=\"preview-remove\" onClick={()=>deleteImg(item.title)}>\n              <i className=\"fas fa-times\"></i>\n              </div>\n              <div className=\"preview-info\"><span>{item.title}</span></div>\n            </div>\n          )\n        }):null\n      }\n      {\n        (!end)?\n        <button className=\"btn2\" onClick={()=>getTenUrl(newUrl)}>ещё</button>:\n        null\n      }\n      </div>\n    </div>\n    </div>\n  )\n}\n","import {createContext} from 'react'\n\nexport const TypeDeviceContext = createContext()\n","export default __webpack_public_path__ + \"static/media/socket.159fbd8e.png\";","export default __webpack_public_path__ + \"static/media/sensor.937a0c45.png\";","export default __webpack_public_path__ + \"static/media/lamp.0636a2da.png\";","import React,{useContext} from 'react'\nimport {TypeDeviceContext} from '../../components/typeDevices/typeDevicesContext.js'\nimport socketImg from '../../img/socket.png'\nimport sensorImg from '../../img/sensor.png'\nimport lampImg from '../../img/lamp.png'\nimport switchImg from '../../img/switch.png'\nimport relayImg from '../../img/relay.jpg'\n\nconst images = {\n  lamp: lampImg,\n  light: lampImg,\n  switch: switchImg,\n  relay: relayImg,\n  socket: socketImg,\n  sensor: sensorImg\n}\n\nfunction getImage(name) {\n  for (var key in images) {\n    if(name.indexOf(key) !== -1)\n      return images[key]\n  }\n}\n\nexport const AddDevicesPage1 = ({form, setForm, next}) => {\n  const {type} = useContext(TypeDeviceContext)\n\n  const choisetype = (typedev, typeconnect)=>{\n    setForm({...form, type:typedev, typeConnect:typeconnect})\n    next()\n  }\n\n  return(\n    <>\n      <ul className=\"leftlist\"></ul>\n      <div className=\"devicesTypeListConteiner\">\n        {\n          type?.map((item,index)=>{\n            return(\n              <div key={index} className=\"typeDevice\">\n                <div className=\"configTitle\">\n                  <p>{item.title}</p>\n                </div>\n                <div className=\"typeDeviceConteiner\">\n                {\n                  item.typs?.map((item2, index2)=>{\n                    return(\n                      <div className=\"card\" key={index2} onClick = {()=>choisetype(item2, item.title)}>\n                        <div className=\"imgConteiner\">\n                          <img src={item.img||getImage(item2)} alt={item2}/>\n                        </div>\n                        <p>{`${item2} (${item.title})`}</p>\n                      </div>\n                    )\n                  })\n                }\n                </div>\n                <div className=\"dividers\"></div>\n              </div>\n            )\n          })\n        }\n      </div>\n    </>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/switch.65d758d2.png\";","export default __webpack_public_path__ + \"static/media/relay.80691df2.jpg\";","import React,{useState} from 'react'\nimport {useMessage} from '../../hooks/message.hook'\nimport {IconChoose} from '../../components/iconChoose'\n\nexport const AddDevicesPage2MQTT = ({form, setForm, next,backPage, begining = []}) => {\n  const {message} = useMessage();\n  const [fields, setFields] = useState(begining)\n\n  const updata = (key, value)=>{\n    setForm({...form, [key]:value})\n  }\n\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeHandlerFieldChek = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.checked }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const removeField = (index)=>{\n    setFields(fields.filter((item, index2)=>index2 !== index))\n  }\n\n  const validFields = ()=>{\n    let arrType = []\n    if(!form.address){\n      message(\"нет адреса\",\"error\")\n      return false\n    }\n    if(!fields[0]){\n      message(\"нет полей\",\"error\")\n      return false\n    }\n    for (var item of fields) {\n      if(!item.address || !item.name){\n        message(\"некоректное поле\",\"error\")\n        return false\n      }\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n\n  const addField = ()=>{\n    let arr = fields.slice()\n    arr.push({\n      address:\"\",\n      name:\"\",\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"fas fa-circle-notch\",\n      unit:\"\"\n    })\n    setFields(arr)\n  }\n\n  const nextPage = ()=>{\n    updata(\"fields\",fields)\n    if(validFields())\n      next()\n  }\n\n  return(\n    <div className=\"allFon\">\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"address\" type=\"text\" value={form.address}></input>\n        <label>Address</label>\n      </div>\n    </div>\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <select className = \"textInput\" name=\"valueType\" value={form.valueType} onChange={(e)=>updata(e.target.name, e.target.value)}>\n          <option value=\"json\">json</option>\n          <option value=\"value\">value</option>\n        </select>\n        <label>Type value</label>\n      </div>\n    </div>\n      <div className=\"fieldsConteiner\">\n      {\n        fields?.map((item, index)=>{\n          return(\n            <div key={index} className=\"fieldConteiner\">\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} onChange={changeHandlerField} required name=\"name\" type=\"text\" value={item.name}></input>\n                <label>name field</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} onChange={changeHandlerField} required name=\"address\" type=\"text\" value={item.address}></input>\n                <label>address field</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <select className = \"textInput\" data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                  <option value=\"binary\">binary</option>\n                  <option value=\"text\">text</option>\n                  <option value=\"number\">number</option>\n                  <option value=\"enum\">enum</option>\n                </select>\n                <label>type</label>\n              </div>\n            </div>\n            <div className=\"configElement\" style={{justifyContent:\"center\"}}>\n              <div className=\"checkbox-btn\">\n                <input data-id={index} type=\"checkbox\" placeholder=\"unit\" name=\"control\" checked={Boolean(item.control)} onChange={changeHandlerFieldChek} required/>\n                <div><span className=\"slide\"></span></div>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"number\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"number\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n              </div>\n            </div>:null\n            }\n            <div className=\"buttons\">\n              <button className=\"normalSelection button\" onClick={()=>removeField(index)}>delete field</button>\n            </div>\n            </div>\n          )\n        })\n      }\n      <div className=\"buttons\">\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={addField}>add field</button>\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n        <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={nextPage}>Next</button>\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const AddDevicesPage2Yeelight = ({form, setForm, next, backPage}) => {\n  const {message} = useMessage();\n\n  const updata = (key, value)=>{\n    setForm({...form, [key]:value})\n  }\n\n  const nextPage = ()=>{\n    if(!form.address){\n      message(\"нет адреса\",\"error\")\n      return false\n    }\n    next()\n  }\n\n  return(\n    <div className=\"allFon\">\n    <div className=\"infoElement\">\n      <p>1. Через оригинальное приложение необходимо включить у устройства управление по LAN.</p>\n      <p>2. Введите ip адресс устройства (его можно посмотреть в том же приложении).</p>\n    </div>\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"address\" type=\"text\" value={form.address}></input>\n        <label>Address</label>\n      </div>\n    </div>\n      <div className=\"buttons\">\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n        <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={nextPage}>Next</button>\n      </div>\n    </div>\n  )\n}\n","import React,{useContext,useState,useEffect} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {Loader} from '../../components/Loader'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {SocketContext} from '../../context/SocketContext'\n\nconst defVal = {\n  voltage:{\n    low:0,\n    high:10000000\n  },\n  battery:{\n    low:0,\n    high:100\n  },\n  linkquality:{\n    low:0,\n    high:255\n  }\n}\n\nexport const AddDevicesPage2Zigbee = ({form, setForm, next, backPage}) => {\n  const {message} = useMessage();\n  const socket = useContext(SocketContext)\n  const auth = useContext(AuthContext)\n  const {request, error, clearError} = useHttp();\n  const [devices, setDevices] = useState([])\n\n  const nextPage = ()=>{\n    next()\n  }\n\n  const convertForm = (exposes)=>{\n    let newArr = []\n    for (var item of exposes) {\n      if(item.features)\n      {\n        for (var item2 of item.features) {\n          item2.name = item2.endpoint\n          item2.control = true\n          newArr.push(item2)\n        }\n      }\n      else {\n        newArr.push(item)\n      }\n    }\n    return newArr;\n  }\n\n  const dupCorrekt = (arr)=>{\n    let arr2 = []\n    let flag = true\n    for (var item of arr) {\n      flag = true\n      if(item.endpoint && item.endpoint !== item.name)\n        item.name = item.name + \"_\" + item.endpoint\n      for (var item2 of arr2) {\n        if(item.name === item2)\n          flag = false\n      }\n      if(flag)\n        arr2.push(item.name)\n      else {\n        item.name = item.name + \"_\" + arr2.indexOf(item.name)\n        arr2.push(item.name)\n      }\n    }\n    return arr\n  }\n\n  const val = (values=[], def)=>{\n    for (var item of values) {\n      if(item)\n        return item\n      if(item === 0)\n        return 0\n      if(item === false)\n        return false\n    }\n    return def\n  }\n\n  const linc = async(dev)=>{\n    let conf = []\n    for (let item of dupCorrekt(convertForm(dev.exposes))) {\n      let type = item.type\n      if(item.type===\"numeric\")\n        type=\"number\"\n      let values = \"\"\n      if(item.values){\n        values = item.values.join(\", \")\n      }\n      let confel = {\n        name:item.name,\n        address:item.property,\n        low:(defVal[item.name]?.low)||val([item.value_min,item.value_off],0),\n        high:(defVal[item.name]?.high)||val([item.value_max,item.value_on],100000),\n        icon:\"fas fa-circle-notch\",\n        type:type,\n        unit:item.unit,\n        values:values,\n        control:item.endpoint||false\n      }\n      conf.push(confel)\n    }\n    await setForm({\n      ...form,\n      address:dev.root_address.topic + \"/\" + dev.name,\n      fields: conf,\n      valueType: \"json\",\n    })\n    nextPage()\n  }\n\n  useEffect(()=>{\n    if(socket.message.type===\"newZigbeesDevice\")\n    {\n      setDevices(prev=>{\n        let flag = true;\n        let arr = prev.map((item)=>{\n          if(socket.message.data.friendly_name === item.friendly_name){\n            flag = false\n            return socket.message.data\n          }\n          return item\n        })\n        if(flag)\n          arr.push(socket.message.data)\n        return arr\n      })\n    }\n  },[socket.message])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    request('/api/module/zigbee2mqtt/permit_join/set', 'POST',{state:true},{Authorization: `Bearer ${auth.token}`})\n    return ()=>{\n      request('/api/module/zigbee2mqtt/permit_join/set', 'POST',{state:false},{Authorization: `Bearer ${auth.token}`})\n    }\n  },[request,auth.token])\n\n  return(\n    <div className=\"allFon\">\n    <div className=\"infoElement\">\n      <p>Зажмите кнопку сопряжения на устройстве на 5сек.</p>\n    </div>\n    <div className=\"zigbeeDeviceConteiner\">\n    {\n      devices.map((item, index)=>{\n        return(\n          <div className=\"zigbeeDevice\" key={index} onClick={(item.exposes)?()=>linc(item):()=>{}}>\n            <div className=\"name\">name: {item.name}</div>\n            <div className=\"dividers\"></div>\n            {\n              (item.exposes)?\n              <>\n                <div className=\"model\">model: {item.model}</div>\n                <div className=\"dividers\"></div>\n                <div className=\"description\">{item.description}</div>\n              </>\n              :<div className=\"devLoader\"><Loader style={{position:\"absolute\"}}/></div>\n            }\n          </div>\n        )\n      })\n    }\n    </div>\n      <div className=\"buttons\">\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\nimport {useMessage} from '../../hooks/message.hook'\nimport {IconChoose} from '../../components/iconChoose'\n\nexport const AddDevicesPage2Variable = ({form, setForm, next,backPage, begining = []}) => {\n  const {message} = useMessage();\n  const [fields, setFields] = useState(begining)\n\n  const updata = (key, value)=>{\n    setForm({...form, [key]:value})\n  }\n\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const removeField = (index)=>{\n    setFields(fields.filter((item, index2)=>index2 !== index))\n  }\n\n  const validFields = ()=>{\n    let arrType = []\n    if(!fields[0]){\n      message(\"нет полей\",\"error\")\n      return false\n    }\n    for (var item of fields) {\n      if(!item.name){\n        message(\"некоректное поле\",\"error\")\n        return false\n      }\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n\n  const addField = ()=>{\n    let arr = fields.slice()\n    arr.push({\n      address:\"\",\n      name:\"\",\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"fas fa-circle-notch\",\n      unit:\"\"\n    })\n    setFields(arr)\n  }\n\n  const nextPage = ()=>{\n    updata(\"fields\",fields)\n    if(validFields())\n      next()\n  }\n\n  return(\n    <div className=\"allFon\">\n      <div className=\"fieldsConteiner\">\n      {\n        fields?.map((item, index)=>{\n          return(\n            <div key={index} className=\"fieldConteiner\">\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} onChange={changeHandlerField} required name=\"name\" type=\"text\" value={item.name}></input>\n                <label>name field</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <select className = \"textInput\" data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                  <option value=\"binary\">binary</option>\n                  <option value=\"text\">text</option>\n                  <option value=\"number\">number</option>\n                  <option value=\"enum\">enum</option>\n                </select>\n                <label>type</label>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"number\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"number\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n              </div>\n            </div>:null\n            }\n            <div className=\"buttons\">\n              <button className=\"normalSelection button\" onClick={()=>removeField(index)}>delete field</button>\n            </div>\n            </div>\n          )\n        })\n      }\n      <div className=\"buttons\">\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={addField}>add field</button>\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n        <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={nextPage}>Next</button>\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {useChecked} from '../../hooks/checked.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const AddDevicesPage3 = ({form, setForm, next, backPage}) => {\n  const {USText} = useChecked()\n  const {message} = useMessage();\n\n  const updata = (key, value)=>{\n    setForm({...form, [key]:value})\n  }\n\n  const nextPage = ()=>{\n    if(!form.name || !USText(form.systemName)){\n      message(\"некоректные данные\",\"error\")\n      return\n    }\n    next()\n  }\n\n  return(\n    <div className=\"allFon\">\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"name\" type=\"text\" value={form.name}></input>\n        <label>Name</label>\n      </div>\n    </div>\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"systemName\" type=\"text\" value={form.systemName}></input>\n        <label>System name</label>\n      </div>\n    </div>\n      <div className=\"buttons\">\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n        <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={nextPage}>Next</button>\n      </div>\n    </div>\n  )\n}\n","import React,{useContext,useState,useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {AddDevicesPage1} from './AddDeviceComponents/page1'\nimport {AddDevicesPage2MQTT} from './AddDeviceComponents/page2Mqtt'\nimport {AddDevicesPage2Yeelight} from './AddDeviceComponents/page2Yeelight'\nimport {AddDevicesPage2Zigbee} from './AddDeviceComponents/page2Zigbee'\nimport {AddDevicesPage2Variable} from './AddDeviceComponents/page2Variable'\nimport {AddDevicesPage3} from './AddDeviceComponents/page3'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\n\nexport const AddDevicesPage = () => {\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const history = useHistory()\n  const {clearMessage} = useMessage();\n  const {request} = useHttp();\n  const [page, setPage] = useState(1)\n  const [form, setForm] = useState({\n    typeConnect: '',\n    type: '',\n    valueType: 'json',\n    name: '',\n    address:'',\n    systemName:'',\n    fields:[],\n    token:''\n  });\n\n  useEffect(()=>{\n    setData(\"Add device\")\n  },[setData])\n\n  useEffect(()=>{\n    console.log(form);\n  },[form])\n\n  const next = ()=>setPage(prev=>prev + 1)\n\n  const outHandler = async () => {\n    try {\n      clearMessage();\n      const data = await request('/api/device/add', 'POST', {...form},{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        history.push('/devices')\n      }\n    } catch (e) {\n\n    }\n  }\n\n  const backPage = ()=>setPage(prev=>prev - 1)\n\n  return(\n    <div className = {`fullScrinContainer bottom ${(page === 1)?\"addDevice\":\"\"}`}>\n    {\n      (page === 1)?\n      <AddDevicesPage1 form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 2 && form.typeConnect === \"Mqtt_MQTTDevice\")?\n      <AddDevicesPage2MQTT form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 2 && (form.typeConnect === \"Yeelight_Yeelight\"))?\n      <AddDevicesPage2Yeelight form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 2 && (form.typeConnect === \"Zigbee_ZigbeeDevice\"))?\n      <AddDevicesPage2Zigbee form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 2 && (form.typeConnect === \"variable\"))?\n      <AddDevicesPage2Variable form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 3)?\n      <AddDevicesPage3 form={form} setForm={setForm} backPage={backPage} next={outHandler}/>:\n      null\n    }\n    </div>\n  )\n}\n","import React,{useState,useRef,useEffect,useCallback,useContext} from 'react'\nimport {useHistory,useParams} from 'react-router-dom'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useStorage} from '../../hooks/storage.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\n\nexport const AddMoviePage = ({type=\"movie\",edit=false}) => {\n  const storegeName = (type===\"movie\")?\"Moviestorage\":\"Serialstorage\"\n  const {id} = useParams()\n  const def = {\n    title:'',\n    tagline:'',\n    discription:'',\n    year:2019,\n    country:\"\",\n    regisers:[],\n    actors:[],\n    ganres:[],\n    date:'',\n    budget:0,\n    fees_in_usa:0,\n    fees_in_world:0,\n    category:'',\n    url:'',\n    urlLocal:'',\n    loaded:false,\n    quality:'',\n    count_seasons:0,\n    closed:false,\n    save_seasons:0,\n  }\n  const auth = useContext(AuthContext)\n  const history = useHistory()\n  const {setData,removeData,getData} = useStorage()\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const imgPoster = useRef(null)\n  const divPoster = useRef(null)\n  const poster = useRef()\n  const [actors,setActors] = useState([])\n  const [ganres,setGanres] = useState([])\n  const [categorys,setCategorys] = useState([])\n  const [form,setForm] = useState(def)\n\n  const out = async()=>{\n    var data = new FormData();\n    removeData(storegeName)\n    if(poster.current){\n      let file = poster.current\n      data.append(\"poster\",file)\n    }\n    for (var key in form) {\n      data.append(key,form[key])\n    }\n    if(type===\"movie\"&&!edit)\n      await request(`/api/files/movies/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    if(type===\"serial\"&&!edit)\n      await request(`/api/files/serials/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    if(type===\"movie\"&&edit)\n      await request(`/api/files/movies/edit/${id}`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    if(type===\"serial\"&&edit)\n      await request(`/api/files/serials/edit/${id}`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    history.push(`/files/${type}s`)\n  }\n\n\n  const giveData = useCallback(async()=>{\n    const allactors = await request('/api/files/actors/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    const allganres = await request('/api/files/ganres/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    const allcategorys = await request('/api/files/category/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(allactors){\n      setActors(allactors.actors)\n    }\n    if(allganres){\n      setGanres(allganres.ganres)\n    }\n    if(allcategorys){\n      setCategorys(allcategorys.category)\n    }\n  },[auth.token,request])\n\n  function handleFiles(event) {\n    const files = event.target.files\n    window.URL = window.URL || window.webkitURL;\n    var fileList = divPoster.current\n    poster.current = event.target.files[0]\n\n  if (!files.length) {\n    fileList.innerHTML = \"<p>No files selected!</p>\";\n    return;\n  }\n\n  var img = imgPoster.current\n  img.src = window.URL.createObjectURL(files[0]);\n  img.onload = function() {\n    window.URL.revokeObjectURL(this.src);\n  }\n}\n\nfunction getSelectValues(select) {\n  var result = [];\n  var options = select && select.options;\n  var opt;\n\n  for (var i=0, iLen=options.length; i<iLen; i++) {\n    opt = options[i];\n\n    if (opt.selected) {\n      result.push(Number(opt.value)||opt.value);\n    }\n  }\n  return result;\n}\n\nconst changeSelect = (event)=>{\n  setForm({...form,[event.target.name]:getSelectValues(event.target)})\n}\n\nconst changeHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.value})\n}\n\nconst checkedHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.checked})\n}\n\nconst getMovieData = useCallback(async()=>{\n  const data = await request(`/api/files/movie/${id}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  if(data&&data[type]){\n    let item = data[type]\n    setForm((prev)=>{return{\n      ...prev,\n      title:item.title,\n      tagline:item.tagline,\n      discription:item.discription,\n      year:item.year,\n      country:item.country,\n      regisers:item.directors && item.directors.map((item2)=>item2.id),\n      actors:item.actors && item.actors.map((item2)=>item2.id),\n      ganres:item.genres && item.genres.map((item2)=>item2.id),\n      date:item.world_premiere,\n      budget:item.budget,\n      fees_in_usa:item.fees_in_usa,\n      fees_in_world:item.fees_in_world,\n      category:item.category.id,\n      url:item.url,\n      urlLocal:item.localUrl,\n      loaded:item.loaded,\n      quality:item.grade,\n      count_seasons:item.count_seasons||0,\n      closed:item.closed||false,\n      save_seasons:item.save_seasons||0,\n    }})\n    var img = imgPoster.current\n    img.src = item.poster\n  }\n},[request,auth.token,id,type])\n\nuseEffect(()=>{\n  giveData()\n},[giveData])\n\nuseEffect(()=>{\n  if(edit){\n    getMovieData()\n  }\n},[edit,getMovieData])\n\nuseEffect(()=>{\n  const d = getData(storegeName)\n  if(d)\n    setForm(d)\n},[getData,storegeName])\n\nuseEffect(()=>{\n  setData(storegeName,form)\n},[form,setData,storegeName])\n\nuseEffect(()=>{\n  message(error, 'error');\n  clearError();\n},[error, message, clearError])\n\n  return(\n    <div className = \"whiteBacground no-pg-top opacity newMovie\">\n      <p>Название фильма</p>\n      <input value={form.title} type=\"text\" name=\"title\" onChange={changeHeandler}/>\n      <p>Слоган</p>\n      <input value={form.tagline} type=\"text\" name=\"tagline\" onChange={changeHeandler}/>\n      <p>страна</p>\n      <input value={form.country} type=\"text\" name=\"country\" onChange={changeHeandler}/>\n      <p>описание</p>\n      <textarea value={form.discription} name=\"discription\" id=\"\" cols=\"30\" rows=\"10\" onChange={changeHeandler}></textarea>\n      <div className=\"imageInput\">\n        <label>\n          <p>Poster</p>\n          <input type=\"file\" name=\"poster\" id=\"fileElem\" accept=\"image/*\" onChange={handleFiles}/>\n          <div ref={divPoster} className=\"fileList\">\n            <img ref={imgPoster} className=\"inputImg\" alt=\"poster\"/>\n          </div>\n        </label>\n      </div>\n      <p>год выхода</p>\n      <input value={form.year} type=\"number\" name=\"year\" onChange={changeHeandler}/>\n      <p>режисер</p>\n      <div className=\"selected-div\">\n        <select value={form.regisers} className=\"actor-ganre-select\" name=\"regisers\" multiple={true} onChange={changeSelect}>\n        {\n          actors.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/actor/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      <p>актеры</p>\n      <div className=\"selected-div\">\n        <select value={form.actors} className=\"actor-ganre-select\" name=\"actors\" multiple={true} onChange={changeSelect}>\n        {\n          actors.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/actor/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      <p>жанр</p>\n      <div className=\"selected-div multi\">\n        <select value={form.ganres} className=\"actor-ganre-select\" name=\"ganres\" multiple={true} onChange={changeSelect}>\n        {\n          ganres.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/ganre/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      <p>дата выхода</p>\n      <input value={form.date} onChange={changeHeandler} type=\"date\" name=\"date\"/>\n      <p>бюджет</p>\n      <input value={form.budget} min={0} onChange={changeHeandler} type=\"number\" name=\"budget\"/>\n      <p>сборы в США</p>\n      <input value={form.fees_in_usa} onChange={changeHeandler} type=\"number\" name=\"fees_in_usa\"/>\n      <p>сборы в мире</p>\n      <input value={form.fees_in_world} onChange={changeHeandler} type=\"number\" name=\"fees_in_world\"/>\n      <p>категория</p>\n      <div className=\"selected-div\">\n        <select value={form.category} onChange={changeHeandler} name=\"category\">\n          <option value={\"\"}></option>\n        {\n          categorys.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/category/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      {\n        (type===\"serial\")?\n        <>\n        <p>количество сезонов</p>\n        <input value={form.count_seasons} min={0} onChange={changeHeandler} type=\"number\" name=\"count_seasons\"/>\n        <p>закрыт</p>\n        <input value={form.closed} onChange={checkedHeandler} type=\"checkbox\" name=\"closed\"/>\n        <p>количество загруженных сезонов</p>\n        <input value={form.save_seasons} min={0} onChange={changeHeandler} type=\"number\" name=\"save_seasons\"/>\n        </>\n        :null\n      }\n      <p>ссылка на сайт</p>\n      <input value={form.url} onChange={changeHeandler} type=\"url\" name=\"url\"/>\n      <p>Скачено</p>\n      <input value={form.loaded} onChange={checkedHeandler} type=\"checkbox\" name=\"loaded\"/>\n      {\n        (form.loaded)?\n        <>\n        <p>ссылка на скаченный файл</p>\n        <input value={form.urlLocal} onChange={changeHeandler} type=\"text\" name=\"urlLocal\"/>\n        <p>качество скаченного файла</p>\n        <input value={form.quality} onChange={changeHeandler} type=\"text\" name=\"quality\"/>\n        </>\n        :null\n      }\n      <button onClick={out}>Отправить</button>\n      {\n        (!edit)?\n        <button onClick={()=>{\n          removeData(storegeName)\n          setForm(def)\n        }}>Очистить</button>\n        :null\n      }\n    </div>\n  )\n}\n","import {useCallback} from 'react'\n\nexport const useStorage = () => {\n  const setData = useCallback((storegeName,data)=>{\n    localStorage.setItem(storegeName, JSON.stringify(data))\n  },[])\n\n  const getData = useCallback((storegeName)=>{\n    return JSON.parse(localStorage.getItem(storegeName))\n  },[])\n\n  const removeData = useCallback((storegeName)=>{\n    localStorage.removeItem(storegeName)\n  },[])\n\n  return {setData,getData,removeData}\n}\n","import React,{useState,useRef,useEffect,useContext} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\n\nexport const AddActorPage = () => {\n  const auth = useContext(AuthContext)\n  const {goBack} = useHistory()\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const imgPoster = useRef(null)\n  const divPoster = useRef(null)\n  const poster = useRef()\n  const [form,setForm] = useState({\n    name:'',\n    date_of_birth:'',\n    discription:'',\n    url:'',\n  })\n\n  const out = async()=>{\n    let file = poster.current\n    var data = new FormData();\n    data.append(\"image\",file)\n    for (var key in form) {\n      data.append(key,form[key])\n    }\n\n    await request(`/api/files/actor/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    goBack()\n  }\n\n\n  function handleFiles(event) {\n    const files = event.target.files\n    window.URL = window.URL || window.webkitURL;\n    var fileList = divPoster.current\n    poster.current = event.target.files[0]\n\n  if (!files.length) {\n    fileList.innerHTML = \"<p>No files selected!</p>\";\n    return;\n  }\n\n  var img = imgPoster.current\n  img.src = window.URL.createObjectURL(files[0]);\n  img.onload = function() {\n    window.URL.revokeObjectURL(this.src);\n  }\n}\n\nconst changeHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.value})\n}\n\nuseEffect(()=>{\n  message(error, 'error');\n  clearError();\n},[error, message, clearError])\n\n  return(\n    <div className = \"whiteBacground no-pg-top opacity newMovie\">\n      <p>Имя</p>\n      <input value={form.name} type=\"text\" name=\"name\" onChange={changeHeandler}/>\n      <p>дата рождения</p>\n      <input value={form.date_of_birth} type=\"date\" name=\"date_of_birth\" onChange={changeHeandler}/>\n      <p>описание</p>\n      <textarea value={form.discription} name=\"discription\" id=\"\" cols=\"30\" rows=\"10\" onChange={changeHeandler}></textarea>\n      <div className=\"imageInput\">\n        <label>\n          <p>Image</p>\n          <input type=\"file\" name=\"poster\" id=\"fileElem\" accept=\"image/*\" onChange={handleFiles}/>\n          <div ref={divPoster} className=\"fileList\">\n            <img ref={imgPoster} className=\"inputImg\" alt=\"photoActors\"/>\n          </div>\n        </label>\n      </div>\n      <p>ссылка на сайт</p>\n      <input value={form.url} onChange={changeHeandler} type=\"url\" name=\"url\"/>\n      <button onClick={out}>Отправить</button>\n    </div>\n  )\n}\n","import React,{useState,useEffect,useContext} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\n\nexport const AddGanrePage = ({type=\"ganre\"}) => {\n  const auth = useContext(AuthContext)\n  const {goBack} = useHistory()\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [form,setForm] = useState({\n    name:'',\n    discription:'',\n    url:'',\n  })\n\n  const out = async()=>{\n    var data = new FormData();\n    for (var key in form) {\n      data.append(key,form[key])\n    }\n\n    await request(`/api/files/${type}/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    goBack()\n  }\n\nconst changeHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.value})\n}\n\nuseEffect(()=>{\n  message(error, 'error');\n  clearError();\n},[error, message, clearError])\n\n  return(\n    <div className = \"whiteBacground no-pg-top opacity newMovie\">\n      <p>Название</p>\n      <input value={form.name} type=\"text\" name=\"name\" onChange={changeHeandler}/>\n      <p>описание</p>\n      <textarea value={form.discription} name=\"discription\" id=\"\" cols=\"30\" rows=\"10\" onChange={changeHeandler}></textarea>\n      <p>ссылка на сайт</p>\n      <input value={form.url} onChange={changeHeandler} type=\"url\" name=\"url\"/>\n      <button onClick={out}>Отправить</button>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const Header = ({search,name,children})=>{\n  const [searcht, setSearch] = useState('');\n  const [searchtVisible, setSearchVisible] = useState(false);\n\n  const searchHandler = event => {\n    setSearch(event.target.value)\n  }\n\n  const keyd = (e)=>{\n    if(e.keyCode===13&&typeof(search)===\"function\"){\n      search(searcht)\n    }\n  }\n\n  return(\n    <header>\n      {\n        (search)?\n        <>\n        <div className={`btn ${(searchtVisible)?\"active\":\"\"}`} onClick={()=>setSearchVisible(prev=>!prev)}>\n          <i className=\"fas fa-search\"></i>\n        </div>\n        <div className={`search ${(searchtVisible)?\"show\":\"hide\"}`}>\n          <input type=\"search\" name=\"search\" onChange={searchHandler} onKeyDown={keyd} value={searcht}/>\n          <button onClick={()=>search(searcht)} className=\"searchBtn\">Search</button>\n        </div>\n        </>:null\n      }\n      <div className=\"controls\">\n      {children}\n      </div>\n      <h1>{name}</h1>\n    </header>\n  )\n}\n","\n\nfunction lineDatatoNumber(data) {\n  let n = []\n  for (var item of data) {\n    let g = []\n    for (var i = 0; i < item.length; i++) {\n      if(i===0)g.push(item[i])\n      else if(item[i]===null)g.push(0)\n      else g.push(Number(item[i]))\n    }\n    n.push(g)\n  }\n  return n\n}\n\nconst colorLine = [\n  '#f00',\n  '#0f0',\n  '#20B2AA',\n  '#FFA500',\n  '#DA70D6',\n  '#0000FF'\n]\n\nexport const generateDatabyDevice=(data,device)=>{\n  let newData = {\n    columns:[],\n    types:{},\n    names:{},\n    colors:{}\n  }\n  let count = 0\n\n  newData.columns.push(['x'].concat(data.time_line))\n  newData.types.x=\"x\"\n\n  let dev = data.lines[device]\n  if(!dev) return null\n  for (var key in dev) {\n    let line = dev[key]\n    if(!line) continue\n    const linemet = `y${count++}`\n    newData.columns.push([linemet].concat(line))\n    newData.types[linemet]=\"line\"\n    newData.names[linemet] = key\n    newData.colors[linemet] = colorLine[((count-1)>=colorLine.length)?(count-1)-colorLine.length:(count-1)]||'#f00'\n  }\n  newData.columns = lineDatatoNumber(newData.columns)\n  return newData\n}\n\n// function castomZip(arr1, arr2) {\n//   const min = (arr1.length<arr2.length)?arr1.length:arr2.length\n//   let arrdict = []\n//   for (var i = 0; i < min; i++) {\n//     arrdict[i] = { x: new Date(arr1[i]), y: arr2[i] }\n//   }\n//   return arrdict\n// }\n\nexport function toDate(timestamp) {\n  const shortMonths = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ]\n  const date = new Date(timestamp)\n  return `${date.getFullYear()}-${shortMonths[date.getMonth()]}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n}\n\nconst typeFieldToTypeChart = {\n  number:\"area\",\n  binary:\"stepArea\"\n}\n\nexport function getOption(data) {\n  let baseConf = {\n\t\t\ttheme: \"light2\",\n\t\t\tanimationEnabled: true,\n\t\t\t// exportEnabled: true,\n      backgroundColor: \"#333\",\n\t\t\ttitle:{\n\t\t\t\ttext: `${data.deviceName}-${data.name}`,\n\t\t\t},\n\t\t\taxisY:{\n\t\t\t\ttitle: data.valueName||\"Value\",\n\t\t\t},\n      axisX:{\n        valueFormatString: \"DD-MM-YY HH:mm:ss\",\n        margin:5,\n      },\n\t\t\tdata: [{\n\t\t\t\ttype: typeFieldToTypeChart[data.type],\n\t\t\t\txValueFormatString: \"DDD HH:mm:ss\",\n\t\t\t\tmarkerSize: 5,\n\t\t\t\tdataPoints: data.data\n\t\t\t}]\n\t\t}\n  if(data.type===\"binary\"){\n    baseConf.axisY.interval = 1\n    baseConf.axisY.minimum = -0.02\n    baseConf.axisY.maximum = 1.02\n  }\n  return baseConf\n}\n","import React from 'react'\n\nexport const NoContent = ()=>{\n  return (\n    <div className=\"NoContent\">\n      <p>HistoryEmpty</p>\n    </div>\n  )\n}\n","import React from 'react'\nimport {toDate} from '../utils'\n\nexport const HistoryList = ({data,device})=>{\n  return (\n    <div className=\"historyList\">\n      <div className=\"title\">{`${data.deviceName}-${data.name}`}</div>\n      {\n        data.data.map((item)=>{\n          return(\n            <div className=\"historyItem\">\n              <div className=\"date\">{toDate(item.x)}</div>\n              <div className=\"value\">{item.y}</div>\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n","import React,{useState} from 'react'\nimport {getOption} from './utils'\nimport {NoContent} from './scrins/noContent'\nimport {HistoryList} from './scrins/HistoryList'\n\nimport {CanvasJSChart} from 'canvasjs-react-charts'\n\n\nexport const DeviceHistory = ({data,device})=>{\n  const [chartData,setChartData] = useState({})\n\n  // <CanvasJSChart/>\n  function lookforField(fields,name) {\n    for (var item of fields) {\n      if(item.name===name)\n        return item\n    }\n  }\n\n  function stringArreyToNumberArrey(arr) {\n    try {\n      let newArr = []\n      for (var item of arr) {\n        newArr.push({x:new Date(item.date), y:Number(item.value)})\n      }\n      return newArr\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function stringArrey(arr) {\n    try {\n      let newArr = []\n      for (var item of arr) {\n        newArr.push({x:new Date(item.date), y:item.value})\n      }\n      return newArr\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function clickField(event) {\n    const d = data[device.DeviceSystemName][event.target.dataset.name]\n    const field = lookforField(device?.DeviceConfig,event.target.dataset.name)\n    if(!d||!field){\n      setChartData({\n        name:field.name,\n        type:null,\n      })\n      return;\n    }\n    if(d&&(field.type===\"binary\"||field.type===\"number\")){\n      setChartData({\n        name:field.name,\n        deviceName:device?.DeviceName,\n        type:field.type,\n        data:stringArreyToNumberArrey(d)\n      })\n    }\n    else{\n      setChartData({\n        name:field.name,\n        deviceName:device?.DeviceName,\n        type:field.type,\n        data:stringArrey(d)\n      })\n    }\n  }\nconsole.log(data);\n\n  if(!data[device.DeviceSystemName])\n  return null\n\n  return (\n    <div className=\"device-chart-card\">\n      <div className=\"content\">\n      <div className=\"canvasConteiner\">\n      {\n        (chartData.type===\"binary\"||chartData.type===\"number\")?\n        <CanvasJSChart options={getOption(chartData)}/>:\n        (chartData.type)?\n        <HistoryList data={chartData}/>:\n        <NoContent/>\n      }\n      </div>\n      <div className=\"controlCanvasConteiner\">\n        <h2>{device.DeviceName}</h2>\n        <ul className=\"ChartZoom\">\n          <li>All</li>\n          <li>Year</li>\n          <li>Mount</li>\n          <li>Day</li>\n        </ul>\n        {\n          device?.DeviceConfig?.map((item,index)=>(\n            <div className=\"field\" key={index}>\n              <button className={`${(chartData.name === item.name)?'active':''}`} onClick={clickField} data-name={item.name}>{item.name}</button>\n            </div>\n          ))\n        }\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {Header} from '../components/header'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {SocketContext} from '../context/SocketContext'\nimport {DeviceHistory} from  '../components/history/DeviceHistory'\n\n// const corectedData=(data)=>{\n//   let datetimes = data.charts.time_line.slice()\n//   let oldDate = null\n//   for (var i = 0; i < datetimes.length; i++) {\n//     if(oldDate&&datetimes[i] - oldDate !== 500){\n//       let newTime = datetimes[i]\n//       newTime=newTime-500\n//       let index = data.charts.time_line.indexOf(datetimes[i])\n//       for (var key in data.charts.lines) {\n//         for (var key2 in data.charts.lines[key]) {\n//           let el = data.charts.lines[key][key2][index-1]\n//           data.charts.lines[key][key2].splice(index,0,el)\n//         }\n//       }\n//       data.charts.time_line.splice(index,0,newTime)\n//     }\n//     oldDate = datetimes[i]\n//   }\n//   return data.charts\n// }\n\nexport const ChartsPage = () => {\n  const {setData} = useContext(MenuContext)\n  const {devices} = useContext(SocketContext)\n  const auth = useContext(AuthContext)\n  const {request} = useHttp();\n  const [charts,setCharts] = useState()\n\n  const importCharts = useCallback(async()=>{\n    try {\n      const data = await request(`/api/charts/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      setCharts(data.charts)\n    } catch (e) {\n      console.error(e);\n    }\n  },[request,auth.token])\n\n  useEffect(()=>{\n    setData(\"Add user\")\n  },[setData])\n\n  useEffect(()=>{\n    importCharts()\n  },[importCharts])\n\n  const searchout = (data)=>{\n\n  }\n\n  if(!charts){\n    return null;\n  }\n\n  return(\n      <div className = \"conteiner top bottom\">\n        <Header search={searchout} name=\"Charts\">\n        </Header>\n        <div className = \"Charts\">\n          {\n            (devices)?\n            devices.map((item,index)=>{\n              return <DeviceHistory data={charts} device={item} key={index}/>\n            })\n            :null\n          }\n        </div>\n      </div>\n  )\n}\n","import React,{useEffect,useState,useContext,useCallback} from 'react'\nimport {useParams,Link} from 'react-router-dom'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\n\nexport const MovieDitail = ({type=\"movie\"})=>{\n  const auth = useContext(AuthContext)\n  const {id} = useParams();\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [movie, setMovie] = useState({})\n\n  const getData = useCallback(async()=>{\n    const data = await request(`/api/files/movie/${id}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(data){\n      setMovie(data.movie)\n    }\n  },[request,auth.token,id])\n\n  useEffect(()=>{\n    getData()\n  },[getData])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return (\n    <>\n    <div className=\"z-0 backForm \"></div>\n    <div className=\"conteiner movie-ditail\">\n      <div className=\"base\">\n      <div className=\"div-poster\">\n        <img src={movie.poster} alt=\"poster\"/>\n      </div>\n      <div className=\"div-vertical-separator\"></div>\n      <div className=\"div-movie-info\">\n        <div className=\"discription\">\n          <h2>{movie.title}</h2>\n          <p>{movie.discription}</p>\n        </div>\n        <div className=\"control\">\n          <button className=\"btn\">открыть</button>\n          <Link className=\"btn\" to={`/${type}/edit/${id}`}>Изменить</Link>\n        </div>\n        <div className=\"about-the-film\">\n          <div className=\"paragraph\">\n            <div className=\"name\">год производства</div>\n            <div className=\"value\">{movie.year}</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">страна</div>\n            <div className=\"value\">{movie.country}</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">жанр</div>\n            <div className=\"value\">{\n              (movie&&movie.genres)?\n              movie.genres.map((item,index,arr)=>{\n                return (\n                  <div className=\"d-in\" key={index}>\n                    <a href={(item.url&&item.url!==\"-\")?item.url:null}>{item.name}</a>\n                    {(arr.length-1!==index)?<span>, </span>:null}\n                  </div>\n                )\n              }):null\n            }</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">слоган</div>\n            <div className=\"value\">{movie.tagline}</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">режисеры</div>\n            <div className=\"value flex div-slider\">{\n              (movie&&movie.directors)?\n              movie.directors.map((item,index)=>{\n                return (\n                  <div className=\"director-or-actor-card\" key={index}>\n                    <div className=\"photo-img\">\n                      <img src={item.image} alt={item.name}/>\n                    </div>\n                    <p>{item.name}</p>\n                  </div>\n                )\n              })\n              :null\n            }</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">бютжет</div>\n            <div className=\"value\">{movie.budget}$</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">сборы в США</div>\n            <div className=\"value\">{movie.fees_in_usa}$</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">сборы в мире</div>\n            <div className=\"value\">{movie.fees_in_world}$</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">премьера в мире</div>\n            <div className=\"value\">{movie.world_premiere}</div>\n          </div>\n        </div>\n      </div>\n      </div>\n      <div className=\"actors\">\n        <h3>Актеры</h3>\n        <div className=\"flex div-slider\">{\n          (movie&&movie.actors)?\n          movie.actors.map((item,index)=>{\n            return (\n              <div className=\"director-or-actor-card\" key={index}>\n                <div className=\"photo-img\">\n                  <img src={item.image} alt={item.name}/>\n                </div>\n                <p>{item.name}</p>\n              </div>\n            )\n          })\n          :null\n        }</div>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React,{useContext} from 'react'\nimport {FormContext} from '../Form/formContext'\nimport {TypeDeviceContext} from '../typeDevices/typeDevicesContext.js'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\n\nconst baseAddressList = {\n  state:\"state\",\n  power:\"state\",\n  dimmer:\"brightness\",\n  brightness:\"brightness\",\n  color: \"color\",\n  temp: \"temp\",\n  color_temp: \"temp\",\n  mode: \"mode\"\n}\nconst baseMinMax = {\n  base:{\n    min:\"0\",\n    max:\"255\",\n    icon:'',\n    type:\"text\",\n\n  },\n  state:{\n    min:\"0\",\n    max:\"1\",\n    icon:\"\",\n    type:\"binary\"\n  },\n  brightness:{\n    min:\"0\",\n    max:\"100\",\n    icon:'',\n    type:\"range\"\n  },\n  color:{\n    min:\"1600\",\n    max:\"3600\",\n    icon:\"\",\n    type:\"range\",\n  },\n  temp:{\n    min:\"0\",\n    max:\"40\",\n    icon:\"\",\n    type:\"range\",\n  },\n  mode:{\n    min:\"0\",\n    max:\"2\",\n    icon:'',\n    type:\"number\"\n  }\n}\n\n\nexport const MQTTElement = ({data, onClickMessage}) =>{\n  const {show} = useContext(DialogWindowContext)\n  const types = useContext(TypeDeviceContext)\n  const form = useContext(FormContext)\n\n  const typeList = ()=>types?.type?.map(item=>{\n    return {\n      title: item.title,\n      data: item.title,\n    }\n  })\n\n  function dictToList(dict) {\n    let arr = []\n    for (var key in dict) {\n      let val = dict[key]\n      if(typeof(dict[key])===\"object\"||typeof(dict[key])===\"boolean\"){\n        val = JSON.stringify(val)\n      }\n      if(val.length>100){\n        val = \"...\"\n      }\n      arr.push({name:key,value:val})\n    }\n    return arr\n  }\n\n  let message\n  let typeMessage = 'value'\n  let mes = data.message\n  try {\n    mes = JSON.parse(mes)\n    typeMessage = 'json'\n  }catch(e){}\n  if(typeof(mes)===\"object\"){\n    message = dictToList(mes)\n  }else{\n    if(typeof(mes)===\"boolean\"){\n      mes = JSON.stringify(mes)\n    }\n    let topicComponents = data.topic.split('/')\n    let field = topicComponents.pop()\n    message = [{name:field,value:mes}]\n  }\n\n  function Decice() {\n    let devices = []\n    if(data.lincs){\n      for (var item of data.lincs) {\n        let dev = item.device\n        let field\n        if(dev.valueType!==\"json\" && item.field){\n          field = item.field.name\n        }\n        devices.push(`${dev.systemName}${(field)?`.${field}`:''}`)\n      }\n      return devices\n    }\n    return []\n  }\n\n  function lincDecice() {\n    show(\"confirmation\",{\n      title:\"Types\",\n      items:typeList(),\n      active:(ret)=>{\n        let topicComponents = data.topic.split('/')\n        if(topicComponents[topicComponents.length-1]===\"set\")\n          topicComponents.pop()\n        if(typeMessage===\"value\"){\n          topicComponents.pop()\n        }\n        let address = topicComponents.join('/')\n        let conf = []\n        let typeControl = \"text\"\n        for (var item of message) {\n          let ctype = baseAddressList[item.name]\n          if(!ctype)\n            ctype = item.name\n          let cMinMax = baseMinMax[ctype]\n          if(!cMinMax){\n            cMinMax = baseMinMax[\"base\"]\n          }\n          let caddress = item.name\n          let clow = cMinMax.min\n          let chigh = cMinMax.max\n          let cicon = cMinMax.icon\n          typeControl = cMinMax.type||typeControl\n          let confel = {\n            name:ctype,\n            address:caddress,\n            low:clow,\n            high:chigh,\n            icon:cicon||\"\",\n            type:typeControl,\n            control:(ret!==\"sensor\")\n          }\n          conf.push(confel)\n        }\n        form.show(\"LinkDevices\",null,{\n          typeConnect: \"Mqtt_MQTTDevice\",\n          type: ret,\n          address: address,\n          valueType: typeMessage,\n          fields: conf\n        })\n      }\n    })\n  }\n\n  return(\n    <>\n      <td>{data.topic}</td>\n      <td onClick={(e)=>onClickMessage({...e,typeMessage})}>{\n        message.map((item,index)=>{\n          return <span className=\"mqttMessageStr\" key={index}>{item.name}: {item.value}, </span>\n        })\n      }</td>\n      <td>{\n        (!Decice()||!Decice()[0])?\n        \"NuN\":\n        Decice().map((item,index)=>{\n          return <p className=\"mqttMessageStr\" key={index}>{item}</p>\n        })\n      }</td>\n      <td><button onClick={lincDecice} className=\"iconbutton\" title=\"связать\"><i className=\"fas fa-link\"></i></button></td>\n    </>\n  )\n}\n","import React,{useEffect,useState,useCallback,useContext} from 'react'\nimport {Loader} from '../components/Loader'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {MQTTElement} from '../components/mqttCards/mqttCard'\nimport {SocketContext} from '../context/SocketContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {BackForm} from '../components/backForm'\n\nexport const MqttPage = ()=>{\n  const auth = useContext(AuthContext)\n  const [deviceMqtt,setDeviceMqtt] = useState([])\n  const [allDeviceMqtt, setAllDeviceMqtt] = useState([])\n  const [searchTopik, setSearchTopik] = useState(\"\")\n  const [searchDevice, setSearchDevice] = useState(\"\")\n  const [ditail, setDitail] = useState(null)\n  const {loading, request, error, clearError} = useHttp();\n  const socket = useContext(SocketContext)\n  const {message} = useMessage();\n  const {setData} = useContext(MenuContext)\n\n  const getDev = useCallback(async () => {\n    try {\n      let data = await request('/api/module/mqtt/get', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        setDeviceMqtt(data)\n        setAllDeviceMqtt(data)\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  },[request,auth.token])\n\n  function Decice(data) {\n    let devices = []\n    if(data.lincs){\n      for (var item of data.lincs) {\n        let dev = item.device\n        let field\n        if(dev.valueType!==\"json\" && item.field){\n          field = item.field.name\n        }\n        devices.push(`${dev.systemName}${(field)?`.${field}`:''}`)\n      }\n      return devices\n    }\n    return []\n  }\n\n  useEffect(()=>{\n    let array = allDeviceMqtt\n    if(searchTopik!==\"\"){\n      array = array.filter(item => item.topic.indexOf(searchTopik)!==-1)\n    }\n    if(searchDevice!==\"\"){\n      array = array.filter(item => {\n        let lincs = Decice(item)\n        for (var item2 of lincs) {\n          if(item2.indexOf(searchDevice)!==-1)\n            return true\n        }\n        return false\n      })\n    }\n    setDeviceMqtt(array)\n  },[searchTopik,allDeviceMqtt,searchDevice])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  useEffect(()=>{\n    getDev()\n  },[getDev])\n\n  useEffect(()=>{\n    if(socket.message.type===\"mqtt\") {\n      setAllDeviceMqtt(socket.message.data)\n    }\n  },[socket.message])\n\n  const clearMqtt = useCallback(()=>{\n    request('/api/module/mqtt/clear', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n    getDev()\n  },[request,auth.token, getDev])\n\n  useEffect(()=>{\n    setData(\"MQTT\",{\n      dopmenu: [\n        {\n          title:\"clear\",\n          onClick:clearMqtt\n        },\n        {\n          title:\"update\",\n          onClick:getDev\n        }\n      ]\n    })\n  },[setData, getDev, clearMqtt])\n\n//   function syntaxHighlight(json) {\n//     json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n//     return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n//         var cls = 'number';\n//         if (/^\"/.test(match)) {\n//             if (/:$/.test(match)) {\n//                 cls = 'key';\n//             } else {\n//                 cls = 'string';\n//             }\n//         } else if (/true|false/.test(match)) {\n//             cls = 'boolean';\n//         } else if (/null/.test(match)) {\n//             cls = 'null';\n//         }\n//         return '<span class=\"' + cls + '\">' + match + '</span>';\n//     });\n// }\n\n  return (\n    <div className=\"conteiner bottom\">\n    {\n      (ditail)?\n      <BackForm onClick={()=>setDitail(null)}>\n        <div className=\"infoCard\">\n          <div className=\"field\">{ditail.topic}</div>\n          <div className=\"field\">\n            <pre>\n              {\n                (ditail?.event?.typeMessage===\"json\")?\n                JSON.stringify(JSON.parse(ditail.item.message), undefined, 4):\n                ditail.item.message\n              }\n            </pre>\n          </div>\n          <div className=\"field\">{Decice(ditail)}</div>\n        </div>\n      </BackForm>:\n      null\n    }\n      {\n        (loading||!deviceMqtt)?\n        <Loader/>:\n        <div>\n          <div className=\"mqttTableDiv\">\n            <table className=\"mqttTable\">\n              <thead>\n                <tr>\n                  <th>\n                    <div className=\"input-data\">\n                      <input onChange={(e)=>setSearchTopik(e.target.value)} value={searchTopik} required name=\"adress\" type=\"text\"></input>\n                      <label>Adress</label>\n                    </div>\n                  </th>\n                  <th>Message</th>\n                  <th>\n                    <div className=\"input-data\">\n                      <input onChange={(e)=>setSearchDevice(e.target.value)} value={searchDevice} required name=\"device\" type=\"text\"></input>\n                      <label>Linc device</label>\n                    </div>\n                  </th>\n                  <th>Control</th>\n                </tr>\n              </thead>\n              <tbody>\n              {\n                deviceMqtt.map((item,index)=>{\n                  return (\n                    <tr key={index}>\n                      <MQTTElement data = {item} onClickMessage={(event)=>setDitail({event,item})}/>\n                    </tr>\n                  )\n                })\n              }\n              </tbody>\n            </table>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n","import React,{useContext} from 'react'\nimport {FormContext} from '../Form/formContext'\nimport {RunText} from '../runText'\nimport {Menu} from '../Menu/dopmenu/menu'\nimport {TypeDeviceContext} from '../typeDevices/typeDevicesContext.js'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\n\n\nexport const ZigbeeElement = ({data}) =>{\n  const auth = useContext(AuthContext)\n  const {request} = useHttp();\n  const form = useContext(FormContext)\n  const types = useContext(TypeDeviceContext)\n  const {show, hide} = useContext(DialogWindowContext)\n\n  const rename = (newName) => {\n    request('/api/module/zigbee2mqtt/device/rename', 'POST',{name:data.name,newName},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const deleteDevice = () => {\n    request(`/api/module/zigbee2mqtt/device/delete/${data.address}`, 'GET', null, {Authorization: `Bearer ${auth.token}`})\n  }\n\n  const convertForm = (exposes)=>{\n    let newArr = []\n    for (var item of exposes) {\n      if(item.features)\n      {\n        for (var item2 of item.features) {\n          item2.name = item2.endpoint\n          item2.control = true\n          newArr.push(item2)\n        }\n      }\n      else {\n        newArr.push(item)\n      }\n    }\n    return newArr;\n  }\n\n  const dupCorrekt = (arr)=>{\n    let arr2 = []\n    let flag = true\n    for (var item of arr) {\n      flag = true\n      if(item.endpoint && item.endpoint !== item.name)\n        item.name = item.name + \"_\" + item.endpoint\n      for (var item2 of arr2) {\n        if(item.name === item2)\n          flag = false\n      }\n      if(flag)\n        arr2.push(item.name)\n      else {\n        item.name = item.name + \"_\" + arr2.indexOf(item.name)\n        arr2.push(item.name)\n      }\n    }\n    return arr\n  }\n\n  const typeList = ()=>types?.type?.map(item=>{\n    return {\n      title: item.title,\n      data: item.title,\n    }\n  })\n\n  const valmaxmin=(val, def)=>{\n    if(val === 0)\n      return 0\n    if(val === false)\n      return false\n    return val||def\n  }\n\n  const linc = ()=>{\n    let conf = []\n    for (var item of dupCorrekt(convertForm(data.exposes))) {\n      let type = item.type\n      if(item.type===\"numeric\")\n        type=\"number\"\n      let values = \"\"\n      if(item.values){\n        values = item.values.join(\", \")\n      }\n      let confel = {\n        name:item.name,\n        address:item.property,\n        low:valmaxmin(item.value_min||item.value_off,0),\n        high:valmaxmin(item.value_max||item.value_on,1000000),\n        icon:\"\",\n        type:type,\n        unit:item.unit,\n        values:values,\n        control:item.endpoint||false\n      }\n      conf.push(confel)\n    }\n    show(\"confirmation\",{\n      title:\"Types\",\n      items:typeList(),\n      active:(d)=>addDev(d,conf)\n    })\n  }\n\n  function addDev(data1,conf) {\n    console.log(\"dfg\");\n    form.show(\"LinkDevices\",null,{\n      typeConnect: \"Zigbee_ZigbeeDevice\",\n      type: data1,\n      address: data.allAddress,\n      valueType: \"json\",\n      fields: conf\n    })\n    hide()\n  }\n\n  function buttons() {\n    let arr = []\n    if(data.exposes){\n      arr.push({\n        title:\"linc\",\n        onClick:linc\n      })\n    }\n    if(data.type!==\"Coordinator\"){\n      arr.push({\n        title:\"rename\",\n        onClick:()=>show(\"text\",{\n          title:\"Rename\",\n          text:\"input new name\",\n          placeholder:\"new name\",\n          active:rename\n        })\n      })\n      arr.push({\n        title:\"delete\",\n        onClick:()=>show(\"alert\",{\n          title:\"Delete\",\n          text:\"Delete device\",\n          buttons:[\n            {\n              title:\"cancel\"\n            },\n            {\n              title:\"ok\",\n              action:deleteDevice\n            }\n          ]\n        })\n      })\n    }\n    return arr\n  }\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <div className = {`typeConnect zigbee`}>\n          <p>zigbee</p>\n        </div>\n        <div className = {`typeConnect zigbee`}>\n          <p>{data.address}</p>\n        </div>\n        <RunText className=\"DeviceName\" id={data.name} text={data.name||\"NuN\"}/>\n        <Menu buttons={buttons()}/>\n      </div>\n      {\n        (data.exposes)?\n        <div className=\"dividers\"></div>\n        :null\n      }\n      <div className = \"NewCardBody\">\n        <ul>\n        {(data.exposes)?\n          convertForm(data.exposes).map((item,index)=>{\n            return(\n              <li className=\"DeviceControlLi\" key={index}>\n                <div className=\"DeviceControlLiName\">\n                  <p>{item.name}</p>\n                </div>\n                <div className=\"DeviceControlLiContent\">\n                  <div className=\"DeviceControlLiValue\">\n                    <p>{item.type}</p>\n                  </div>\n                </div>\n              </li>\n            )\n          }):null\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React,{useEffect,useState,useCallback,useContext} from 'react'\nimport {Loader} from '../components/Loader'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {SocketContext} from '../context/SocketContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {ZigbeeElement} from '../components/zigbeeCard/Card'\n\nexport const ZigbeePage = ()=>{\n  const auth = useContext(AuthContext)\n  const {message} = useContext(SocketContext)\n  const [device,setDevice] = useState([])\n  const [allDevice,setAllDevice] = useState([])\n  const [searchtest,setSearchtest] = useState(\"\")\n  const [permitJoin,setPermitJoin] = useState(false)\n  const {setData} = useContext(MenuContext)\n  const {loading, request} = useHttp();\n\n  const rebootStik = useCallback(() => {\n    request('/api/module/zigbee2mqtt/reboot', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n  },[request,auth.token])\n\n  const pairing = useCallback((state) => {\n    setPermitJoin(state)\n    request('/api/module/zigbee2mqtt/permit_join/set', 'POST',{state},{Authorization: `Bearer ${auth.token}`})\n  },[request, auth.token])\n\n  const zigbeeDevice = useCallback(async () => {\n    try {\n      let data = await request('/api/module/zigbee2mqtt/device/all', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n      console.log(data);\n      if(data){\n        setAllDevice(data)\n      }\n      let data2 = await request('/api/module/zigbee2mqtt/permit_join/get', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n      setPermitJoin(data2.state)\n    } catch (e) {}\n  },[request,auth.token])\n\n  useEffect(()=>{\n    zigbeeDevice()\n  },[zigbeeDevice])\n\n  useEffect(()=>{\n    if(message.type===\"zigbee\")\n    {\n      console.log(message);\n      setAllDevice(message.data)\n    }\n  },[message])\n\n  useEffect(()=>{\n    if(searchtest===\"\"){\n      setDevice(allDevice)\n      return\n    }\n    let array = allDevice.filter(item => item&&item.name.toLowerCase().indexOf(searchtest.toLowerCase())!==-1)\n    setDevice(array)\n  },[allDevice,searchtest])\n\n  const searchout = useCallback((data)=>{\n    setSearchtest(data)\n  },[])\n\n  useEffect(()=>{\n    setData(\"Zigbee\",{\n      search: searchout,\n      dopmenu: [\n        {\n          title:\"update\",\n          onClick:zigbeeDevice\n        },\n        {\n          title:\"reboot\",\n          onClick:rebootStik\n        },\n        {\n          title:\"pairing mode\",\n          active:permitJoin,\n          onClick:()=>pairing(!permitJoin)\n        },\n      ]\n    })\n  },[setData,zigbeeDevice,permitJoin,rebootStik,pairing,searchout])\n\n  return (\n    <div className=\"conteiner bottom\">\n      {\n        (loading)?\n        <Loader/>:\n        <div className = \"Devices\">\n        <div className = \"CardConteiner\">\n        {\n          device.map((item,index)=>{\n            return(\n              <ZigbeeElement key={index} data={item}/>\n            )\n          })\n        }\n        </div>\n        </div>\n      }\n    </div>\n  )\n}\n","import {useCallback} from 'react'\n\nexport const useDecodePath = () => {\n  const gettext = useCallback((root, path)=>{\n    try {\n      let p = path.split('.').slice(1)\n      let content = root\n      for (var item of p) {\n        if(item === \"\")\n          continue;\n        content = content[item]\n      }\n      return content\n    } catch (e) {\n      return null\n    }\n  },[])\n\n  const getfields = useCallback((field, root)=>{\n    if(field.type===\"text\")\n      return field.value\n    else if(field.type===\"path\")\n      return gettext(root, field.path)\n    else\n      return \"non\"\n  },[gettext])\n\n  return {gettext, getfields}\n}\n","import {useCallback, useContext, useEffect} from 'react'\nimport {useDecodePath} from './pathDecodhook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useParams} from 'react-router-dom'\nimport {FormContext} from '../../components/Form/formContext'\nimport {TypeDeviceContext} from '../../components/typeDevices/typeDevicesContext.js'\nimport {DialogWindowContext} from '../../components/dialogWindow/dialogWindowContext'\n\nexport const useMenuModuls = () => {\n  const {getfields} = useDecodePath()\n  const {show} = useContext(DialogWindowContext)\n  const types = useContext(TypeDeviceContext)\n  const form = useContext(FormContext)\n  let {name} = useParams();\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  const typeList = useCallback(()=>types?.type?.map(item=>{\n    return {\n      title: item.title,\n      data: item.title,\n    }\n  }),[types])\n\n  const clickmenu = useCallback(async(config, root, update)=>{\n    console.log(config,name);\n    for (let item of config) {\n      if(item.type === \"update\")\n        update()\n      else if(item.type === \"request\"){\n        await request(item.address, item.method, item.body,{Authorization: `Bearer ${auth.token}`})\n      }\n      else if(item.type === \"linc\" && name && root){\n        const device = await request(`/api/page/linc/device/${name}`, \"POST\", {device:root},{Authorization: `Bearer ${auth.token}`})\n        show(\"confirmation\",{\n          title:\"Types\",\n          items:typeList(),\n          active:(ret)=>{\n            form.show(\"LinkDevices\",null,{...device, type: ret})\n          }\n        })\n      }\n      else{}\n    }\n  },[auth.token,request,name,typeList,show,form])\n\n  const getmenu = useCallback((config, root, update)=>{\n    if(!(config?.menu)) return ;\n    let arr = []\n    for (let item of config.menu) {\n      arr.push({\n        title:getfields(item.title,root),\n        onClick:()=>clickmenu(item.action, root, update),\n        active:false\n      })\n    }\n    return arr\n  },[clickmenu,getfields])\n\n  return {getmenu}\n}\n","import React from 'react'\nimport {RunText} from '../../components/runText'\nimport {useDecodePath} from './pathDecodhook'\n\nexport const Card = ({conf={}, data={}}) =>{\n  const {getfields} = useDecodePath()\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <RunText className=\"DeviceName\" id={getfields(conf?.title, data)} text={getfields(conf?.title, data)}/>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className = \"NewCardBody\">\n        <ul>\n        {\n          conf?.fields?.map((item,index)=>{\n            return(\n              <li className=\"DeviceControlLi\" key={index}>\n                <div className=\"DeviceControlLiName\">\n                  <p>{getfields(item.title, data)}</p>\n                </div>\n                <div className=\"DeviceControlLiContent\">\n                  <div className=\"DeviceControlLiValue\">\n                    <p>{getfields(item.value, data)}</p>\n                  </div>\n                </div>\n              </li>\n            )\n          })\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {Menu} from '../../components/Menu/dopmenu/menu'\nimport {useDecodePath} from './pathDecodhook'\nimport {useMenuModuls} from './menuModuls'\n\nexport const Table = ({data=[], conf}) => {\n  const {getmenu} = useMenuModuls()\n  const {getfields} = useDecodePath()\n\n  // const clickmenu = (item, datael)=>{\n  //   console.log(item,datael);\n  //\n  // }\n\n  // const getMenubtns = (menu,datael)=>{\n  //   let arr = []\n  //   for (let item of menu) {\n  //     arr.push({\n  //       title:getfields(item.title,datael),\n  //       onClick:()=>clickmenu(item,datael)\n  //     })\n  //     return arr\n  //   }\n  // }\n\n  return (\n    <div className=\"mqttTableDiv\">\n      <table className=\"mqttTable\">\n        <thead>\n          <tr>\n          {\n            conf?.fields.map((item, index)=>{\n              return(\n                <th key={index}>\n                  {item.title}\n                </th>\n              )\n            })\n          }\n          {\n            (conf.menu)?\n            <th className=\"menu\">\n            </th>\n            :null\n          }\n          </tr>\n        </thead>\n        <tbody>\n        {\n          data?.map((item, index)=>{\n            return(\n              <tr key={index}>\n                {\n                  conf.fields.map((item2, index2)=>{\n                    return(\n                      <td key={index2}>\n                        {getfields(item2.value, item)}\n                      </td>\n                    )\n                  })\n                }\n                {\n                  (conf.menu)?\n                  <td className=\"menu\">\n                  <Menu className=\"table\" buttons={getmenu(conf, item, ()=>{})}/>\n                  </td>\n                  :null\n                }\n              </tr>\n            )\n          })\n        }\n        </tbody>\n      </table>\n    </div>\n  )\n}\n","import React,{useState, useEffect, useCallback, useContext} from 'react'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {SocketContext} from '../../context/SocketContext'\nimport {useDecodePath} from './pathDecodhook'\nimport {useMenuModuls} from './menuModuls'\nimport {Card} from './Card'\nimport {Table} from './table'\n\nexport const Page = ({data={}, updateMenu}) => {\n  const auth = useContext(AuthContext)\n  const socket = useContext(SocketContext)\n  const {getfields, gettext} = useDecodePath()\n  const {getmenu} = useMenuModuls()\n  const [dataPage, setDataPage] = useState([])\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const getData = useCallback(async()=>{\n    if(!(data?.src)) return ;\n    const data1 = await request(data?.src, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setDataPage(data1)\n    return data1\n  },[request,auth.token,data])\n\n  useEffect(()=>{\n    if(!(data?.ws_src)) return ;\n    if(socket.message.type===data?.ws_src) {\n      setDataPage(socket.message.data)\n    }\n  },[socket.message,data?.ws_src])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  useEffect(()=>{\n    getData()\n  },[getData])\n\n  useEffect(()=>{\n    if (!(data?.menu)) return ;\n    updateMenu(getmenu(data, dataPage, getData))\n  },[dataPage,data,getfields,updateMenu,getData,getmenu])\n\n  return (\n    <div className={`conteiner ${(data?.content?.typeContent === \"table\")?\"color-normal\":\"\"}`}>\n      {\n        (data?.content?.typeContent === \"cards\")?\n        <div className=\"Devices\">\n        <div className=\"CardConteiner\">\n        {\n          gettext(dataPage, data.content.rootField)?.map((item, index)=>{\n            return(\n              <Card key={index} data={item} conf={data.content.items}/>\n            )\n          })\n        }\n        </div>\n        </div>:\n        (data?.content?.typeContent === \"table\")?\n        <Table data={gettext(dataPage, data.content.rootField)} conf={data.content.items}/>\n        :null\n      }\n    </div>\n  )\n}\n","import React,{useState, useEffect, useCallback, useContext} from 'react'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useMessage} from '../hooks/message.hook'\nimport {useHttp} from '../hooks/http.hook'\nimport {useParams} from 'react-router-dom'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {Page} from './modulsPageComponents/page'\n\nexport const ModulsPage = () => {\n  const auth = useContext(AuthContext)\n  let {name} = useParams();\n  const [dataPage, setDataPage] = useState({})\n  const [dataActivePage, setDataActivePage] = useState({})\n  const {message} = useMessage();\n  const {setData} = useContext(MenuContext)\n  const {request, error, clearError} = useHttp();\n\n  const getData = useCallback(async()=>{\n    const data = await request(`/api/page/get/${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    console.log(data,data?.pages[0]);\n    setDataPage(data)\n    setDataActivePage(data?.pages[0])\n  },[request,name,auth.token])\n\n  const updateMenu = useCallback(async(menu)=>{\n    setData(dataPage?.name,{\n      dopmenu: menu\n    })\n  },[setData, dataPage?.name])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  useEffect(()=>{\n    getData()\n  },[getData])\n\n  useEffect(()=>{\n    setData(dataPage?.name)\n  },[setData,dataPage])\n\n  return (\n    <Page data={dataActivePage} updateMenu={updateMenu}/>\n  )\n}\n","import {createContext} from 'react'\n\nexport const GroupFormContext = createContext()\n","import React, {useContext,useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {RunText} from './runText'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {Power} from './controlComponents/power'\nimport {Dimmer} from './controlComponents/dimmer'\nimport {Mode} from './controlComponents/mode'\nimport {Enum} from './controlComponents/enum'\nimport {Text} from './controlComponents/text'\nimport {Menu} from './Menu/dopmenu/menu'\nimport {GroupFormContext} from './groupForm/groupFormContext'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const GroupCard = ({group, updata}) =>{\n  const history = useHistory()\n  const {devices, updateDevice} = useContext(SocketContext)\n  const form = useContext(GroupFormContext)\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const detailDevice = ()=>{\n    if(group?.status === \"online\" && group?.value)\n      history.push(`/group/ditail/${group.systemName}`)\n  }\n\n  const getdevice = (names) => devices.filter((item)=>names.includes(item.systemName))\n\n  const getValue = (name, type=null)=>{\n    let val = 0\n    let arr = getdevice(group?.devices?.map(item=>item.name))\n    for (var item of arr) {\n      for (var item2 of item.fields) {\n        if(item2.name === name && item2.type === type)\n          return item?.value[name]\n      }\n    }\n    return val\n  }\n\n  const getFields = ()=>{\n    return group?.fields?.map(item=>({...item, value:getValue(item.name, item.type)}))\n  }\n\n  const outValue = async(systemName, type, v)=>{\n    await request('/api/group/value/set', 'POST', {systemName: systemName,type:type,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const editDevices = ()=>{\n    form.show(\"deviceInGroup\", group, async(_, group)=>{\n      await request(`/api/group/device/edit/${group.systemName}`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n      if(typeof(updata) === \"function\")\n        updata()\n    })\n  }\n\n  const editFields = ()=>{\n    form.show(\"fieldInGroup\", group, async(_, group)=>{\n      await request(`/api/group/field/edit/${group.systemName}`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n      if(typeof(updata) === \"function\")\n        updata()\n    })\n  }\n\n  const deleteGroup = async()=>{\n    await request(`/api/group/delete/${group.systemName}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(typeof(updata) === \"function\")\n      updata()\n  }\n\n  if(!group){\n    return null\n  }\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <RunText onClick={detailDevice} className=\"DeviceName\" id={group.systemName} text={group.name||\"NuN\"}/>\n        {\n          (auth.userLevel >= 3)?\n          <Menu buttons={[\n            {\n              title:\"edit\",\n              onClick:()=>history.push(`/groups/edit/${group.systemName}`)\n            },\n            {\n              title:\"device\",\n              onClick:editDevices\n            },\n            {\n              title:\"edit fields\",\n              onClick:editFields\n            },\n            {\n              title:\"delete\",\n              onClick:deleteGroup\n            }\n          ]}/>\n          :null\n        }\n      </div>\n      <div className=\"dividers\"></div>\n      <div className = \"NewCardBody\">\n        <ul>\n        {\n          getFields().map((item,index)=>{\n            if(item.type===\"binary\" && item.control){\n              return <Power outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={(String(item.value)===\"1\")?true:false} type={item.name}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Dimmer outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={Number(item.value)} type={item.name} title = {item.name} conf={{min:item.low,max:item.high}}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Mode outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={Number(item.value)} type={item.name} conf={Number(item.high)}/>\n            }\n            if(item.type===\"enum\"&& item.control){\n              return <Enum outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={item.value} type={item.name} conf={item.values}/>\n            }\n            if(item.type===\"text\"&& item.control){\n              return <Text outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={item.value} type={item.name} conf={item.values} title={item.name}/>\n            }\n            if(!item.control){\n              return(\n                <li className=\"DeviceControlLi\" key={index}>\n                  <div className=\"DeviceControlLiName\">\n                    <p>{item.name}</p>\n                  </div>\n                  <div className=\"DeviceControlLiContent\">\n                    <div className=\"DeviceControlLiValue\">\n                      <p>{getValue(item.name, item.type)}</p>\n                    </div>\n                  </div>\n                </li>\n              )\n            }\n            return null\n          })\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import {SHOW_GROUP, HIDE_GROUP} from '../types'\n\nconst handlers={\n  [SHOW_GROUP]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_GROUP]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const formReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useState} from 'react'\n\nconst foo = (v) => {}\n\nexport const Switch = ({value, onClick = foo}) =>{\n  const [newvalue, setValue]=useState(value||false)\n\n  const clickHandler = event =>{\n    setValue(event.target.checked)\n    onClick(event.target.checked)\n  }\n\n  return(\n    <div className=\"switchContainer\">\n    <label className=\"switch\">\n      <input onChange={clickHandler} name=\"auteStyle\" type=\"checkbox\" checked={newvalue}></input>\n      <span></span>\n      <i className=\"indicator\"></i>\n    </label>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport {Switch} from '../../switch'\n\nexport const Device = ({device, onClick, setGroupDevice, groupDevice, added=false, field=false})=>{\n  const [visible, setVisible] = useState(false)\n\n  const togle = (event)=>{\n    if(event.target.className.split(\" \")[0]!==\"hidingLi\"&&event.target.parentNode.className.split(\" \")[0]!==\"hidingLi\") return;\n    setVisible(!visible)\n  }\n\n  const clickHandler = (val, name, type)=>{\n    let arr = groupDevice.fields.slice();\n    if (!val)\n      arr = arr.filter((item)=>item.name !== name)\n    if (val)\n      arr.push({name, type})\n    setGroupDevice({...groupDevice, fields:arr})\n  }\n\n  const isField = namef => groupDevice.fields.filter(item => item.name === namef).length !== 0\n\n  return(\n    <li name = \"HidingLi\" className={`hidingLi ${(visible)?\"show\":\"hide\"}`}>\n      <h3 value = \"HidingLi\" className=\"LiTitle\">{device?.name} {device?.systemName}</h3>\n      {\n        (field)?\n        <i value = \"HidingLi\" className=\"iconOpenField fas fa-chevron-down\" onClick={togle}></i>\n        :null\n      }\n      <i value = \"HidingLi\" className={`iconAdded ${(added)?\"added\":\"\"} fas fa-plus`} onClick={onClick}></i>\n      {\n        (field)?\n        <div className=\"LiContent\">\n          {\n            device?.fields?.map((item, index)=>{\n              return(\n                <div className=\"devEl\" key={index}>\n                <p>{item.name}</p>\n                <Switch onClick={(v)=>clickHandler(v, item.name, item.type)} value={isField(item.name)}/>\n                </div>\n              )\n            })\n          }\n        </div>\n        :null\n      }\n    </li>\n  )\n}\n","import React, {useContext, useState, useEffect} from 'react'\nimport {GroupFormContext} from '../groupFormContext'\nimport {Device} from './deviceEl'\nimport {SocketContext} from '../../../context/SocketContext'\n\nexport const AddDevice = ()=>{\n  const {form, hide} = useContext(GroupFormContext)\n  const {devices} = useContext(SocketContext)\n  const [groupDevice, setGroupDevice] = useState([])\n  const [fields, setFields] = useState([])\n\n  const dev = (systemName)=>devices.filter((item2)=>item2.systemName === systemName)[0]\n\n  const otherdev = ()=>{\n    let arr = devices\n    for (var item of groupDevice) {\n      let dev = item\n      arr = arr.filter((item2)=>item2.systemName !== dev.name)\n    }\n    return arr\n  }\n\n  useEffect(()=>{\n    setGroupDevice(form.group.devices)\n    setFields(form.group.fields)\n  },[form.group])\n\n  const outHandler = async()=>{\n    form.OK(groupDevice, {...form.group, devices:groupDevice, fields})\n    hide()\n  }\n\n  const getGroupDevice = (groupdevices) => devices.filter((item)=>groupdevices.includes(item.systemName))\n\n  const getfields  = (fieldsList, fields) => {\n    let arr = fieldsList.slice()\n    for (var item of fields) {\n      let field = item\n      if (arr.filter((item2)=>field.name === item2.name).length === 0)\n        arr.push(item)\n    }\n    return arr\n  }\n\n  const updataField = (groupdevices)=>{\n    let groupdev = getGroupDevice(groupdevices.map(item => item.name))\n    // let arr = fields.slice()\n    let arr = []\n    for (var item of groupdev) {\n      arr = getfields(arr, item.fields)\n    }\n    arr = arr.map(item => ({\n      name: item.name,\n      type: item.type,\n      low: item.low,\n      high: item.high,\n      values: item.values,\n      control: item.control,\n      icon: item.icon,\n      unit: item.unit,\n    }))\n    console.log(arr);\n    setFields(arr)\n  }\n\n  const add = (item)=>{\n    let arr = groupDevice.slice()\n    arr.push({\n      name:item.systemName,\n      fields:item.fields.map(\n        (item)=>({name:item.name, type:item.type})\n      )\n    })\n    setGroupDevice(arr)\n    updataField(arr)\n  }\n\n  const del = (item)=>{\n    let groupdevices = groupDevice.filter((item2)=>item2.name !==item.name)\n    setGroupDevice(groupdevices)\n    updataField(groupdevices)\n  }\n\n  const setDevice = (data)=>{\n    setGroupDevice(groupDevice.map(item => (item.name === data.name)?data:item))\n  }\n\n  return (\n    <div className=\"form\">\n      <div className=\"editDevicesForm\">\n        <h4 className=\"form-headline\">added device</h4>\n            {\n              (groupDevice.length === 0)?\n                <p>not element</p>\n              :\n              groupDevice.map((item,index)=>{\n                return(\n                  <Device key={index} device={dev(item.name)} onClick={()=>del(item)} groupDevice={item} setGroupDevice={setDevice} added={true}/>\n                )\n              })\n            }\n        <h4 className=\"form-headline\">other device</h4>\n            {\n              otherdev().map((item,index)=>{\n                return(\n                  <Device key={index} device={item} onClick={()=>add(item)}/>\n                )\n              })\n            }\n        <div className=\"controlForm\" >\n          <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../hidingLi.js'\nimport {SocketContext} from '../../../context/SocketContext'\nimport {GroupFormContext} from '../groupFormContext'\nimport {IconChoose} from '../../iconChoose'\n\nexport const EditField = ()=>{\n  const {form, hide} = useContext(GroupFormContext)\n  const {getDevice} = useContext(SocketContext)\n  const [fields, setFields] = useState([])\n\n  useEffect(()=>{\n    setFields(form.group.fields)\n  },[form.group])\n\n  const gettypes = (name)=>{\n    let arr = []\n    for (var item of form.group.devices) {\n      let dev = getDevice(item.name)\n      for (var item2 of dev.fields) {\n        if(item2.name === name && !arr.includes(item2.type))\n          arr.push(item2.type)\n      }\n    }\n    return arr\n  }\n\n  const getcontrols = (name)=>{\n    for (var item of form.group.devices) {\n      let dev = getDevice(item.name)\n      for (var item2 of dev.fields) {\n        if(item2.name === name && item2.control)\n          return [true, false]\n      }\n    }\n    return [false]\n  }\n\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const outHandler = async()=>{\n    form.OK(fields, {...form.group, fields:fields})\n    hide()\n  }\n\n  return (\n    <div className=\"form\">\n      <div className=\"editDevicesForm\">\n        <ul className=\"editDevice\">\n          <li>\n            <label>\n              <h5>{`Name - ${form.group.name}`}</h5>\n              <h5>{`systemName - ${form.group.systemName}`}</h5>\n            </label>\n          </li>\n          {\n            fields.map((item,index)=>{\n              return(\n                <HidingLi key={index} title = {item.name}>\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                        {\n                          gettypes(item.name).map((item2, index2)=>{\n                            return (\n                              <option key={index2} value={item2}>{item2}</option>\n                            )\n                          })\n                        }\n                      </select>\n                    <label>type</label>\n                  </div>\n                </div>\n                <div className=\"configElement\">\n                  <div className=\"input-data\">\n                    <select data-id={index} name=\"control\" value={item.control} onChange={changeHandlerField}>\n                    {\n                      getcontrols(item.name).map((item2, index2)=>{\n                        return (\n                          <option key={index2} value={item2}>{String(item2)}</option>\n                        )\n                      })\n                    }\n                    </select>\n                  <label>control</label>\n                </div>\n              </div>\n                {\n                  (item.type===\"number\"||item.type===\"binary\")?\n                  <>\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                      <label>min</label>\n                    </div>\n                  </div>\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                      <label>max</label>\n                    </div>\n                  </div>\n                  </>:\n                  (item.type===\"enum\")?\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                      <label>enum</label>\n                    </div>\n                  </div>\n                  :null\n                }\n                <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n                {\n                  (item.type===\"number\")?\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                      <label>unit</label>\n                    </div>\n                  </div>:null\n                }\n                </HidingLi>\n              )\n            })\n          }\n          <div className=\"controlForm\" >\n            <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n          </div>\n        </ul>\n      </div>\n    </div>\n  )\n\n}\n","import React, {useContext} from 'react'\nimport {GroupFormContext} from './groupFormContext'\nimport {BackForm} from '../backForm'\nimport {AddDevice} from './addDeviceInGroup/addDeviceinGroup'\nimport {EditField} from './editfield/editField'\n\nexport const GroupForm = ()=>{\n  const {form, hide} = useContext(GroupFormContext)\n\n  if(!form.visible){\n    return null;\n  }\n\n  const hideAndApdata = (t=null) =>{\n    hide();\n    if(form.OK){\n      form.OK(t)\n    }\n  }\n\n  if(form.type === \"deviceInGroup\"){\n    return (\n      <BackForm onClick = {hide}>\n        <AddDevice hide = {hideAndApdata}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"fieldInGroup\"){\n    return (\n      <BackForm onClick = {hide}>\n        <EditField hide = {hideAndApdata}/>\n      </BackForm>\n    )\n  }\n\n  // if(form.type === \"editGroup\"){\n  //   return (\n  //     <BackForm onClick = {hide}>\n  //       <EditGroup hide = {hideAndApdata}/>\n  //     </BackForm>\n  //   )\n  // }\n}\n","import React, {useReducer} from 'react'\nimport {GroupFormContext} from './groupFormContext'\nimport {formReducer} from './groupFormReducer'\nimport {SHOW_GROUP, HIDE_GROUP} from '../types'\nimport {GroupForm} from './groupForm'\n\nexport const GroupFormState = ({children}) =>{\n  const [state, dispatch] = useReducer(formReducer,{visible:false})\n\n  const show = (type = \"deviceInGroup\", group, OK) =>{\n    dispatch({\n      type:SHOW_GROUP,\n      payload: {type,group,OK}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_GROUP,\n    })\n  }\n\n  return(\n    <GroupFormContext.Provider\n    value={{show, hide, form: state}}>\n      <GroupForm/>\n      {children}\n    </GroupFormContext.Provider>\n  )\n}\n","import React, {useContext,useEffect,useState, useCallback} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {GroupCard} from '../components/groupCard'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {GroupsContext} from '../components/Groups/groupsContext'\nimport {GroupFormState} from '../components/groupForm/groupFormState'\n\nexport const GroupsPage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const {updata, groups} = useContext(GroupsContext)\n  const [allGroups, setAllGroups] = useState([]);\n  const {setData} = useContext(MenuContext)\n\n  const [groupsc, setGroups] = useState([]);\n\n  useEffect(()=>{\n    setAllGroups(groups)\n    setGroups(groups)\n  },[groups])\n\n  useEffect(()=>{\n    updata()\n  },[updata])\n\n  const searchout = useCallback((data)=>{\n    if(data===\"\"){\n      setGroups(allGroups)\n      return\n    }\n    let array = allGroups.filter(item => item&&item.name.toLowerCase().indexOf(data.toLowerCase())!==-1)\n    setGroups(array)\n  },[allGroups])\n\n  useEffect(()=>{\n    setData(\"Groups All\",{\n      specialAction:(auth.userLevel >= 3)?{\n        type: \"add\",\n        action:()=>history.push(\"/groups/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, history, searchout, auth.userLevel])\n\n  return(\n    <GroupFormState>\n      <div className = \"conteiner top bottom\">\n        <div className = \"Devices\">\n          {\n            (!groupsc||groupsc.length === 0)?\n            <h2 className=\"empty\">Not elements</h2>:\n            <div className = \"CardConteiner\">\n              {\n                groupsc.map((item,index)=>{\n                  return <GroupCard group={item} updata={updata} key={index}/>\n                })\n              }\n            </div>\n          }\n        </div>\n      </div>\n    </GroupFormState>\n  )\n}\n","import React, {useContext,useEffect,useState, useCallback} from 'react'\nimport {useHistory,useParams} from 'react-router-dom'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\n\nexport const GroupsAddPage = () => {\n  let {id} = useParams();\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [group, setGroup] = useState({\n    name:\"\",\n    systemName:\"\",\n    devices:[]\n  })\n\n  const updata = (event)=>{\n    setGroup({...group, [event.target.name]: event.target.value})\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    setData(\"Groups add\")\n  },[setData])\n\n  const getGroups = useCallback(async (name)=>{\n    let data = await request(`/api/group/get/${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(data)\n      setGroup({\n        name:data.name,\n        systemName:data.systemName,\n        devices:[]\n      })\n  },[auth.token, request])\n\n  useEffect(()=>{\n    if(id)\n    {\n      getGroups(id)\n    }\n  },[id, getGroups])\n\n  const create = async ()=>{\n    if(!group.name || !group.systemName) return ;\n    if(id)\n      await request(`/api/group/edit/${id}`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n    else\n      await request(`/api/group/add`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n    history.push(\"/groups\")\n  }\n\n  return(\n      <div className = \"fullScrinContainer color-normal\">\n        <div className=\"allFon\">\n        <div className=\"configElement\">\n          <div className=\"input-data\">\n            <input onChange={updata} required name=\"name\" type=\"text\" value={group.name}></input>\n            <label>Name</label>\n          </div>\n        </div>\n        <div className=\"configElement\">\n          <div className=\"input-data\">\n            <input onChange={updata} required name=\"systemName\" type=\"text\" value={group.systemName}></input>\n            <label>System name</label>\n          </div>\n        </div>\n          <div className=\"buttons\">\n            <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={create}>Next</button>\n          </div>\n        </div>\n      </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/fon-base.e46203d1.jpg\";","import {useCallback} from 'react';\nimport defFon from '../img/fon-base.jpg'\n\nfunction LightenDarkenColor(col, amt) {\n    var usePound = false;\n    if (col[0] === \"#\") {\n        col = col.slice(1);\n        usePound = true;\n    }\n    var num = parseInt(col,16);\n    var r = (num >> 16) + amt;\n    if (r > 255) r = 255;\n    else if  (r < 0) r = 0;\n    var b = ((num >> 8) & 0x00FF) + amt;\n    if (b > 255) b = 255;\n    else if  (b < 0) b = 0;\n    var g = (num & 0x0000FF) + amt;\n    if (g > 255) g = 255;\n    else if (g < 0) g = 0;\n    return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nconst defbacground = ()=>{\n  document.body.style = `background: url(${defFon});\n    background-size: cover;\n    background-attachment: fixed;`;\n}\n\nconst defstyle = ()=>{\n  setColors({\n    c1:\"#303030\",\n    c2:\"#505050\",\n    c3:\"#707070\",\n    active:\"#1E90FF\",\n    ok:\"#00d22d\"\n  })\n}\n\nconst getimage = (images, name)=>{\n  try {\n    for (var item of images) {\n      if(name === item.type)\n        return item\n    }\n  } catch{\n    return\n  }\n}\n\nconst textColor = (fon)=>{\n  let color = \"gray\"\n  if (fon[0] === \"#\") {\n      fon = fon.slice(1);\n  }\n  var num = parseInt(fon,16);\n  var r = (num >> 16);\n  var b = ((num >> 8) & 0x00FF);\n  var g = (num & 0x0000FF);\n  if ((r < 200||g < 200||b < 200))\n  {\n    color=\"#fff\";\n  }\n\n  return color;\n}\n\nfunction setColors(data) {\n  document.body.style.setProperty('--color-base',(data.opasiryc1)?data.c1 + \"dd\":data.c1)\n  document.body.style.setProperty('--color-normal',(data.opasiryc2)?data.c2 + \"dd\":data.c2)\n  document.body.style.setProperty('--color-active',data.active)\n  document.body.style.setProperty('--color-error',data.error)\n  document.body.style.setProperty('--color-ok',data.ok)\n\n\n  document.body.style.setProperty('--btn-color-base',LightenDarkenColor(data.c1,25))\n  document.body.style.setProperty('--btn-color-normal',LightenDarkenColor(data.c2,25))\n  document.body.style.setProperty('--btn-color-active',LightenDarkenColor(data.active,25))\n\n// \"#5e6367\"\n  document.body.style.setProperty('--text-color-base-fon',textColor(data.c1))\n  document.body.style.setProperty('--text-color-normal-fon',textColor(data.c2))\n  document.body.style.setProperty('--text-color-active-fon',\"#fff\")\n\n\n  document.body.style.setProperty('--color-glass',data.c2 + \"90\")\n}\n\nconst backgroundType = function () {\n  let time = new Date().getHours();\n  let date = new Date().getMonth();\n  let nightTime = (date<3||date>8)?17:20;\n  let twilightTime = (date<3||date>8)?15:18;\n  let sunriseTime = (date<3||date>8)?5:3;\n  let dayTime = (date<3||date>8)?10:8;\n  if(time>=sunriseTime&&time<dayTime){\n    return \"sunrise\";\n  }else if (time>=dayTime&&time<twilightTime) {\n    return \"day\";\n  }else if (time>=twilightTime&&time<nightTime) {\n    return \"twilight\";\n  }else if ((time>=0&&time<sunriseTime)||time>=nightTime) {\n    return \"night\";\n  }\n  return \"sunrise\";\n}\n\nexport const useCastomStyle = () => {\n\n  const setStyle = useCallback((colors)=>{\n    if(!colors)\n      return defstyle()\n    if(!colors.c1)\n      colors.c1 = \"#333\";\n    if(!colors.c2)\n      colors.c2 = \"#555\";\n    if(!colors.c3)\n      colors.c3 = \"#777\";\n    if(!colors.active)\n      colors.active = \"#1E90FF\";\n    if(!colors.ok)\n      colors.ok = \"#00d22d\";\n    setColors(colors)\n  },[])\n\n  const setBackground = useCallback((url)=>{\n    if(!url)\n      return defbacground()\n    document.body.style = `background: url(${url});\n      background-size: cover;\n      background-attachment: fixed;`;\n  },[])\n\n  const adaptiveBackground = useCallback((images)=>{\n    if(!images)\n      return defbacground()\n    setBackground(getimage(images,backgroundType())?.image)\n  },[setBackground])\n\n  const avtoNightStyle = useCallback((style,nightStyle)=>{\n    if(!style || !nightStyle)\n      return defstyle()\n    if(backgroundType() === \"night\")\n      setStyle(nightStyle)\n    else\n      setStyle(style)\n  },[setStyle])\n\n  return {setStyle, setBackground, adaptiveBackground, avtoNightStyle}\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {UserContext} from '../context/UserContext'\nimport {StyleContext} from '../components/UserStyle/StyleContext'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {useCastomStyle} from '../hooks/style.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\nimport {HomePage} from './HomePage'\n\nconst getColors = (styles, name)=>{\n  try {\n    for (var item of styles) {\n      if(name === item.name)\n        return item\n    }\n  } catch{\n    return\n  }\n}\n\nexport const EditStylePage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const config = useContext(UserContext)\n  const {styles,updateConfig} = useContext(StyleContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const {setStyle} = useCastomStyle()\n  const [style, setStyle1] = useState(getColors(styles,config.Style))\n\n  const colorHandler = (event)=>{\n    setStyle1({...style, [event.target.name]:event.target.value})\n    setStyle({...style, [event.target.name]:event.target.value})\n  }\n  const opasityHandler = (event)=>{\n    setStyle1({...style, [event.target.name]:event.target.checked})\n    setStyle({...style, [event.target.name]:event.target.checked})\n  }\n\n  const out = ()=>{\n    setStyle(getColors(styles,config.Style))\n    history.goBack();\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const createStyle = async() =>{\n    if(!style.name)\n      return message(\"name empty\", \"error\");\n    await request(`/api/style/add`, 'POST', style,{Authorization: `Bearer ${auth.token}`})\n    updateConfig()\n    out()\n  }\n\n  return(\n    <>\n    <HomePage/>\n    <div className=\"backGlass\" onClick={out}></div>\n    <div className=\"editStylePanel\">\n      <div className=\"colors\">\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color 1</p>\n            <input type=\"color\" value={style?.c1} name=\"c1\" onChange={colorHandler}/>\n          </div>\n          <div className=\"opasityfield\">\n            <p>opasity</p>\n            <input type=\"checkbox\" checked={style?.opasiryc1} name=\"opasiryc1\" onChange={opasityHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color 2</p>\n            <input type=\"color\" value={style?.c2} name=\"c2\" onChange={colorHandler}/>\n          </div>\n          <div className=\"opasityfield\">\n            <p>opasity</p>\n            <input type=\"checkbox\" checked={style?.opasiryc2} name=\"opasiryc2\" onChange={opasityHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color active</p>\n            <input type=\"color\" value={style?.active} name=\"active\" onChange={colorHandler}/>\n          </div>\n          <div className=\"opasityfield\">\n            <p>opasity</p>\n            <input type=\"checkbox\" checked={style?.opasiryActive} name=\"opasiryActive\" onChange={opasityHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color ok</p>\n            <input type=\"color\" value={style?.ok} name=\"ok\" onChange={colorHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color error</p>\n            <input type=\"color\" value={style?.error} name=\"error\" onChange={colorHandler}/>\n          </div>\n        </div>\n      </div>\n      <div className=\"nameField\">\n        <input type=\"text\" value={style?.name} placeholder=\"name\" name=\"name\" onChange={colorHandler}/>\n        <button onClick={createStyle}>create</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useState, useEffect,useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AlertContext} from '../components/alert/alertContext'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nexport default function AddUser(){\n  const {setData} = useContext(MenuContext)\n  const auth = useContext(AuthContext)\n  const history = useHistory()\n  const {loading, request, error, clearError} = useHttp();\n  const {message} = useMessage();\n  const {show} = useContext(AlertContext);\n  const [form, setForm] = useState({\n    name: '', password: '', email: '', mobile: ''\n  });\n\n  useEffect(()=>{\n    setData(\"Add user\")\n  },[setData])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  const changeHandler = event => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/user/add', 'POST', {...form}, {Authorization: `Bearer ${auth.token}`})\n      if(data){\n        history.push('/')\n        show(\"user registered\",\"ok\")\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return(\n    <div className=\"conteiner top\">\n    <div className=\"title\">\n      <h1>Create user</h1>\n    </div>\n    <div className={`container-reg`}>\n      <form>\n        <div className={`main-reg clearfix`}>\n          <div className=\"left-reg\">\n            <div className=\"formBox-reg\">\n              <p>userName</p>\n              <input placeholder=\"UserName\" id=\"userName\" type=\"text\" name=\"name\" required onChange={changeHandler}/>\n              <p>password</p>\n              <input placeholder=\"•••••••\" id=\"password\" type=\"password\" name=\"password\" required onChange={changeHandler}/>\n            </div>\n          </div>\n          <div className=\"right-reg\">\n            <div className=\"formBox-reg\">\n              <p>Email</p>\n              <input placeholder=\"Email\" id=\"email\" type=\"email\" name=\"email\" onChange={changeHandler}/>\n              <p>Mobile</p>\n              <input placeholder=\"mobile\" id=\"mobile\" type=\"tel\" name=\"mobile\" maxleght=\"5\" onChange={changeHandler}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"footer-reg\">\n          <div className=\"formBox-reg\">\n            <input type=\"submit\" onClick={registerHandler} disabled={loading} value=\"Create\"/>\n          </div>\n        </div>\n      </form>\n    </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {Switch,Route,Redirect} from 'react-router-dom'\nimport {HomePage} from './Page/HomePage'\nimport {AuthPage} from './Page/AuthPage'\nimport {DitailDevicePage} from './Page/DitailDevicePage'\nimport {DevicesPage} from './Page/DevicesPage'\nimport {ProfilePage} from './Page/ProfilePage'\nimport {OptionsPage} from './Page/OptionsPage'\nimport {ScriptsPage} from './Page/ScriptsPage'\nimport {NewScriptsPage} from './Page/NewScriptsPage'\nimport {UsersPage} from './Page/UsersPage'\nimport {GalleryPage} from './Page/GalleryPage'\nimport {AddDevicesPage} from './Page/AddDevicePage'\nimport {AddMoviePage} from './Page/addFilesPages/NewMovie'\nimport {AddActorPage} from './Page/addFilesPages/NewActors'\nimport {AddGanrePage} from './Page/addFilesPages/NewGanre'\nimport {ChartsPage} from './Page/ChartPage'\nimport {MovieDitail} from './Page/filespage/movieDitail'\nimport {MqttPage} from './Page/MqttTopics'\nimport {ZigbeePage} from './Page/ZigbeePage'\nimport {ModulsPage} from './Page/ModulsPage'\nimport {GroupsPage} from './Page/GroupsPage'\nimport {GroupsAddPage} from './Page/addGroupPage'\nimport {EditStylePage} from './Page/EditStylePage'\nimport AddUser from './Page/AddUser'\n\nexport const useRoutes = (isAuthenticated,level)=>{\n  if(isAuthenticated){\n    return(\n      <Switch>\n        <Route path=\"/home\" exact>\n          <HomePage/>\n        </Route>\n        <Route path=\"/devices\" exact>\n          <DevicesPage/>\n        </Route>\n        <Route path=\"/scripts\" exact>\n          <ScriptsPage/>\n        </Route>\n        <Route path=\"/scripts/add\" exact>\n          <NewScriptsPage/>\n        </Route>\n        <Route path=\"/scripts/edit/:id\">\n          <NewScriptsPage edit={true}/>\n        </Route>\n        <Route path=\"/profile\">\n          <ProfilePage/>\n        </Route>\n        <Route path=\"/groups\" exact>\n          <GroupsPage/>\n        </Route>\n        <Route path=\"/groups/add\" exact>\n          <GroupsAddPage/>\n        </Route>\n        <Route path=\"/groups/edit/:id\" exact>\n          <GroupsAddPage/>\n        </Route>\n        <Route path=\"/config/style\" exact>\n          <EditStylePage/>\n        </Route>\n        <Route path=\"/config/users\" exact>\n        {\n          (level>=3)?\n          <OptionsPage/>:\n          <Redirect to=\"/config\"/>\n        }\n        </Route>\n        <Route path=\"/config/server\" exact>\n        {\n          (level>=3)?\n          <OptionsPage/>:\n          <Redirect to=\"/config\"/>\n        }\n        </Route>\n        <Route path=\"/config\">\n          <OptionsPage/>\n        </Route>\n        <Route path=\"/users\">\n          <UsersPage/>\n        </Route>\n        <Route path=\"/devices/add\" exact>\n          <AddDevicesPage/>\n        </Route>\n        <Route path=\"/user/add\" exact>\n          <AddUser/>\n        </Route>\n        <Route path=\"/gallery\">\n          <GalleryPage/>\n        </Route>\n        <Route path=\"/chart\">\n          <ChartsPage/>\n        </Route>\n\n        <Route path=\"/moduls/:name\">\n          <ModulsPage/>\n        </Route>\n\n        <Route path=\"/movie/add\" exact>\n          <AddMoviePage/>\n        </Route>\n        <Route path=\"/serial/add\" exact>\n          <AddMoviePage type=\"serial\"/>\n        </Route>\n        <Route path=\"/actor/add\" exact>\n          <AddActorPage/>\n        </Route>\n        <Route path=\"/ganre/add\" exact>\n          <AddGanrePage/>\n        </Route>\n        <Route path=\"/category/add\" exact>\n          <AddGanrePage type=\"category\"/>\n        </Route>\n\n\n        <Route path=\"/devices/ditail/:systemName\">\n          <DitailDevicePage/>\n        </Route>\n        <Route path=\"/mqtt\" exact>\n          <MqttPage/>\n        </Route>\n        <Route path=\"/zigbee2mqtt\" exact>\n          <ZigbeePage/>\n        </Route>\n\n        <Route path=\"/movie/edit/:id\">\n          <AddMoviePage edit={true}/>\n        </Route>\n        <Route path=\"/serial/edit/:id\">\n          <AddMoviePage type=\"serial\" edit={true}/>\n        </Route>\n        <Route path=\"/actor/edit/:id\">\n          <AddActorPage edit={true}/>\n        </Route>\n        <Route path=\"/ganre/edit/:id\">\n          <AddGanrePage edit={true}/>\n        </Route>\n        <Route path=\"/category/edit/:id\">\n          <AddGanrePage type=\"category\" edit={true}/>\n        </Route>\n\n        <Route path=\"/movie/:id\" exact>\n          <MovieDitail/>\n        </Route>\n        <Route path=\"/serial/:id\" exact>\n          <MovieDitail type=\"serial\"/>\n        </Route>\n        <Redirect to=\"/home\"/>\n      </Switch>\n    )\n  }\n  return(\n    <Switch>\n      <Route path=\"/\" exact>\n        <AuthPage/>\n      </Route>\n      <Redirect to=\"/\"/>\n    </Switch>\n  )\n}\n","import {useState, useCallback, useEffect} from 'react';\n\nconst storegeName = 'UserData';\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [userLevel, setUserLevel] = useState(null);\n  const [ready, setReady] = useState(false)\n\n\n  const login = useCallback(async(jwtToken, id,level)=>{\n    setToken(jwtToken);\n    setUserId(id);\n    setUserLevel(level);\n\n    await localStorage.setItem(storegeName, JSON.stringify({\n      userId: id, userLevel:level, token:jwtToken\n    }))\n  },[])\n\n  const logout = useCallback(()=>{\n    setToken(null);\n    setUserId(null);\n    setUserLevel(null);\n    localStorage.removeItem(storegeName)\n  },[])\n\n  useEffect(()=>{\n    const data = JSON.parse(localStorage.getItem(storegeName))\n\n    if(data&&data.token){\n      login(data.token, data.userId, data.userLevel)\n    }\n    setReady(true);\n  },[login])\n\n  return {login, logout, token, userId, userLevel,ready}\n}\n","import React,{useEffect,useState,useCallback,useContext} from 'react'\nimport {StyleContext} from './StyleContext'\nimport {UserContext} from '../../context/UserContext'\nimport {ServerConfigContext} from '../../context/ServerConfigContext'\nimport {SocketContext} from '../../context/SocketContext'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useCastomStyle} from '../../hooks/style.hook'\n\nexport const CastomizeStyle = ({children, token, ready}) =>{\n  const {request, error, clearError} = useHttp();\n  const {message} = useContext(SocketContext)\n  const [config, setConfig] = useState({})\n  const [serverConfig, setServerConfig] = useState({})\n  const [styles, setStyles] = useState([])\n  const [nawstyles, setNawStyles] = useState(null)\n  const [flag, setFlag] = useState(false)\n  const {setStyle, avtoNightStyle, adaptiveBackground, setBackground} = useCastomStyle()\n\n  const getColors = useCallback((styles, name)=>{\n    try {\n      for (var item of styles) {\n        if(name === item.name)\n          return item\n      }\n    } catch{\n      return\n    }\n  },[])\n\n  const getimage = (images, name)=>{\n    try {\n      for (var item of images) {\n        if(name === item.type)\n          return item\n      }\n    } catch{\n      return\n    }\n  }\n\n  const getData = useCallback(async()=>{\n    const dataStyles = await request(`/api/style/all`, 'GET', null,{Authorization: `Bearer ${token}`})\n    const dataUserConf = await request(`/api/user/config/get`, 'GET', null,{Authorization: `Bearer ${token}`})\n    setStyles(dataStyles)\n    setConfig(dataUserConf)\n    return {dataStyles, dataUserConf}\n  },[request,token])\n\n  const applicationStyle = useCallback((data)=>{\n    const style = getColors(data?.dataStyles, data?.dataUserConf?.Style)\n    setNawStyles(style)\n    if(!data?.dataUserConf?.staticBackground)\n      adaptiveBackground(data?.dataUserConf?.images)\n    else\n      setBackground(getimage(data?.dataUserConf?.images, \"base\")?.image)\n    if(data?.dataUserConf?.auteStyle)\n      avtoNightStyle(style, getColors(data?.dataStyles, \"night\"))\n    else\n      setStyle(style)\n  },[avtoNightStyle, setBackground, adaptiveBackground, getColors, setStyle])\n\n  const updataStyle = useCallback(async() => {\n    if(!token)\n    {\n      console.error(\"no authtorization\");\n      setBackground()\n      setStyle()\n      return\n    }\n    const data = await getData()\n    applicationStyle(data)\n  },[token,getData,applicationStyle,setStyle,setBackground])\n\n  const update = ()=>{\n    setFlag(true);\n    setTimeout(function () {\n      setFlag(false);\n    }, 400);\n  }\n\n  useEffect(()=>{\n    if(ready || flag){\n      updataStyle()\n    }\n  },[ready,updataStyle, flag])\n\n  useEffect(()=>{\n    if(error)\n      console.error(error);\n    return ()=>{\n      clearError();\n    }\n  },[error, clearError])\n\n  useEffect(()=>{\n    if(message.type===\"server\"){\n      setServerConfig(message.data)\n      applicationStyle({dataStyles:styles, dataUserConf:config})\n    }\n  },[message,applicationStyle,styles,config])\n\n  return(\n    <UserContext.Provider value={{...config,getData}}>\n      <ServerConfigContext.Provider value={{...serverConfig}}>\n        <StyleContext.Provider value={{styles:styles,updateConfig:update, nawstyle:nawstyles}}>\n          {children}\n        </StyleContext.Provider>\n      </ServerConfigContext.Provider>\n    </UserContext.Provider>\n  )\n}\n","import React, {useState, useCallback, useEffect} from 'react'\nimport {GroupsContext} from './groupsContext'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const GroupsState = ({children, token}) =>{\n  const [groups, setGroups] = useState([])\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const getGroups = useCallback(async()=>{\n    if (!token) return ;\n    let data = await request(`/api/group/all`, 'get', null,{Authorization: `Bearer ${token}`})\n    if (data)\n      setGroups(data)\n  },[request, token])\n\n  const getGroup = useCallback((name)=>{\n    return groups.filter(item=>item.systemName === name)[0]\n  },[groups])\n\n  useEffect(()=>{\n    getGroups()\n  },[getGroups])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <GroupsContext.Provider\n    value={{groups: groups, updata: getGroups, getGroup}}>\n      {children}\n    </GroupsContext.Provider>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Terminal = ()=>{\n  const [inputmes, setInputmes] = useState(\"\")\n\n\n  const changeHandler = (event) => setInputmes(event.target.value)\n\n  const output = (event)=>{\n    if(event.keyCode === 13){\n      if(!inputmes)return;\n      let area = document.getElementById('area')\n      area.value = area.value + `You:${inputmes}\\n`\n      setInputmes(\"\")\n      event.preventDefault();\n    }\n  }\n\n  const focus = () => document.getElementById('terminalInput').focus()\n\n  return(\n    <div className = \"terminal\">\n      <textarea id=\"area\" readOnly={true} onClick={focus}>\n      </textarea>\n      <div className = \"terminalInput\">\n        <input id=\"terminalInput\" type=\"text\" onKeyDown={output} onChange={changeHandler} value = {inputmes}/>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext} from 'react'\nimport {TerminalContext} from './terminalContext'\nimport {Terminal} from './terminal'\nimport {ModalWindow} from '../modalWindow/modalWindow'\n\nexport const TerminalCart = ()=>{\n  const {terminal, hide} = useContext(TerminalContext)\n\n  if(!terminal.visible){\n    return null;\n  }\n\n  return(\n    <ModalWindow hide={hide} width={250} height={350} title=\"terminal\">\n      <Terminal/>\n    </ModalWindow>\n  )\n\n}\n","import React,{useEffect,useState,useCallback,useContext,useRef} from 'react'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const SocketState = ({children}) =>{\n  const auth = useContext(AuthContext)\n  const [devices, setDevices] = useState([]);\n  const [message, setMessage] = useState({});\n  const socket = useRef(null);\n  const timerId = useRef(null);\n\n  const connect = useCallback(()=>{\n    try {\n\n      let path = `ws://${window.location.host}/ws/base`\n      // let path = `ws://localhost:5000/ws/base`\n      // let path\n      // console.log(process.env.REACT_APP_WS_HOST);\n      // if (process.env.REACT_APP_WS_HOST)\n      //   path = `ws://${process.env.REACT_APP_WS_HOST}/ws/base`\n      // else\n      //   path = `ws://localhost:5000/ws/base`\n\n      // console.log(process.env.REACT_APP_WS_HOST);\n\n      socket.current = new WebSocket(path)\n    } catch (e) {\n      setTimeout(function () {\n        connect()\n      }, 500);\n    }\n  },[])\n\n  const listenChanges = useCallback(() => {\n    if(!auth.isAuthenticated) return\n\n    connect()\n    if(!socket.current) return ;\n    socket.current.onopen = () => {\n      console.log(\"connect\");\n        clearInterval(timerId.current);\n\n        socket.current.onmessage = function(e) {\n              const data = JSON.parse(e.data);\n              console.log(data.message);\n              if(data.message instanceof Object){\n                if(data.message.type===\"devices\"){\n                  setDevices(data.message.data)\n                }\n                setMessage(data.message)\n              }\n          };\n\n        socket.current.onerror = () => {\n            socket.current.close();\n        };\n\n        socket.current.onclose = () => {\n          console.log(\"desconnect\");\n            timerId.current = setInterval(() => {\n                listenChanges();\n            }, 10000);\n        };\n    };\n},[auth.isAuthenticated,connect])\n\nconst getDevice = useCallback((systemName)=>{\n  if(!devices||!devices[0])\n    return null\n  return devices.filter((item)=>(item?.systemName===systemName))[0]\n},[devices])\n\nuseEffect(()=>{\n  listenChanges()\n  return () => {\n    if(socket.current)\n      return socket.current.close()\n  }\n},[listenChanges])\n\n  return(\n    <SocketContext.Provider value={{\n      devices, message, getDevice\n    }}>\n      {children}\n    </SocketContext.Provider>\n  )\n}\n","import React,{useEffect,useState,useCallback} from 'react'\nimport {TypeDeviceContext} from './typeDevicesContext'\nimport {useHttp} from '../../hooks/http.hook'\n\nexport const TypesDeviceState = ({children, token, ready}) =>{\n  const {request} = useHttp();\n  const [types, setTypes] = useState([])\n\n  const gettypes = useCallback(async()=>{\n    try {\n      const data = await request(`/api/device/types/get`, 'GET', null,{Authorization: `Bearer ${token}`})\n      setTypes(data)\n    } catch (e) {\n      console.error(e)\n    }\n  },[request,token])\n\n  useEffect(()=>{\n    if(ready){\n      gettypes()\n    }\n  },[ready,gettypes])\n\n  return(\n    <TypeDeviceContext.Provider value={{type:types}}>\n      {children}\n    </TypeDeviceContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const PageContext = createContext()\n","import React,{useEffect,useState,useCallback} from 'react'\nimport {PageContext} from './pageContext'\nimport {useHttp} from '../../hooks/http.hook'\n\nexport const PageState = ({children, token}) =>{\n  const {request, error, clearError} = useHttp();\n  const [pages, setPages] = useState({})\n\n  const getPages = useCallback(async()=>{\n    const allpages = await request(`/api/page/all`, 'GET', null,{Authorization: `Bearer ${token}`})\n    console.log(allpages);\n    setPages(allpages)\n  },[request, token])\n\n  useEffect(()=>{\n    getPages()\n  },[getPages])\n\n  useEffect(()=>{\n    if(error)\n      console.error(error);\n    return ()=>{\n      clearError();\n    }\n  },[error, clearError])\n\n  return(\n    <PageContext.Provider value={{pages, getPages}}>\n      {children}\n    </PageContext.Provider>\n  )\n}\n","import React from 'react'\nimport {BrowserRouter} from 'react-router-dom'\nimport {Alert} from './components/alert/alert.js'\nimport {DialogWindow} from './components/dialogWindow/dialogWindow.js'\nimport {Menu} from './components/Menu/menu.js'\nimport {Form} from './components/Form/form'\nimport {AlertState} from './components/alert/alertState'\nimport {DialogWindowState} from './components/dialogWindow/dialogWindowState'\nimport {MenuState} from './components/Menu/menuState'\nimport {FormState} from './components/Form/formState'\nimport {TerminalState} from './components/terminal/terminalState'\nimport {AddScriptState} from './components/addScript/addScriptState'\nimport {useRoutes} from './routes.js'\nimport {useAuth} from './hooks/auth.hook.js'\nimport {CastomizeStyle} from './components/UserStyle/StyleState.js'\nimport {GroupsState} from './components/Groups/groupsState.js'\nimport {AuthContext} from './context/AuthContext'\nimport {TerminalCart} from './components/terminal/terminalCart'\nimport {SocketState} from './hooks/socket.hook.js'\nimport {TypesDeviceState} from './components/typeDevices/typeDevicesState'\nimport {PageState} from './components/Menu/pageState'\n\nimport './css/style-auth.css'\nimport './icon/css/all.css'\nimport './css/style-alert.css'\nimport './css/style-components.css'\n\nfunction App() {\n  const {token, login, logout, userId, userLevel,ready} = useAuth();\n  const isAuthenticated = !!token;\n  const routes = useRoutes(isAuthenticated,userLevel);\n\n  if (!ready) {\n    return(\n      <h1>Loding</h1>\n    )\n  }\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, userLevel, isAuthenticated\n    }}>\n    <PageState token={token}>\n    <MenuState>\n    <SocketState>\n    <AlertState>\n    <DialogWindowState>\n    <CastomizeStyle token={token} ready={ready}>\n    <TypesDeviceState token={token} ready={ready}>\n    <GroupsState token={token}>\n    <FormState>\n    <TerminalState>\n    <AddScriptState>\n\n    <BrowserRouter>\n      <div className=\"App\">\n        <DialogWindow/>\n        <Alert/>\n        <Form/>\n        <TerminalCart/>\n        {(isAuthenticated)?<Menu/>:null}\n        {routes}\n      </div>\n    </BrowserRouter>\n\n    </AddScriptState>\n    </TerminalState>\n    </FormState>\n    </GroupsState>\n    </TypesDeviceState>\n    </CastomizeStyle>\n    </DialogWindowState>\n    </AlertState>\n    </SocketState>\n    </MenuState>\n    </PageState>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}