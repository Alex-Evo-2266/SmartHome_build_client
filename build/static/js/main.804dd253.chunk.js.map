{"version":3,"sources":["components/alert/alertContext.js","components/alert/alert.js","components/dialogWindow/dialogWindowContext.js","components/dialogWindow/dialogType/textDialog.js","components/dialogWindow/dialogType/confirmationDialog.js","components/dialogWindow/dialogType/alertDialog.js","components/dialogWindow/dialogWindow.js","components/Menu/menuContext.js","context/AuthContext.js","hooks/http.hook.js","context/UserContext.js","components/floatingButton.js","components/Menu/menuComponents/leftMenu.js","components/Menu/contextMenu/contextMenuElement.js","components/Menu/contextMenu/contextMenu.js","components/Menu/dopmenu/menu.js","components/Menu/menuComponents/tabs.js","components/Menu/menuComponents/topMenu.js","components/Menu/menuComponents/bottomMenu.js","components/Menu/data.menu.js","components/Menu/menu.js","components/Form/formContext.js","components/Loader.js","hooks/message.hook.js","components/hidingLi.js","components/iconChoose.js","components/Form/forms/editDevicesPage/DeviceMiio.js","hooks/checked.hook.js","components/Form/forms/editDevicesPage/SistemVariable.js","components/Form/forms/editDevicesPage/DeviceMqtt.js","components/typeDevices/typeDevicesContext.js","components/Form/forms/editDevicesPage/Castom.js","components/Form/forms/editDevicesForm.js","components/Form/forms/lincDevicesForm.js","components/backForm.js","components/Form/forms/editUserLevel.js","components/pages/optionPages/castomIcon/styleIcon.js","components/Form/forms/CreateStyle.js","components/Form/form.js","components/types.js","components/alert/alertReducer.js","components/alert/alertState.js","components/dialogWindow/dialogWindowReducer.js","components/dialogWindow/dialogWindowState.js","components/Menu/menuReducer.js","components/Menu/menuState.js","components/Form/formReducer.js","components/Form/formState.js","components/terminal/terminalContext.js","components/terminal/terminalReducer.js","components/terminal/terminalState.js","components/addScript/addScriptContext.js","context/SocketContext.js","components/Groups/groupsContext.js","components/addScript/addScriptState.js","components/addScript/addScript/addScriptDevices.js","components/modalWindow/modalWindow.js","components/homeCarts/EditCarts/CartEditContext.js","components/homeCarts/CartElement/BtnElement.js","context/EditMode.js","components/runText.js","components/homeCarts/CartElement/SliderElement.js","components/homeCarts/CartElement/SensorElement.js","components/homeCarts/CartElement/EnumElement.js","components/homeCarts/CartElement/ScriptElement.js","components/homeCarts/CartElement/BaseElement.js","context/ServerConfigContext.js","components/homeCarts/CartElement/WeatherElement.js","components/homeCarts/CartElement/TimeElement.js","components/homeCarts/CartElement/utils.js","components/homeCarts/CartElement/CalendarElement.js","hooks/controlData.hook.js","components/homeCarts/homeBaseCart.js","components/homeCarts/CartLineElement/BaseElement.js","components/homeCarts/CartLineElement/BtnElement.js","components/homeCarts/CartLineElement/SliderElement.js","components/homeCarts/CartLineElement/SensorElement.js","components/homeCarts/CartLineElement/ScriptElement.js","components/homeCarts/CartLineElement/EnumElement.js","components/homeCarts/CartLineElement/TextElement.js","components/homeCarts/homeLineCart.js","components/homeCarts/EditCarts/CartEditReducer.js","components/homeCarts/EditCarts/CartEditState.js","components/homeCarts/AddControl/AddControlContext.js","components/homeCarts/AddControl/AddControlReducer.js","components/homeCarts/AddControl/AddControlState.js","context/ScriptContext.js","components/homeCarts/AddControl/Control/scriptPage.js","components/homeCarts/AddControl/Control/page2.js","components/homeCarts/AddControl/Control/page3device.js","components/homeCarts/AddControl/Control/page4device.js","components/homeCarts/AddControl/Control/page5device.js","components/homeCarts/AddControl/Control/page3group.js","components/homeCarts/AddControl/Control/page4group.js","components/homeCarts/AddControl/Control/page5group.js","components/homeCarts/AddControl/Control/page6.js","components/homeCarts/AddControl/AddControl.js","components/homeCarts/EditCarts/CartEditType/BaseCart.js","components/homeCarts/EditCarts/CartEditType/Element.js","components/homeCarts/EditCarts/CartEdit.js","Page/HomePage.js","Page/AuthPage.js","Page/ditailPages/components/utils.js","Page/ditailPages/components/slider.js","Page/ditailPages/components/text.js","Page/ditailPages/components/enum.js","components/UserStyle/StyleContext.js","Page/ditailPages/components/historyList.js","Page/ditailPages/components/history.js","Page/ditailPages/components/btn.js","Page/ditailPages/lightPage.js","Page/ditailPages/otherdevice.js","Page/DitailDevicePage.js","components/controlComponents/power.js","components/controlComponents/dimmer.js","components/controlComponents/mode.js","components/controlComponents/enum.js","components/controlComponents/text.js","components/newDeviceElement.js","Page/DevicesPage.js","Page/ProfilePage.js","components/pages/optionPages/userOption.js","components/pages/optionPages/serverOption.js","components/pages/optionPages/imgOption.js","components/pages/optionPages/menuOptionComponents/component.js","components/pages/optionPages/menuOption.js","Page/OptionsPage.js","components/scriptCarts/scriptElement.js","Page/ScriptsPage.js","components/programmBlock/valueDeviceBlock.js","components/programmBlock/textBlock.js","components/programmBlock/numberBlock.js","components/programmBlock/enumBlock.js","components/programmBlock/mathBlock.js","components/programmBlock/ifBlock.js","components/programmBlock/groupBlock.js","components/programmBlock/actBlock.js","components/programmBlock/actGroup.js","components/programmBlock/actScript.js","components/programmBlock/triggerBlock.js","components/programmBlock/triggerDateTime.js","components/programmBlock/delayBlock.js","Page/NewScriptsPage.js","components/usersCart/userElement.js","img/userNuN.png","Page/UsersPage.js","components/inputImages.js","components/files/imageDitail.js","Page/GalleryPage.js","img/socket.png","img/sensor.png","img/lamp.png","Page/AddDeviceComponents/page1.js","img/switch.png","img/relay.jpg","Page/AddDeviceComponents/page3.js","Page/AddDeviceComponents/page2.js","Page/AddDevicePage.js","Page/addFilesPages/NewMovie.js","hooks/storage.hook.js","Page/addFilesPages/NewActors.js","Page/addFilesPages/NewGanre.js","components/header.js","components/history/utils.js","components/history/scrins/noContent.js","components/history/scrins/HistoryList.js","components/history/DeviceHistory.js","Page/ChartPage.js","Page/filespage/movieDitail.js","components/mqttCards/mqttCard.js","Page/MqttTopics.js","components/zigbeeCard/Card.js","Page/ZigbeePage.js","Page/modulsPageComponents/pathDecodhook.js","Page/modulsPageComponents/menuModuls.js","Page/modulsPageComponents/Card.js","Page/modulsPageComponents/table.js","Page/modulsPageComponents/page.js","Page/ModulsPage.js","components/groupForm/groupFormContext.js","components/groupCard.js","components/groupForm/groupFormReducer.js","components/switch.js","components/groupForm/addDeviceInGroup/deviceEl.js","components/groupForm/addDeviceInGroup/addDeviceinGroup.js","components/groupForm/editfield/editField.js","components/groupForm/groupForm.js","components/groupForm/groupFormState.js","Page/GroupsPage.js","Page/addGroupPage.js","img/fon-base.jpg","hooks/style.hook.js","Page/EditStylePage.js","Page/AddUser.js","routes.js","hooks/auth.hook.js","components/UserStyle/StyleState.js","components/Groups/groupsState.js","components/terminal/terminal.js","components/terminal/terminalCart.js","hooks/socket.hook.js","components/typeDevices/typeDevicesState.js","components/Menu/pageContext.js","components/Menu/pageState.js","App.js","reportWebVitals.js","index.js"],"names":["AlertContext","createContext","Alert","useContext","alert","hide","className","visible","type","text","Ok","onClick","No","style","marginLeft","DialogWindowContext","TextDialog","title","active","placeholder","useState","data","setData","required","name","value","onChange","e","target","ConfirmationDialog","items","buttons","activeText","map","item","index","checked","action","disabled","AlertDialog","DialogWindow","dialog","MenuContext","noop","AuthContext","token","userId","userLavel","login","logout","isAuthenticated","useHttp","auth","loading","setLoading","error","setError","refresh","useCallback","a","fetch","method","body","headers","response","json","ok","Error","message","request","url","file","JSON","stringify","status","clearError","UserContext","FloatingButton","big","LeftMenu","show","insluedField","otherField","user","zIndex","closest","to","t","indexOf","href","iconClass","ContextMenuElement","setVisible","sub","item2","ContextMenu","length","Menu","Tabs","container","useRef","contextMenu","preventDefault","ref","onContextMenu","TopMenu","togle","controlButtons","search","dopmenu","BottomMenu","bottomMenuRef","current","scrollTop","height","weight","menuField","menu","config","UserName","UserSurname","Mobile","Email","ImageId","setuser","setSearch","searchtVisible","setSearchtVisible","setField","setotherField","window","innerWidth","sizeWidth","setSizeWidth","useEffect","resizeThrottler","event","addEventListener","removeEventListener","giveField","arr1","arr2","slice","filter","item3","push","include","other","MenuElements","updataUser","Authorization","specialAction","onKeyDown","keyCode","func","d","FormContext","Loader","useMessage","Message","setMessage","no","clearMessage","HidingLi","children","split","parentNode","iconList","IconChoose","dataId","changeHandler","dataset","val","DeviceMiioEdit","deviceData","USText","str","simbol","i","p","j","information","systemName","newSystemName","address","typeConnect","RoomId","device","setDevice","fields","field","changeIcon","id","arr","newcom","icon","outHandler","dataout","deleteHandler","DeviceVariableEdit","valueType","count","setCount","console","log","changeHandlerField","valid","validFields","arrType","conf","low","high","values","unit","it","index2","prev","delcom","control","DeviceMqttEdit","changeHandlerFieldChek","justifyContent","Boolean","TypeDeviceContext","isFieldEdit","fieldConf","key","CastomEdit","types","configs","Array","isArray","filterdata","editConfig","getConfig","delete","add","EditDevicesForm","props","usedevice","LincDevicesForm","BackForm","EditUserLevel","Level","level","setLevel","UserId","StyleIcon","colors","background","c1","c2","CreateStyle","c3","setStyle","colorHandler","createStyle","Form","form","hideAndApdata","OK","ret","SHOW_ALERT","HIDE_ALERT","SHOW_MENU","HIDE_MENU","EDIT_MENU","SHOW_FORM","HIDE_FORM","SHOW_TERMINAL","HIDE_TERMINAL","SHOW_EDITCART","HIDE_EDITCART","SHOW_ADDCONTROL","HIDE_ADDCONTROL","SHOW_DIALOG","HIDE_DIALOG","SHOW_GROUP","HIDE_GROUP","handlers","state","payload","alertReducer","DEFAULT","AlertState","useReducer","dispatch","Provider","dialogWindowReducer","DialogWindowState","options","menuReducer","MenuState","formReducer","FormState","TerminalContext","terminalReducer","TerminalState","terminal","AddScriptContext","SocketContext","GroupsContext","AddScriptState","devices","groups","filteredDevice","typeDev","flag","filteredGroup","deviceBlock","result","groupBlock","useScriptDevices","addScriptBlock","typeValue","addTarget","targets","unshift","typeAct","typeIf","ModalWindow","position","zindex","top","left","userBtn","width","moving","heightToolbar","styleContent","point","setPoint","onMouseDown","parent","getBoundingClientRect","coords","elem","box","pageYOffset","pageXOffset","getCoords","shiftX","pageX","x","shiftY","pageY","y","moveAt","document","onmousemove","onkeydown","onmouseup","clientWidth","clientHeight","onDragStart","CartEditContext","BtnElement","deleteBtn","editBtn","setValue","switchMode","setSwitchMode","outValue","v","typeItem","typeAction","entity","fieldvalue","test","poz","Number","min","max","oldvel","setTimeout","editmode","EditModeContext","RunText","anim","el","getElementById","el2","innerHTML","SliderElement","delay","deviceName","clearTimeout","onInput","SensorElement","getTypeField","deletebtn","editbtn","EnumElement","join","valuesDecod","ScriptElement","clickHandler","BaseElement","ServerConfigContext","WeatherElement","serverConfig","weather","convertTemp","k","String","Math","floor","city","now","temp","forecastDate","day","date","night","fontSize","flexDirection","display","alignItems","TimeElement","time","Date","getHours","getMinutes","getMonthStr","month","krat","months","shortMonths","CalendarElement","days","setDays","convertDateFormat","reverse","naw","year","getMonth","setDate","getDate","getDayMount","getFullYear","getUTCDay","useControlData","getDevice","getGroup","itemField","getGroupValue","group","dev","convert","res","fieldsEntity","HomebaseCart","updata","edit","mode","column","row","mapCart","isPosition","pos","inBoundaries","deleteElement","index1","mas","newBtns","editElement","data1","order","z","array","sort","indexbtn","start","end","ystart","yend","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","TextElement","outvalue","setOutValue","focus","setFocus","onFocus","onBlur","HomeLineCart","cartEditReducer","CartEditState","cart","cartEdit","AddControlContext","addControlReducer","AddControlState","addControl","ScriptContext","ScriptPage","next","back","scripts","Page2","sensor","button","slider","enum","Page3Device","typeField","condidats","filtredData","filtred","allDevices","Page4Device","filtredField","allField","Page5Device","number","setNumber","setText","trim","marginTop","marginBottom","Page3Group","allGroups","Page4Group","Page5Group","Page6","cardBaseElement","cardLineElement","AddControl","typeChild","setTypeChild","setAction","setItem","page","setPage","close","addElement","addDevField","addScript","addDevFieldAction","BaseCartEdit","mainId","setCart","btn","ElementEdit","butonConf","setButonConf","CartEdit","cardsList","HomePage","editMode","setEditMode","carts","setCarts","sortedCarts","setSortedCarts","getData","conteiner","setScripts","pages","setPages","addCart","newCart","removeCart","updataCart","saveCarts","cards","getAllPages","data2","importCarts","data3","addPage","changePage","deletePage","getPages","b","getdopMenu","sortCard","sortdata","resizeTimeout","setMode","AuthPage","password","setForm","loginHandler","getValue","typeFieldToTypeChart","binary","textColor","fon","color","num","parseInt","getOption","baseConf","theme","animationEnabled","axisY","utils","axisX","valueFormatString","margin","xValueFormatString","markerSize","dataPoints","interval","minimum","maximum","backgroundColor","labelFontColor","fontColor","Slider","Text","newvalue","Enum","StyleContext","HistoryList","records","getSeconds","History","nawstyle","history","setHistory","range","setrange","fieldname","setFieldname","getHistory","filterTime","newdata","newData","datatime","converHistorys","Btn","togleField","LightPage","blub","getBlub","toLowerCase","otherBinary","textcontrol","enumcontrol","sensors","generalBlub","blubs","blubs2","dopBlub","ranges","setProperty","OtherDevicePage","binaryControl","DitailDevicePage","useParams","newdev","foo","Power","Dimmer","Mode","NewDeviceElement","useHistory","updateDevice","setStatus","userLevel","DevicesPage","setDevices","read","searchout","ProfilePage","location","useLocation","setUser","newuser","setNewuser","Old","New","setPassword","changePassHandler","outForm","outPassForm","pathname","UserOption","styles","updateConfig","auteStyle","staticBackground","Style","userconf","setUserconf","updataConf","userConfigHandler","deleteStyle","styleHandler","checkedHandler","ServerOption","serverconf","setServerconf","serverConfigHandler","moduleConfig","module","ImgOption","base","sunrise","twilight","images","image","src","alt","MenuComponent","use","def","MenuOption","useBlock","setUseBlock","noUseBlock","setNoUseBlock","configHandler","newarr","newarr2","addParagraph","usearr","nousearr","deleteParagraph","OptionsPage","script","deleteScript","runScript","trigger","ScriptsPage","allScripts","setAllScripts","updataScripts","screen","ValueDeviceBlock","deleteEl","block","lookForDeviceById","lookForField","Object","keys","TextBlock","setDelay","NumberBlock","EnumBlock","MathBlock","setType","addvalue","element","value1","value2","updataValue","deleteValue","IfBlock","idDevice","oper","changeSelector","GroupBlock","blockData","devEl","indexel","elements","_","reqUpdata","elementData","typeblock","dataDev","act","ActBlock","ActGroup","ActScript","TriggerBlock","deviceId","allTypes","setAllTypes","condidat","TriggerDateTime","frequency","setFrequency","setTime","change","DelayBlock","NewScriptsPage","cost","setCost","condition","then","otherwise","setScript","deleteTrigger","addActBlock","datascr","deleteActBlock","updatascript","components","component","giveScript","idscript","s","UserElement","UsersPage","users","setUsers","allUsers","setAllUsers","updataUsers","ImagesInput","update","inputRef","imgConteiner","filesArr","setFiles","byteToSize","bytes","round","pow","files","from","forEach","match","reader","FileReader","onload","ev","insertAdjacentHTML","size","readAsDataURL","sendFile","FormData","append","querySelector","classList","remove","multiple","accept","click","ImageDitail","setFon","out","GalleryPage","setEnd","urls","setUrls","newUrl","setnewUrl","ditailElement","setDitailElement","getTenUrl","oldUrl","ditail","lamp","lampImg","light","switch","relay","socket","socketImg","sensorImg","getImage","AddDevicesPage1","typs","typedev","typeconnect","img","AddDevicesPage3","backPage","AddDevicesPage2","begining","setFields","addConfig","formc","undefined","includes","removeField","AddDevicesPage","AddMoviePage","storegeName","tagline","discription","country","regisers","actors","ganres","budget","fees_in_usa","fees_in_world","category","urlLocal","loaded","quality","count_seasons","closed","save_seasons","localStorage","parse","getItem","removeData","removeItem","imgPoster","divPoster","poster","setActors","setGanres","categorys","setCategorys","giveData","allactors","allganres","allcategorys","changeSelect","select","opt","iLen","selected","getSelectValues","changeHeandler","checkedHeandler","getMovieData","directors","genres","world_premiere","localUrl","grade","cols","rows","URL","webkitURL","fileList","createObjectURL","revokeObjectURL","this","AddActorPage","goBack","date_of_birth","AddGanrePage","Header","searcht","setSearchVisible","toDate","timestamp","valueName","NoContent","DeviceHistory","chartData","setChartData","stringArreyToNumberArrey","newArr","stringArrey","clickField","DeviceSystemName","lookforField","DeviceConfig","DeviceName","ChartsPage","charts","setCharts","importCharts","MovieDitail","movie","setMovie","baseAddressList","power","dimmer","brightness","color_temp","baseMinMax","MQTTElement","onClickMessage","typeList","typeMessage","mes","dict","dictToList","topic","pop","Decice","lincs","topicComponents","typeControl","ctype","cMinMax","confel","MqttPage","deviceMqtt","setDeviceMqtt","allDeviceMqtt","setAllDeviceMqtt","searchTopik","setSearchTopik","searchDevice","setSearchDevice","setDitail","getDev","clearMqtt","ZigbeeElement","rename","newName","deleteDevice","convertForm","exposes","features","endpoint","valmaxmin","linc","dupCorrekt","property","value_min","value_off","value_max","value_on","allAddress","addDev","ZigbeePage","allDevice","setAllDevice","searchtest","setSearchtest","permitJoin","setPermitJoin","rebootStik","pairing","zigbeeDevice","useDecodePath","gettext","root","path","content","getfields","useMenuModuls","clickmenu","getmenu","Card","Table","Page","updateMenu","dataPage","setDataPage","ws_src","typeContent","rootField","ModulsPage","dataActivePage","setDataActivePage","GroupFormContext","GroupCard","getdevice","names","deleteGroup","getFields","Switch","Device","setGroupDevice","groupDevice","added","namef","AddDevice","fieldsList","updataField","groupdevices","groupdev","getGroupDevice","del","otherdev","EditField","gettypes","getcontrols","GroupForm","GroupFormState","GroupsPage","setAllGroups","groupsc","setGroups","GroupsAddPage","setGroup","getGroups","create","LightenDarkenColor","col","amt","usePound","r","g","toString","defbacground","defFon","defstyle","setColors","opasiryc1","opasiryc2","backgroundType","nightTime","twilightTime","sunriseTime","dayTime","useCastomStyle","setBackground","adaptiveBackground","getimage","avtoNightStyle","nightStyle","getColors","EditStylePage","setStyle1","opasityHandler","opasiryActive","AddUser","email","mobile","registerHandler","maxleght","CastomizeStyle","ready","setConfig","setServerConfig","setStyles","nawstyles","setNawStyles","setFlag","dataStyles","dataUserConf","applicationStyle","updataStyle","GroupsState","Terminal","inputmes","setInputmes","readOnly","area","TerminalCart","SocketState","timerId","connect","host","WebSocket","listenChanges","onopen","clearInterval","onmessage","onerror","onclose","setInterval","TypesDeviceState","setTypes","PageContext","PageState","allpages","App","setToken","setUserId","setUserLevel","setReady","jwtToken","useAuth","routes","exact","useRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.804dd253.chunk.js","sourcesContent":["import {createContext} from 'react'\n\nexport const AlertContext = createContext()\n","import React, {useContext} from 'react'\nimport {AlertContext} from './alertContext'\n\nexport const Alert = ()=>{\n  const {alert, hide} = useContext(AlertContext)\n\n    return(\n      <div className={`alert ${(alert.visible)?\"show\":\"hide\"} alert-${alert.type}`}>\n        <div className=\"div-alert-container\">\n          <p>{alert.text}</p>\n          <div className=\"div-alert-btnConteiner\">\n          {\n            (typeof(alert.Ok)===\"function\")?\n            <button className=\"normalSelection button\" onClick={()=>{\n              alert.Ok()\n              hide()\n            }}>Yes</button>:null\n          }\n          {\n            (typeof(alert.Ok)===\"function\"&&alert.No)?\n            <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={()=>{\n              if(typeof(alert.No)===\"function\")\n                alert.No()\n              hide()\n            }}>No</button>:\n            <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={hide}>Cancel</button>\n          }\n          </div>\n        </div>\n      </div>\n    )\n}\n","import {createContext} from 'react'\n\nexport const DialogWindowContext = createContext()\n","import React, {useState} from 'react'\n\nexport const TextDialog = ({hide, title, text, active, placeholder})=>{\n  const [data, setData] = useState(\"\")\n\n  const ok = ()=>{\n    if(typeof(active)===\"function\")\n      active(data)\n    hide()\n  }\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">{title}</div>\n      <div className=\"dialogBody\">\n        <p>{text}</p>\n        <div className=\"input-data\">\n          <input required type = \"text\" name = \"input\" value={data} onChange={(e)=>{setData(e.target.value)}}/>\n          <label>{placeholder}</label>\n        </div>\n      </div>\n      <div className=\"dialogFooter\">\n      <button className=\"dialogButton button normalSelection\" onClick={ok}>ok</button>\n      <button className=\"dialogButton button normalSelection\" onClick={hide}>cancel</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const ConfirmationDialog = ({title, hide, active, items, buttons, activeText})=>{\n  const [data, setData] = useState(\"\")\n\n  const out = ()=>{\n    if(typeof(active)===\"function\")\n      active(data)\n  }\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">{title}</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody scroll\">\n        {items?.map((item, index)=>{\n          return(\n            <label key={index} className=\"dialogItem\">\n              <input type=\"radio\" name=\"data\" value={item.data} checked={data===item.data} onChange={()=>setData(item.data)}/>\n              <p>{item.title}</p>\n            </label>\n          )\n        })}\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n      {\n        buttons?.map((item, index)=>{\n          return(\n            <button key={index} className=\"dialogButton button normalSelection\" onClick={item.action}>{item.title}</button>\n          )\n        })\n      }\n      {\n        (!buttons)?\n        <button className=\"dialogButton button normalSelection\" onClick={hide}>CANCEL</button>\n        :null\n      }\n        <button className=\"dialogButton button normalSelection\" onClick={out} disabled={data===\"\"}>{activeText||\"OK\"}</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React from 'react'\n\nexport const AlertDialog = ({hide, text, title, buttons})=>{\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">{title}</div>\n      <div className=\"dialogBody\">\n        <p>{text}</p>\n      </div>\n      <div className=\"dialogFooter\" onClick={hide}>\n      {\n        buttons?.map((item, index)=>{\n          return(\n            <button key={index} className=\"dialogButton button normalSelection\" onClick={item.action}>{item.title}</button>\n          )\n        })\n      }\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useContext} from 'react'\nimport {DialogWindowContext} from './dialogWindowContext'\nimport {TextDialog} from './dialogType/textDialog'\nimport {ConfirmationDialog} from './dialogType/confirmationDialog'\nimport {AlertDialog} from './dialogType/alertDialog'\n\nexport const DialogWindow = ()=>{\n  const {dialog, hide} = useContext(DialogWindowContext)\n\n  if(!dialog.visible){\n    return null;\n  }\n\n  if(dialog.type === \"alert\")\n    return(<AlertDialog hide={hide} text={dialog.text} title={dialog.title} buttons={dialog.buttons}/>)\n\n  if(dialog.type === \"text\")\n    return(<TextDialog hide={hide} text={dialog.text} title={dialog.title} active={dialog.active} placeholder={dialog.placeholder}/>)\n\n  if(dialog.type === \"confirmation\")\n    return(<ConfirmationDialog hide={hide} text={dialog.text} title={dialog.title} active={dialog.active} items={dialog.items}/>)\n\n  return null\n\n}\n","import {createContext} from 'react'\n\nexport const MenuContext = createContext()\n","import {createContext} from 'react'\n\nfunction noop() {}\n\nexport const AuthContext = createContext({\n  token: null,\n  userId: null,\n  userLavel: null,\n  login: noop,\n  logout: noop,\n  isAuthenticated: false\n})\n","import {useState, useCallback, useContext} from 'react'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const useHttp = () => {\n  const auth = useContext(AuthContext)\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const refresh = useCallback(async ()=>{\n    const response = await fetch(\"/api/auth/refresh\", {method:\"GET\", body:null, headers:{}});\n    const data = await response.json()\n    if (!response.ok) {\n      auth.logout()\n      throw new Error(data.message||'что-то пошло не так')\n    }\n    await auth.login(data.token, data.userId, data.userLavel)\n    return data.token\n  },[auth])\n\n  const request = useCallback(async (url, method=\"GET\", body = null, headers = {},file=false) => {\n    setLoading(true);\n    try {\n      if(headers['Authorization'])\n      {\n        headers['Authorization-Token'] = headers['Authorization']\n        // headers['Authorization'] = undefined\n      }\n      if(body&&!file){\n        headers['Content-Type'] = 'application/json'\n        body = JSON.stringify(body);\n      }\n      let response = await fetch(url, {method, body, headers});\n      if (response.status === 401){\n        const token = await refresh()\n        headers[\"Authorization-Token\"] = `Bearer ${token}`\n        response = await fetch(url, {method, body, headers});\n      }\n      const data = await response.json()\n      if (!response.ok) {\n        throw new Error(data.message||'что-то пошло не так')\n      }\n      setLoading(false);\n      return data;\n    } catch (e) {\n      setLoading(false);\n      setError(e.message)\n    }\n  },[refresh]);\n\n  const clearError = useCallback(() => {setError(null)},[]);\n\n  return {loading, request, error, clearError}\n}\n","import {createContext} from 'react'\n\nexport const UserContext = createContext()\n","import React from 'react'\n\nexport const FloatingButton = ({type, action, big, title}) =>{\n  return(\n    <div className={`specialActionButton ${(big)?\"big\":\"\"}`} onClick={action}>\n    {\n      (type===\"config\")?\n      <i className=\"fas fa-cog\"></i>:\n      (type===\"ok\")?\n      <i className=\"fas fa-check\"></i>:\n      (type===\"close\")?\n      <i className=\"fas fa-times\"></i>:\n      <i className=\"fas fa-plus\"></i>\n    }\n    </div>\n)\n}\n","import React, {useContext} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {NavLink} from 'react-router-dom'\n\nexport const LeftMenu = ({hide,show, visible, insluedField, otherField, user})=>{\n  const auth = useContext(AuthContext)\n\n  const closeMenu=(e)=>{\n    let el = e.target.closest(\"li[data-el=sub]\")\n    if(!el)\n      hide()\n  }\n\n  const allclosev = ()=>{\n    hide()\n  }\n\n  return(\n    <>\n    {\n      (visible)?\n      <div className=\"backGlass\" onClick={allclosev} style={{zIndex:96}}></div>\n      :null\n    }\n    <div onClick={closeMenu} className={`navigationRail ${(visible)?\"active\":\"\"}`}>\n    <ul className=\"baseMenu\">\n      <li>\n        <NavLink to = \"/home\">\n          <i className=\"fas fa-home\"></i>\n          <span>Home</span>\n        </NavLink>\n      </li>\n      <li>\n        <NavLink to = \"/devices\">\n          <i className=\"fas fa-plug\"></i>\n          <span>Devices</span>\n        </NavLink>\n      </li>\n      <li>\n        <NavLink to = \"/config\">\n          <i className=\"fas fa-cogs\"></i>\n          <span>Options</span>\n        </NavLink>\n      </li>\n      {\n        (insluedField)?\n        insluedField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n    </ul>\n    {\n      (visible)?\n      <>\n      <div className=\"dividers\"></div>\n      <ul className=\"otherMenu\">\n      {\n        (otherField)?\n        otherField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n      </ul>\n      <div className=\"dividers\"></div>\n      <ul className=\"otherMenu\">\n        <li>\n          <button className=\"menu-btn\" onClick={auth.logout}>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>logout</span>\n          </button>\n        </li>\n      </ul>\n      </>\n      :null\n    }\n    </div>\n    </>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const ContextMenuElement = ({item, hide}) =>{\n  const [visible, setVisible] = useState(false)\n\n  const buttonClick = (e)=>{\n    if(item.sub)\n      setVisible(!visible)\n    else\n      hide()\n    if(typeof(item.onClick) === \"function\")\n      item.onClick(e)\n  }\n\n  return(\n    <>\n    <div className=\"contextmenuElement\" onClick={buttonClick}>\n      <span className=\"state\">\n      {\n        (item.active)?\n        <i className=\"fas fa-check\"></i>:\n        (item.sub)?\n        <i className=\"fas fa-chevron-left\"></i>\n        :null\n      }\n      </span>\n      <span className=\"content\">{item.title}</span>\n    </div>\n    {\n      (visible && item.sub)?\n      <div className=\"contextSubMenu\">\n      {\n        item.sub?.map((item2,index)=>{\n          return (\n            <div key={index} className=\"contextmenuElement\" onClick={item2.onClick}>\n              <span className=\"state\">{(item2.active)?<i className=\"fas fa-check\"></i>:null}</span>\n              <span className=\"content\">{item2.title}</span>\n            </div>\n          )\n        })\n      }\n      </div>\n      :null\n    }\n    </>\n  )\n}\n","import React from 'react'\nimport {ContextMenuElement} from './contextMenuElement'\n\nexport const ContextMenu = ({buttons=[], className, style, hide}) =>{\n\n  if(buttons?.length === 0){\n    return null\n  }\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div style={style} className={`contextmenu show ${className}`}>\n      {\n        buttons.map((item, index)=>{\n          if (item.type === \"dividers\")\n            return(\n              <div key={index} className=\"dividers\"></div>\n            )\n          return(\n            <ContextMenuElement key={index} item={item} hide={hide}/>\n          )\n        })\n      }\n    </div>\n    </>\n  )\n}\n","import React,{useState} from 'react'\nimport {ContextMenu} from '../contextMenu/contextMenu'\n\nexport const Menu = ({buttons=[], className}) =>{\n  const [visible, setVisible] = useState(false)\n\n  if(buttons?.length === 0){\n    return null\n  }\n\n  return(\n    <>\n    <div className=\"menuTogleBtn\" onClick={()=>setVisible(!visible)}>\n      <i className=\"fas fa-ellipsis-v\"></i>\n    </div>\n    {\n      (visible)?\n      <ContextMenu hide={()=>setVisible(false)} buttons={buttons} className={className}/>\n      :null\n    }\n    </>\n  )\n}\n","import React, {useRef} from 'react'\n\nexport const Tabs = ({buttons})=>{\n  const container = useRef(null)\n\n  const contextMenu = (e) =>{\n    e.preventDefault()\n  }\n\n  return(\n      <div ref={container} className=\"tabsConteiner\">\n        <div className={`tabs`}>\n          {\n            buttons?.map((item, index)=>{\n              return(\n                <div onContextMenu={contextMenu} key={index} className={`tabButton ${(item.active)?\"active\":\"\"}`} onClick={item.action}>{item.title}</div>\n              )\n            })\n          }\n        </div>\n      </div>\n  )\n}\n","import React from 'react'\nimport {Menu as DopMenu} from '../dopmenu/menu'\nimport {Tabs} from './tabs'\n\nexport const TopMenu = ({title, togle, buttons, controlButtons})=>{\n\n  return(\n    <div className=\"topMenu\">\n    {\n      (togle)?\n      <div className=\"burger\" onClick={togle}>\n        <i className=\"fas fa-bars\"></i>\n      </div>\n      :null\n    }\n      <h2>{title}</h2>\n      <Tabs buttons={buttons}/>\n      <div className=\"controlConteiner\">\n      {\n        (controlButtons?.search)?\n        <div className=\"search\" onClick={controlButtons.search.togle}>\n          <i className=\"fas fa-search\"></i>\n        </div>:\n        null\n      }\n      {\n        (controlButtons?.dopmenu)?\n          <DopMenu buttons={controlButtons.dopmenu}/>\n        :null\n      }\n      </div>\n    </div>\n  )\n}\n","import React, {useRef, useContext} from 'react'\nimport {NavLink} from 'react-router-dom'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {Menu as DopMenu} from '../dopmenu/menu'\n\nexport const BottomMenu = ({hide, togle, visible, insluedField, controlButtons, otherField})=>{\n  const bottomMenuRef = useRef(null)\n  const auth = useContext(AuthContext)\n\n  const closeMenu = ()=>{\n    if(bottomMenuRef.current){\n      bottomMenuRef.current.scrollTop = 0\n    }\n    hide()\n  }\n\n  return(\n    <>\n    <div onClick={closeMenu} ref={bottomMenuRef} className={`bottomMenuAll ${(visible)?\"show\":\"\"}`}>\n      <div style={{height:\"50vh\", weight:\"100%\"}}></div>\n      <ul className=\"baseMenu\">\n        <li>\n          <NavLink to = \"/devices\">\n            <i className=\"fas fa-plug\"></i>\n            <span>Devices</span>\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to = \"/config\">\n            <i className=\"fas fa-cogs\"></i>\n            <span>Options</span>\n          </NavLink>\n        </li>\n      {\n        (insluedField)?\n        insluedField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n      {\n        (otherField)?\n        otherField.map((item,index)=>{\n          let t = item.url.indexOf(\"/\")\n          return(\n            <li key={index}>\n            {\n              (t!==0)?\n              <a href = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </a>:\n              <NavLink to = {item.url}>\n                <i className={item.iconClass}></i>\n                <span>{item.title}</span>\n              </NavLink>\n            }\n            </li>\n          )\n        }):null\n      }\n      <li>\n        <button className=\"menu-btn\" onClick={auth.logout}>\n          <i className=\"fas fa-sign-out-alt\"></i>\n          <span>logout</span>\n        </button>\n      </li>\n    </ul>\n    </div>\n    <div className=\"bottomMenu\">\n      <div className=\"burger\" onClick={togle}>\n        <i className=\"fas fa-bars\"></i>\n      </div>\n      <div className=\"item\">\n        <NavLink to = \"/home\">\n          <i className=\"fas fa-home\"></i>\n        </NavLink>\n      </div>\n      <div className=\"controlConteiner\">\n      {\n        (controlButtons?.search)?\n        <div className=\"search\" onClick={controlButtons.search.togle}>\n          <i className=\"fas fa-search\"></i>\n        </div>:\n        null\n      }\n      {\n        (controlButtons?.dopmenu)?\n          <DopMenu className=\"bottom\" buttons={controlButtons.dopmenu}/>\n        :null\n      }\n      </div>\n    </div>\n    </>\n  )\n}\n","\nexport const menuField = [\n  {title:\"Scripts\",iconClass:\"fas fa-code-branch\",url:\"/scripts\"},\n  {title:\"Nas\",iconClass:\"fas fa-hdd\",url:\"/nas\"},\n  {title:\"MQTT\",iconClass:\"fas fa-network-wired\",url:\"/mqtt\"},\n  {title:\"zigbee2mqtt\",iconClass:\"fas fa-network-wired\",url:\"/zigbee2mqtt\"},\n  {title:\"profile\",iconClass:\"fas fa-user\",url:\"/profile\"},\n  // {title:\"Files\",iconClass:\"fas fa-file\",url:\"/files/gallery\"},\n  {title:\"Gallery\",iconClass:\"fas fa-images\",url:\"/gallery\"},\n  {title:\"Terminal\",iconClass:\"fas fa-terminal\",url:\"/terminal\"},\n  {title:\"Groups\",iconClass:\"fas fa-object-group\",url:\"/groups\"},\n  {title:\"Rooms\",iconClass:\"fab fa-buromobelexperte\",url:\"/rooms\"},\n  {title:\"Users\",iconClass:\"fas fa-users\",url:\"/users\"}\n]\n","import React, {useContext,useState,useEffect,useCallback} from 'react'\nimport {MenuContext} from './menuContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {UserContext} from '../../context/UserContext'\nimport {FloatingButton} from '../floatingButton'\nimport {LeftMenu} from './menuComponents/leftMenu'\nimport {TopMenu} from './menuComponents/topMenu'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {BottomMenu} from './menuComponents/bottomMenu'\n// import {TerminalContext} from '../terminal/terminalContext.js'\nimport {menuField} from './data.menu.js'\n\n\nexport const Menu = ()=>{\n  const menu = useContext(MenuContext)\n  const {request} = useHttp();\n  const config = useContext(UserContext)\n  const auth = useContext(AuthContext)\n  const dialog = useContext(DialogWindowContext)\n  // const terminal = useContext(TerminalContext)\n  const [user, setuser] = useState({\n    UserName:\"\",\n    UserSurname:\"\",\n    Mobile:\"\",\n    Email:\"\",\n    ImageId:\"\"\n  });\n  const [search, setSearch] = useState(\"\")\n  const [searchtVisible, setSearchtVisible] = useState(false)\n  const [insluedField, setField] = useState([])\n  const [otherField, setotherField] = useState([])\n  const [sizeWidth, setSizeWidth] = useState(window.innerWidth)\n\n  useEffect(()=>{\n    window.addEventListener(\"resize\",resizeThrottler)\n    function resizeThrottler(event) {\n      setSizeWidth(event.target.innerWidth)\n    }\n    return ()=>{\n      window.removeEventListener(\"resize\", resizeThrottler);\n    }\n  },[])\n\n  const giveField=useCallback((data)=>{\n    let arr1 = []\n    let arr2 = menuField.slice()\n    for (let item of data) {\n      arr2 = arr2.filter((item3)=>item3.title!==item.title)\n      arr1.push(item)\n    }\n    return {include:arr1, other:arr2}\n  },[])\n\n  useEffect(()=>{\n    if(config.MenuElements){\n      let data = giveField(config.MenuElements)\n      setField(data.include)\n      setotherField(data.other)\n    }\n  },[config.MenuElements,giveField])\n\n  const updataUser = useCallback(async()=>{\n    const data = await request(`/api/user/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(!data) return;\n    setuser({\n      UserName:data.UserName,\n      UserSurname:data.UserSurname,\n      Mobile:data.Mobile,\n      Email:data.Email,\n      ImageId:data.ImageId\n    });\n  },[request,auth.token])\n\n  const searchHandler = event => {\n    setSearch(event.target.value)\n  }\n\n  const keyd = (e)=>{\n    if(e.keyCode===13&&typeof(menu.menu.search)===\"function\"){\n      menu.menu.search(search)\n    }\n  }\n\n  const searchtVisibleTogle = ()=>setSearchtVisible(!searchtVisible)\n\n  const dialogSearcht = (func)=>{\n    if(!searchtVisible){\n      dialog.show(\"text\", {\n        title:\"Search\",\n        placeholder:\"name\",\n        active:(d)=>{\n          if(typeof(func)===\"function\")\n            func(d)\n          setSearchtVisible(false)\n        }\n      })\n    }else{\n      dialog.hide()\n    }\n    setSearchtVisible(!searchtVisible)\n  }\n\n  useEffect(()=>{\n    updataUser()\n  },[updataUser])\n\nif(sizeWidth>700){\n  return(\n    <>\n    {\n      (menu.menu.specialAction?.type)?\n      <FloatingButton\n      title={menu.menu.specialAction?.title || menu.menu.specialAction?.type}\n      type = {menu.menu.specialAction?.type}\n      action = {menu.menu.specialAction?.action}\n      />:\n      null\n    }\n    <TopMenu\n    title={menu.menu.title}\n    togle={menu.togle}\n    controlButtons={{\n      search:(menu.menu.search)?{togle:searchtVisibleTogle}:null,\n      dopmenu:menu.menu.dopmenu\n    }}\n    buttons={menu.menu.buttons}\n    />\n    {\n      (menu.menu.search)?\n      <div className={`toolbarConteainer ${(searchtVisible)?\"show\":\"hide\"}`}>\n        <div className={`search`}>\n          <button onClick={()=>setSearchtVisible(false)} className=\"backBtn\">\n            <i className=\"fas fa-arrow-left\"></i>\n          </button>\n          <input placeholder=\"search\" type=\"search\" name=\"search\" onChange={searchHandler} onKeyDown={keyd} value={search}/>\n        </div>\n      </div>:\n      null\n    }\n    <LeftMenu\n    user={user}\n    hide={menu.hide}\n    show={menu.show}\n    visible={menu.menu.visible}\n    insluedField={insluedField}\n    otherField={otherField}\n    />\n    </>\n  )\n}\nelse {\n  return (\n    <>\n    {\n      (menu.menu.specialAction?.type)?\n      <FloatingButton\n      title={menu.menu.specialAction?.title || menu.menu.specialAction?.type}\n      big={menu.menu.visible} type = {menu.menu.specialAction?.type}\n      action = {menu.menu.specialAction?.action}\n      />:\n      null\n    }\n    {\n      (menu.menu.buttons)?\n      <TopMenu\n      buttons={menu.menu.buttons}\n      />\n      :null\n    }\n    <BottomMenu\n    hide={menu.hide}\n    togle={menu.togle}\n    visible={menu.menu.visible}\n    insluedField={insluedField}\n    otherField={otherField}\n    controlButtons={{\n      search:(menu.menu.search)?{togle:()=>dialogSearcht(menu.menu.search)}:null,\n      dopmenu:menu.menu.dopmenu\n    }}\n    />\n    </>\n  )\n}\n}\n","import {createContext} from 'react'\n\nexport const FormContext = createContext()\n","import React from 'react'\n\nexport const Loader = ({style}) =>{\n  return(\n  <div className=\"loader\" style={{...style}}>\n    <div className=\"face face1\">\n      <div className=\"circle\"></div>\n    </div>\n    <div className=\"face face2\">\n      <div className=\"circle\"></div>\n    </div>\n  </div>\n)\n}\n","import {useState, useCallback, useContext} from 'react'\nimport {AlertContext} from '../components/alert/alertContext'\n\nexport const useMessage = (type = 'error') => {\n  const [Message, setMessage] = useState('');\n  const {show,hide} = useContext(AlertContext);\n\n\n  const message = useCallback((text, type,ok,no) =>{\n      if(text){\n        setMessage(text)\n        show(text, type,ok,no)\n      }\n      // setTimeout(function () {\n      //   setMessage('')\n      //   hide()\n      // }, 30000);\n    },[show])\n\n  const clearMessage = () => {\n    setMessage('')\n    hide()\n  }\n  return {message,Message,clearMessage}\n}\n","import React, {useState} from 'react'\n\nexport const HidingLi = ({children, title, show=false})=>{\n  const [visible, setVisible] = useState(show)\n\n  const togle = (event)=>{\n    if(event.target.className.split(\" \")[0]!==\"hidingLi\"&&event.target.parentNode.className.split(\" \")[0]!==\"hidingLi\") return;\n    setVisible(!visible)\n  }\n\n  return(\n    <li name = \"HidingLi\" className={`hidingLi ${(visible)?\"show\":\"hide\"}`} onClick={togle}>\n      <h3 value = \"HidingLi\" className=\"LiTitle\">{title}</h3>\n      <i value = \"HidingLi\" className=\"iconLI fas fa-chevron-down\"></i>\n      <div className=\"LiContent\">\n        {children}\n      </div>\n    </li>\n  )\n}\n","import React, {useState} from 'react'\n\nconst iconList = [\n  \"fas fa-lightbulb\",\n  \"far fa-lightbulb\",\n  \"fas fa-adjust\",\n  \"fas fa-bath\",\n  \"fas fa-sun\",\n  \"fas fa-broadcast-tower\",\n  \"fas fa-cog\",\n  \"fas fa-bell\",\n  \"fas fa-bolt\",\n  \"fas fa-city\",\n  \"fas fa-home\",\n  \"fas fa-desktop\",\n  \"fas fa-moon\",\n  \"fas fa-power-off\",\n  \"fas fa-rss\",\n  \"fas fa-door-closed\",\n  \"fas fa-door-open\",\n  \"fas fa-cogs\",\n  \"fas fa-circle-notch\"\n]\n\nexport const IconChoose = ({value, onChange, dataId}) =>{\n  const [visible, setVisible] = useState(false)\n\n  const changeHandler = (event)=>{\n    onChange(event.target.dataset.val, dataId)\n  }\n\n  return(\n  <>\n    <div className=\"configElement\">\n      <div className=\"input-data-icon\" onClick={()=>setVisible(!visible)}>\n        <div className=\"IconChooseflex\">\n          <p>icon</p>\n          <div className=\"iconEl\">\n            <i className={value}></i>\n          </div>\n        </div>\n        <div className=\"dividers\"></div>\n        <div className={`chooseIcon ${(visible)?\"show\":\"\"}`}>\n          <div className=\"iconConteiner\">\n          {\n            iconList.map((item, index)=>{\n              return(\n                <div key={index} data-id={dataId} onClick={changeHandler} data-val={item} className=\"iconEl\">\n                  <i className={item}></i>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>\n      </div>\n    </div>\n  </>\n  )\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {useChecked} from '../../../../hooks/checked.hook'\n\nexport const DeviceMiioEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information,\n    name:deviceData.name,\n    systemName:deviceData.systemName,\n    newSystemName:deviceData.systemName,\n    type:deviceData.type,\n    address:deviceData.address,\n    typeConnect:deviceData.typeConnect,\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  const outHandler = async ()=>{\n    let dataout = {\n      ...device,\n      fields:field\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\")\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>Name</h5>\n          <input className = \"textInput\" placeholder=\"name\" id=\"name\" type=\"text\" name=\"name\" value={device.name} onChange={changeHandler} required/>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>System name</h5>\n          <input className = \"textInput\" placeholder=\"system name\" id=\"newSystemName\" type=\"text\" name=\"newSystemName\" value={device.newSystemName} onChange={changeHandlerTest} required/>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>Address</h5>\n          <input className = \"textInput\" placeholder=\"address\" id=\"address\" type=\"text\" name=\"address\" value={device.address} onChange={changeHandler} required/>\n        </label>\n      </li>\n      <li>\n        <label>\n          <h5>information</h5>\n          <input className = \"textInput\" placeholder=\"information\" id=\"information\" type=\"text\" name=\"information\" value={device.information} onChange={changeHandler} required/>\n        </label>\n      </li>\n      {\n        field.map((item, index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n              <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            </HidingLi>\n          )\n        })\n      }\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","\nexport const useChecked = () => {\n  const USText = str =>{\n    const simbol = \"1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\"\n    for (var i = 0; i < str.length; i++) {\n      let p = false;\n      for (var j = 0; j < simbol.length; j++) {\n        if(simbol[j]===str[i]){\n          p=true;\n          break;\n        }\n      }\n      if(!p){\n        return false;\n      }\n    }\n    return true;\n  }\n  return{USText}\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {useChecked} from '../../../../hooks/checked.hook'\n\nexport const DeviceVariableEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information||\"\",\n    name:deviceData.name||\"\",\n    systemName:deviceData.systemName||\"\",\n    newSystemName:deviceData.systemName||\"\",\n    type:deviceData.type||\"other\",\n    valueType:deviceData.valueType||\"json\",\n    address:deviceData.address||\"\",\n    typeConnect:deviceData.typeConnect||\"mqtt\",\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n  const [count, setCount] = useState(deviceData.fields.length);\n\n  useEffect(()=>{\n    console.log(field);\n  },[field])\n\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  function valid() {\n    if(\n      !device.systemName||\n      !device.valueType||\n      !device.name||\n      !device.type||\n      !device.typeConnect\n    ){return false}\n    if(!field||!field[0]){return false}\n    for (var item of field) {\n      if(!(item?.type)){return false}\n    }\n    return true\n  }\n  const validFields = ()=>{\n    let arrType = []\n    for (var item of field) {\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n  const outHandler = async ()=>{\n    if(!valid()){\n      return message(\"не все поля заполнены\",\"error\")\n    }\n    if(!validFields()){\n      return\n    }\n    let conf = []\n    for (var item of field) {\n      if(item.address)\n        conf.push(item)\n    }\n    let dataout = {\n      ...device,\n      fields:conf\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\")\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  const addcom = ()=>{\n    let arr = field.slice()\n    arr.push({\n      address:\"field\"+count,\n      name:\"field\"+count,\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"\",\n      unit:\"\"\n    })\n    setCount((prev)=>prev+1)\n    setField(arr)\n  }\n\n  const delcom = (index)=>{\n    let arr = field.slice()\n    arr = arr.filter((it,index2)=>index!==index2)\n    arr = arr.map((item,i)=>{\n      return {...item,type:\"c\"+i}\n    })\n    setCount((prev)=>prev-1)\n    setField(arr)\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"name\" type=\"text\" value={device.name}></input>\n          <label>Name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandlerTest} required name=\"newSystemName\" type=\"text\" value={device.newSystemName}></input>\n          <label>System name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <select name=\"valueType\" value={device.valueType} onChange={changeHandler}>\n            <option value=\"json\">json</option>\n            <option value=\"value\">value</option>\n          </select>\n          <label>Type value</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"information\" type=\"text\" value={device.information}></input>\n          <label>Information</label>\n        </div>\n      </div>\n      {\n        field.map((item,index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"name\" value={item.name} onChange={changeHandlerField} required/>\n                  <label>name</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                    <option value=\"binary\">binary</option>\n                    <option value=\"text\">text</option>\n                    <option value=\"number\">number</option>\n                    <option value=\"enum\">enum</option>\n                  </select>\n                <label>type</label>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n                </div>\n              </div>:null\n            }\n              <label>\n                <button className=\"delField\" onClick={()=>delcom(index)}>delete</button>\n              </label>\n            </HidingLi>\n          )\n        })\n      }\n        <li>\n          <button className=\"addField\" onClick={addcom}>add</button>\n        </li>\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {useChecked} from '../../../../hooks/checked.hook'\n\nexport const DeviceMqttEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information||\"\",\n    name:deviceData.name||\"\",\n    systemName:deviceData.systemName||\"\",\n    newSystemName:deviceData.systemName||\"\",\n    type:deviceData.type||\"other\",\n    valueType:deviceData.valueType||\"json\",\n    address:deviceData.address||\"\",\n    typeConnect:deviceData.typeConnect||\"mqtt\",\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n  const [count, setCount] = useState(deviceData.fields.length);\n\n  useEffect(()=>{\n    console.log(field);\n  },[field])\n\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeHandlerFieldChek = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.checked }\n    arr[index] = newcom\n    setField(arr)\n  }\n\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  function valid() {\n    if(\n      (!device.systemName && type !== \"link\")||\n      !device.newSystemName||\n      !device.valueType||\n      !device.address||\n      !device.name||\n      !device.type||\n      !device.typeConnect\n    ){return false}\n    if(!field||!field[0]){return false}\n    for (var item of field) {\n      if(!(item?.type&&item?.address)){return false}\n    }\n    return true\n  }\n  const validFields = ()=>{\n    let arrType = []\n    for (var item of field) {\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n  const outHandler = async ()=>{\n    if(!valid()){\n      return message(\"не все поля заполнены\",\"error\")\n    }\n    if(!validFields()){\n      return\n    }\n    let conf = []\n    for (var item of field) {\n      if(item.address)\n        conf.push(item)\n    }\n    let dataout = {\n      ...device,\n      fields:conf\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\"){\n      dataout.systemName = dataout.newSystemName\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    }\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  const addcom = ()=>{\n    let arr = field.slice()\n    arr.push({\n      address:\"field\"+count,\n      name:\"field\"+count,\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"\",\n      unit:\"\"\n    })\n    setCount((prev)=>prev+1)\n    setField(arr)\n  }\n\n  const delcom = (index)=>{\n    let arr = field.slice()\n    arr = arr.filter((it,index2)=>index!==index2)\n    arr = arr.map((item,i)=>{\n      return {...item,type:\"c\"+i}\n    })\n    setCount((prev)=>prev-1)\n    setField(arr)\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"name\" type=\"text\" value={device.name}></input>\n          <label>Name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandlerTest} required name=\"newSystemName\" type=\"text\" value={device.newSystemName}></input>\n          <label>System name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"address\" type=\"text\" value={device.address}></input>\n          <label>Address</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <select name=\"valueType\" value={device.valueType} onChange={changeHandler}>\n            <option value=\"json\">json</option>\n            <option value=\"value\">value</option>\n          </select>\n          <label>Type value</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"information\" type=\"text\" value={device.information}></input>\n          <label>Information</label>\n        </div>\n      </div>\n      {\n        field.map((item,index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"name\" value={item.name} onChange={changeHandlerField} required/>\n                  <label>name</label>\n                </div>\n              </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} type=\"text\" name=\"address\" value={item.address} onChange={changeHandlerField} required/>\n                <label>address</label>\n              </div>\n            </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                    <option value=\"binary\">binary</option>\n                    <option value=\"text\">text</option>\n                    <option value=\"number\">number</option>\n                    <option value=\"enum\">enum</option>\n                  </select>\n                <label>type</label>\n              </div>\n            </div>\n            <div className=\"configElement\" style={{justifyContent:\"center\"}}>\n              <div className=\"checkbox-btn\">\n                <input data-id={index} type=\"checkbox\" name=\"control\" checked={Boolean(item.control)} onChange={changeHandlerFieldChek} required/>\n                <div><span className=\"slide\"></span></div>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n                </div>\n              </div>:null\n            }\n              <label>\n                <button className=\"delField\" onClick={()=>delcom(index)}>delete</button>\n              </label>\n            </HidingLi>\n          )\n        })\n      }\n        <li>\n          <button className=\"addField\" onClick={addcom}>add</button>\n        </li>\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","import {createContext} from 'react'\n\nexport const TypeDeviceContext = createContext()\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../../hidingLi.js'\nimport {useHttp} from '../../../../hooks/http.hook'\nimport {useMessage} from '../../../../hooks/message.hook'\nimport {AuthContext} from '../../../../context/AuthContext.js'\nimport {IconChoose} from '../../../iconChoose'\nimport {useChecked} from '../../../../hooks/checked.hook'\nimport { TypeDeviceContext } from '../../../typeDevices/typeDevicesContext.js'\n\nconst getConfig = (configs, name)=>{\n\tif (Array.isArray(configs))\n\t{\n\t\tlet filterdata = configs.filter((item)=>item.title === name)\n\t\tif (filterdata.length > 0)\n\t\t\treturn filterdata[0].editConfig\n\t}\n}\n\nconst\tisFieldEdit = (fieldConf) =>{\n\tfor (const key in fieldConf) {\n\t\tif (fieldConf[key])\n\t\t\treturn true\n\t}\n\treturn false\n}\n\nexport const CastomEdit = ({deviceData,hide,type=\"edit\"})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {USText} = useChecked()\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const [device, setDevice] = useState({\n    information:deviceData.information||\"\",\n    name:deviceData.name||\"\",\n    systemName:deviceData.systemName||\"\",\n    newSystemName:deviceData.systemName||\"\",\n    type:deviceData.type||\"other\",\n    valueType:deviceData.valueType||\"json\",\n    address:deviceData.address||\"\",\n    typeConnect:deviceData.typeConnect||\"mqtt\",\n    RoomId:deviceData.RoomId,\n  })\n  const [field, setField] = useState(deviceData.fields||[]);\n  const [count, setCount] = useState(deviceData.fields.length);\n  const types = useContext(TypeDeviceContext)\n  const [config] = useState(getConfig(types.type, device.typeConnect))\n\n  useEffect(()=>{\n    console.log(field);\n  },[field])\n\n  const changeHandler = event => {\n    setDevice({ ...device, [event.target.name]: event.target.value })\n  }\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = field.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setField(arr)\n  }\n\n  const changeHandlerFieldChek = event => {\n    let index = event.target.dataset.id\n    let arr = field.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.checked }\n    arr[index] = newcom\n    setField(arr)\n  }\n\nconst changeHandlerTest = event=>{\n  if(USText(event.target.value)){\n    changeHandler(event)\n    return ;\n  }\n  message(\"forbidden symbols\",\"error\")\n}\n\n  function valid() {\n    if(\n      (!device.systemName && type !== \"link\")||\n      !device.newSystemName||\n      !device.valueType||\n      !device.address||\n      !device.name||\n      !device.type||\n      !device.typeConnect\n    ){return false}\n    if(!field||!field[0]){return false}\n    for (var item of field) {\n      if(!(item?.type&&item?.address)){return false}\n    }\n    return true\n  }\n  const validFields = ()=>{\n    let arrType = []\n    for (var item of field) {\n      for (var item2 of arrType) {\n        if(item.name === item2){\n          message(\"повторяющиеся поля\",\"error\")\n          return false\n        }\n      }\n      arrType.push(item.name)\n    }\n    return true\n  }\n  const outHandler = async ()=>{\n    if(!valid()){\n      return message(\"не все поля заполнены\",\"error\")\n    }\n    if(!validFields()){\n      return\n    }\n    let conf = []\n    for (var item of field) {\n      if(item.address)\n        conf.push(item)\n    }\n    let dataout = {\n      ...device,\n      fields:conf\n    }\n    if(type===\"edit\")\n      await request(`/api/device/edit`, 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    else if(type===\"link\"){\n      dataout.systemName = dataout.newSystemName\n      await request('/api/device/add', 'POST', {...dataout},{Authorization: `Bearer ${auth.token}`})\n    }\n    hide();\n  }\n\n  const deleteHandler = async () =>{\n    message(\"All dependent scripts and controls will be removed along with the device. Delete?\",\"general\",async()=>{\n      await request(`/api/device/delete/${device.systemName}`, 'POST', null,{Authorization: `Bearer ${auth.token}`})\n      hide();\n    },\"no\")\n  }\n\n  const addcom = ()=>{\n    let arr = field.slice()\n    arr.push({\n      address:\"field\"+count,\n      name:\"field\"+count,\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"\",\n      unit:\"\"\n    })\n    setCount((prev)=>prev+1)\n    setField(arr)\n  }\n\n  const delcom = (index)=>{\n    let arr = field.slice()\n    arr = arr.filter((it,index2)=>index!==index2)\n    arr = arr.map((item,i)=>{\n      return {...item,type:\"c\"+i}\n    })\n    setCount((prev)=>prev-1)\n    setField(arr)\n  }\n\n  return (\n    <ul className=\"editDevice\">\n      <li>\n        <label>\n          <h5>{`Type - ${device.type}`}</h5>\n          <h5>{`Type connect - ${device.typeConnect}`}</h5>\n        </label>\n      </li>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandler} required name=\"name\" type=\"text\" value={device.name}></input>\n          <label>Name</label>\n        </div>\n      </div>\n      <div className=\"configElement\">\n        <div className=\"input-data\">\n          <input onChange={changeHandlerTest} required name=\"newSystemName\" type=\"text\" value={device.newSystemName}></input>\n          <label>System name</label>\n        </div>\n      </div>\n\t  {\n\t\t(config.address)?\n\t\t<div className=\"configElement\">\n        \t<div className=\"input-data\">\n          \t\t<input onChange={changeHandler} required name=\"address\" type=\"text\" value={device.address}></input>\n          \t\t<label>Address</label>\n        \t</div>\n      \t</div>\n\t\t:null\n\t  }\n      {\n\t\t(config.valueType)?\n\t\t<div className=\"configElement\">\n        \t<div className=\"input-data\">\n          \t\t<select name=\"valueType\" value={device.valueType} onChange={changeHandler}>\n            \t\t<option value=\"json\">json</option>\n            \t\t<option value=\"value\">value</option>\n          \t\t</select>\n          \t\t<label>Type value</label>\n        \t</div>\n      \t</div>\n\t  \t:null\n\t  }\n      {\n\t\t(config.information)?\n\t\t<div className=\"configElement\">\n        \t<div className=\"input-data\">\n          \t\t<input onChange={changeHandler} required name=\"information\" type=\"text\" value={device.information}></input>\n          \t\t<label>Information</label>\n        \t</div>\n      \t</div>:null\n\t  }\n      {\n\t\t(isFieldEdit(config.fields))?\n        field.map((item,index)=>{\n          return(\n            <HidingLi key={index} title = {item.name}>\n\t\t\t\t{\n\t\t\t\t\t(config.fields.name)?\n\t\t\t\t\t<div className=\"configElement\">\n                \t\t<div className=\"input-data\">\n                  \t\t\t<input data-id={index} type=\"text\" name=\"name\" value={item.name} onChange={changeHandlerField} required/>\n                  \t\t\t<label>name</label>\n                \t\t</div>\n              \t\t</div>:null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t(config.fields.address)?\n\t\t\t\t\t<div className=\"configElement\">\n              \t\t\t<div className=\"input-data\">\n                \t\t\t<input data-id={index} type=\"text\" name=\"address\" value={item.address} onChange={changeHandlerField} required/>\n                \t\t\t<label>address</label>\n              \t\t\t</div>\n            \t\t</div>:null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t(config.fields.type)?\n\t\t\t\t\t<div className=\"configElement\">\n                \t\t<div className=\"input-data\">\n                  \t\t\t<select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                    \t\t\t<option value=\"binary\">binary</option>\n                    \t\t\t<option value=\"text\">text</option>\n                    \t\t\t<option value=\"number\">number</option>\n                    \t\t\t<option value=\"enum\">enum</option>\n                  \t\t\t</select>\n                \t\t\t<label>type</label>\n              \t\t\t</div>\n            \t\t</div>:null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t(config.fields.control)?\n\t\t\t\t\t<div className=\"configElement\" style={{justifyContent:\"center\"}}>\n\t\t\t\t\t\t<div className=\"checkbox-btn\">\n\t\t\t\t\t  \t\t<input data-id={index} type=\"checkbox\" name=\"control\" checked={Boolean(item.control)} onChange={changeHandlerFieldChek} required/>\n\t\t\t\t\t  \t\t<div><span className=\"slide\"></span></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t  \t</div>:null\n\t\t\t\t}\n            {\n              \t(item.type===\"number\"||item.type===\"binary\")?\n              \t<>\n\t\t\t  \t{\n\t\t\t\t  \t(config.fields.low)?\n\t\t\t\t  \t<div className=\"configElement\">\n                \t\t<div className=\"input-data\">\n                  \t\t\t<input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  \t\t\t<label>min</label>\n                \t\t</div>\n              \t\t</div>:null\n\t\t\t  \t}\n             \t{\n\t\t\t\t  \t(config.fields.high)?\n\t\t\t\t  \t<div className=\"configElement\">\n                \t\t<div className=\"input-data\">\n                  \t\t\t<input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  \t\t\t<label>max</label>\n                \t\t</div>\n              \t\t</div>:null\n\t\t\t  \t}\n              \t</>:\n              \t(item.type===\"enum\" && config.fields.values)?\n              \t<div className=\"configElement\">\n                \t<div className=\"input-data\">\n                  \t\t<input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  \t\t<label>enum</label>\n                \t</div>\n              \t</div>\n             \t:null\n            }\n\t\t\t{\n\t\t\t\t(config.fields.icon)?\n\t\t\t\t<IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n\t\t\t\t:null\n\t\t\t}\n            {\n              \t(item.type===\"number\" && config.fields.unit)?\n              \t<div className=\"configElement\">\n                \t<div className=\"input-data\">\n                  \t\t<input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  \t\t<label>unit</label>\n                \t</div>\n              \t</div>:null\n            }\n\t\t\t{\n\t\t\t\t(config.fields.delete)?\n\t\t\t\t<label>\n            \t\t<button className=\"delField\" onClick={()=>delcom(index)}>delete</button>\n            \t</label>:null\n\t\t\t}\n            </HidingLi>\n          )\n        }):null\n      }\n\t  {\n\t\t(config.fields.add)?\n\t\t<li>\n          \t<button className=\"addField\" onClick={addcom}>add</button>\n        </li>:null\n\t  }\n      <div className=\"controlForm\" >\n      {\n        (type===\"edit\")?\n        <button className=\"formEditBtn Delete\" onClick={deleteHandler}>Delete</button>\n        :null\n      }\n        <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n      </div>\n    </ul>\n  )\n\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {Loader} from '../../Loader'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {DeviceMiioEdit} from './editDevicesPage/DeviceMiio.js'\nimport {DeviceVariableEdit} from './editDevicesPage/SistemVariable.js'\nimport {DeviceMqttEdit} from './editDevicesPage/DeviceMqtt.js'\nimport { CastomEdit } from './editDevicesPage/Castom'\n\n\nexport const EditDevicesForm = (props)=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [device, setDevice] = useState();\n\n  const usedevice = useCallback(async()=>{\n    const data = await request(`/api/device/get/${props.systemName}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    console.log(data);\n    setDevice(data);\n  },[request,auth.token,props.systemName])\n\n  useEffect(()=>{\n    usedevice()\n  },[usedevice])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n\n  if(loading||!device){\n    return (\n      <Loader/>\n    )\n  }\n\n  return (\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <CastomEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n\nif(device.typeConnect===\"Mqtt_MQTTDevice\" || device.typeConnect===\"Zigbee_ZigbeeDevice\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMqttEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"Yeelight_Yeelight\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"miio\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"variable\"&&device.type===\"variable\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceVariableEdit deviceData = {device} hide={props.hide}/>\n      </div>\n    </div>\n  )\n}\n  return(\n    <Loader/>\n  )\n}\n","import React, {useEffect,useState} from 'react'\nimport {Loader} from '../../Loader'\nimport {DeviceMqttEdit} from './editDevicesPage/DeviceMqtt.js'\nimport {DeviceMiioEdit} from './editDevicesPage/DeviceMiio.js'\nimport {DeviceVariableEdit} from './editDevicesPage/SistemVariable.js'\n\nexport const LincDevicesForm = (props)=>{\n  const [device, setDevice] = useState();\n\n  useEffect(()=>{\n    setDevice(props.data)\n  },[props.data])\n\nif(!device){\n  return(\n    <Loader/>\n  )\n}\nif(device.typeConnect===\"Mqtt_MQTTDevice\" || device.typeConnect===\"Zigbee_ZigbeeDevice\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMqttEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"yeelight\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"miio\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceMiioEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\nif(device.typeConnect===\"system\"&&device.type===\"variable\"){\n  return(\n    <div className = \"form\">\n      <div className=\"editDevicesForm moreInput\">\n        <DeviceVariableEdit deviceData = {device} hide={props.hide} type=\"link\"/>\n      </div>\n    </div>\n  )\n}\n  return(\n    <Loader/>\n  )\n}\n","import React from 'react'\n\nexport const BackForm = ({children,onClick,className})=>{\n\n  const click = (event) =>{\n    let str = event.target.className.split(\" \");\n    for (var item of str) {\n      if(item === \"backForm\"&&typeof(onClick)===\"function\")\n        onClick(event);\n    }\n  }\n\n  return(\n    <div className = {`backForm ${className}`} onClick = {click}>\n      {children}\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const EditUserLevel = ({hide,data})=>{\n  const auth = useContext(AuthContext)\n  const [level, setLevel] = useState(data.Level)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const changeHandler = (event)=>{\n    setLevel(event.target.value)\n  }\n  const outHandler = async()=>{\n    await request(`/api/user/level/edit`, 'POST', {id:data.UserId, level},{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className = \"form small\">\n      <div className=\"editDevicesForm moreInput\">\n        <ul className=\"editDevice\">\n          <li>\n            <label>\n              <h5>{`Name - ${data.UserName}`}</h5>\n              <h5>{`UserSurname - ${data.UserSurname}`}</h5>\n              <h5>{`Email - ${data.Email}`}</h5>\n              <h5>{`Mobile - ${data.Mobile}`}</h5>\n            </label>\n          </li>\n          <li>\n            <label>\n              <h5>level</h5>\n              <select className = \"textInput\" name=\"level\" value={level} onChange={changeHandler}>\n                <option value={1}>Usual</option>\n                <option value={3}>Admin</option>\n              </select>\n            </label>\n          </li>\n          <div className=\"controlForm\" >\n            <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n          </div>\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const StyleIcon = ({colors}) =>{\n\n  return(\n    <div className=\"styleIcon\">\n      <div className=\"styleIcon-color\" style={{background:colors.c1}}></div>\n      <div className=\"styleIcon-color\" style={{background:colors.c2}}></div>\n      <div className=\"styleIcon-color\" style={{background:colors.active}}></div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {StyleIcon} from '../../pages/optionPages/castomIcon/styleIcon'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\nexport const CreateStyle = ({hide})=>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [style, setStyle] = useState({\n    name: '',\n    c1: \"#303030\",\n    c2: \"#505050\",\n    c3: \"#707070\"\n  })\n\n  const colorHandler = (event)=>{\n    setStyle({...style, [event.target.name]:event.target.value})\n  }\n\n  const createStyle = async() =>{\n    if(!style.name)\n      return message(\"name empty\", \"error\");\n    await request(`/api/user/style/add`, 'POST', style,{Authorization: `Bearer ${auth.token}`})\n    hide();\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className=\"form\">\n      <div className=\"content\">\n        <StyleIcon colors = {style}/>\n        <div className=\"control\">\n        <input type=\"text\" value={style.name} name=\"name\" onChange={colorHandler}/>\n          <input type=\"color\" value={style.c1} name=\"c1\" onChange={colorHandler}/>\n          <input type=\"color\" value={style.c2} name=\"c2\" onChange={colorHandler}/>\n          <input type=\"color\" value={style.c3} name=\"c3\" onChange={colorHandler}/>\n        </div>\n        <button onClick={createStyle}>Create</button>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext} from 'react'\nimport {FormContext} from './formContext'\nimport {EditDevicesForm} from './forms/editDevicesForm'\nimport {LincDevicesForm} from './forms/lincDevicesForm'\nimport {BackForm} from '../backForm'\nimport {EditUserLevel} from './forms/editUserLevel'\nimport {CreateStyle} from './forms/CreateStyle'\n\nexport const Form = ()=>{\n  const {form, hide} = useContext(FormContext)\n\n  if(!form.visible){\n    return null;\n  }\n\n  const hideAndApdata = (t=null) =>{\n    hide();\n    if(form.OK){\n      form.OK(t)\n    }\n  }\n\n  if(form.type === \"EditDevices\"){\n    return (\n      <BackForm onClick = {hide}>\n        <EditDevicesForm hide = {hideAndApdata} systemName = {form.data.systemName}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"LinkDevices\"){\n    return (\n      <BackForm onClick = {hide}>\n        <LincDevicesForm hide = {hideAndApdata} data = {form.data}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"EditUserLevel\"){\n    return (\n      <BackForm onClick = {hide}>\n        <EditUserLevel hide = {hideAndApdata} data = {form.data}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"CreateStyle\"){\n    return (\n      <BackForm onClick = {hide}>\n        <CreateStyle hide = {hideAndApdata} ret={form.OK}/>\n      </BackForm>\n    )\n  }\n}\n","export const SHOW_ALERT = 'SHOW_ALERT'\nexport const HIDE_ALERT = 'HIDE_ALERT'\nexport const SHOW_MENU = 'SHOW_MENU'\nexport const HIDE_MENU = 'HIDE_MENU'\nexport const EDIT_MENU = 'EDIT_MENU'\nexport const SHOW_FORM = 'SHOW_FORM'\nexport const HIDE_FORM = 'HIDE_FORM'\nexport const SHOW_TERMINAL = 'SHOW_TERMINAL'\nexport const HIDE_TERMINAL = 'HIDE_TERMINAL'\nexport const SHOW_EDITCART = 'SHOW_EDITCART'\nexport const HIDE_EDITCART = 'HIDE_EDITCART'\nexport const SHOW_ADDCONTROL = 'SHOW_ADDCONTROL'\nexport const HIDE_ADDCONTROL = 'HIDE_ADDCONTROL'\nexport const SHOW_ADDSCRIPT = 'SHOW_ADDSCRIPT'\nexport const HIDE_ADDSCRIPT = 'HIDE_ADDSCRIPT'\nexport const SHOW_DIALOG = 'SHOW_DIALOG'\nexport const HIDE_DIALOG = 'HIDE_DIALOG'\nexport const SHOW_GROUP = 'SHOW_GROUP'\nexport const HIDE_GROUP = 'HIDE_GROUP'\n","import {SHOW_ALERT, HIDE_ALERT} from '../types'\n\nconst handlers={\n  [SHOW_ALERT]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_ALERT]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const alertReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {AlertContext} from './alertContext'\nimport {alertReducer} from './alertReducer'\nimport {SHOW_ALERT, HIDE_ALERT} from '../types'\n\nexport const AlertState = ({children}) =>{\n  const [state, dispatch] = useReducer(alertReducer,{visible:false})\n\n  const show = (text, type = \"warning\", Ok=null, No=null) =>{\n    dispatch({\n      type:SHOW_ALERT,\n      payload: {text, type,Ok,No}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_ALERT,\n    })\n  }\n\n  return(\n    <AlertContext.Provider\n    value={{show, hide, alert: state}}>\n      {children}\n    </AlertContext.Provider>\n  )\n}\n","import {SHOW_DIALOG, HIDE_DIALOG} from '../types'\n\nconst handlers={\n  [SHOW_DIALOG]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_DIALOG]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const dialogWindowReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer,useCallback} from 'react'\nimport {DialogWindowContext} from './dialogWindowContext'\nimport {dialogWindowReducer} from './dialogWindowReducer'\nimport {SHOW_DIALOG, HIDE_DIALOG} from '../types'\n\nexport const DialogWindowState = ({children}) =>{\n  const [state, dispatch] = useReducer(dialogWindowReducer,{visible:false})\n\n  const show = useCallback((type = \"warning\", options={}) =>{\n    dispatch({\n      type:SHOW_DIALOG,\n      payload: {type, ...options}\n    })\n  },[])\n\n  const hide = useCallback(() =>{\n    dispatch({\n      type:HIDE_DIALOG,\n    })\n  },[])\n\n  return(\n    <DialogWindowContext.Provider\n    value={{show, hide, dialog: state}}>\n      {children}\n    </DialogWindowContext.Provider>\n  )\n}\n","import {SHOW_MENU, HIDE_MENU, EDIT_MENU} from '../types'\n\nconst handlers={\n  [SHOW_MENU]:(state,{payload}) => ({...state, visible:true}),\n  [HIDE_MENU]:state => ({...state, visible:false}),\n  [EDIT_MENU]:(state,{payload}) => ({...payload, visible:state.visible}),\n  DEFAULT: state => state\n}\n\nexport const menuReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer, useCallback} from 'react'\nimport {MenuContext} from './menuContext'\nimport {menuReducer} from './menuReducer'\nimport {SHOW_MENU, HIDE_MENU, EDIT_MENU} from '../types'\n\nexport const MenuState = ({children}) =>{\n  const [state, dispatch] = useReducer(menuReducer,{visible:false})\n\n  const setData = useCallback((title=\"\",options) =>{\n    dispatch({\n      type:EDIT_MENU,\n      payload: {title,...options}\n    })\n  },[])\n\n  const show = () =>{\n    dispatch({\n      type:SHOW_MENU\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_MENU\n    })\n  }\n\n  const togle = () =>{\n    if(state.visible){\n      dispatch({\n        type:HIDE_MENU\n      })\n    }\n    else {\n      dispatch({\n        type:SHOW_MENU\n      })\n    }\n  }\n\n  return(\n    <MenuContext.Provider\n    value={{show, hide, togle,setData, menu: state}}>\n      {children}\n    </MenuContext.Provider>\n  )\n}\n","import {SHOW_FORM, HIDE_FORM} from '../types'\n\nconst handlers={\n  [SHOW_FORM]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_FORM]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const formReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {FormContext} from './formContext'\nimport {formReducer} from './formReducer'\nimport {SHOW_FORM, HIDE_FORM} from '../types'\n\nexport const FormState = ({children}) =>{\n  const [state, dispatch] = useReducer(formReducer,{visible:false})\n\n  const show = (type = \"404\", OK = null, data = null) =>{\n    dispatch({\n      type:SHOW_FORM,\n      payload: {type,OK,data}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_FORM,\n    })\n  }\n\n  return(\n    <FormContext.Provider\n    value={{show, hide, form: state}}>\n      {children}\n    </FormContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const TerminalContext = createContext()\n","import {SHOW_TERMINAL, HIDE_TERMINAL} from '../types'\n\nconst handlers={\n  [SHOW_TERMINAL]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_TERMINAL]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const terminalReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {TerminalContext} from './terminalContext'\nimport {terminalReducer} from './terminalReducer'\nimport {SHOW_TERMINAL, HIDE_TERMINAL} from '../types'\n\nexport const TerminalState = ({children}) =>{\n  const [state, dispatch] = useReducer(terminalReducer,{visible:false})\n\n  const show = (type = \"404\",hide = null, OK = null) =>{\n    dispatch({\n      type:SHOW_TERMINAL,\n      payload: {type,OK,hide}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_TERMINAL,\n    })\n  }\n\n  const target = () =>{\n    if(state.visible){\n      hide()\n    }\n    else {\n      show()\n    }\n  }\n\n  return(\n    <TerminalContext.Provider\n    value={{show, hide,target, terminal: state}}>\n      {children}\n    </TerminalContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const AddScriptContext = createContext()\n","import {createContext} from 'react'\n\nexport const SocketContext = createContext()\n","import {createContext} from 'react'\n\nexport const GroupsContext = createContext()\n","import React, {useContext, useEffect} from 'react'\nimport {AddScriptContext} from './addScriptContext'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {SocketContext} from '../../context/SocketContext'\nimport {useScriptDevices} from './addScript/addScriptDevices'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useHttp} from '../../hooks/http.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\n\nexport const AddScriptState = ({children}) =>{\n  const dialog = useContext(DialogWindowContext)\n  const {devices} = useContext(SocketContext)\n  const {message} = useMessage();\n  const auth = useContext(AuthContext)\n  const {request, error, clearError} = useHttp();\n  const {deviceBlock, groupBlock} = useScriptDevices()\n\n  const addTarget = (result=null)=>{\n    let targets = devices.map((item)=>({title:item.name, data:item}))\n    targets.unshift({title:\"datetime\", data:{type:\"datetime\"}})\n    dialog.show(\"confirmation\",{\n      title:\"Devices\",\n      items:targets,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  }\n\n  const typeAct = (result=null)=>{\n    let items = [\n      {title: \"device\", data: \"device\"},\n      {title: \"group\", data: \"group\"},\n      {title: \"script\", data: \"script\"},\n      {title: \"delay\", data: \"delay\"},\n    ]\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  }\n\n  const typeIf = (result=null)=>{\n    let items = [\n      {title: \"group Block And\", data: \"groupBlockAnd\"},\n      {title: \"group Block Or\", data: \"groupBlockOr\"},\n      {title: \"device\", data: \"deviceBlock\"},\n    ]\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        dialog.hide()\n        if(typeof(result)===\"function\")\n          result(d)\n      }\n    })\n  }\n\n  const addScriptBlock = async(result=null)=>{\n    let items = await request('/api/script/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    items = items.map((item)=>({title:item.name, data:item}))\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        dialog.hide()\n        if(typeof(result)===\"function\")\n          result(d)\n      }\n    })\n  }\n\n  const typeValue = (type, data, result=null)=>{\n    let items = []\n    if(type===\"addValue\"&& data.type===\"text\")\n      items.push({title: \"input text\", data: \"Text\"})\n    if(data.type===\"number\" || type===\"addValueMath\")\n      items.push({title: \"input number\", data: \"Number\"})\n    if(type===\"addValueMath\" || data.type===\"number\")\n      items.push({title: \"Mathematical expression\", data: \"Math\"})\n    if(data.type!==\"enum\")\n      items.push({title: \"Device value\", data: \"DeviceValue\"})\n    if(data.type===\"enum\" || data.type===\"binary\")\n      items.push({title: \"state value\", data: \"Enum\"})\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        dialog.hide()\n        if(typeof(result)===\"function\")\n          result(d)\n      }\n    })\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <AddScriptContext.Provider\n    value={{typeValue,addTarget,typeAct,deviceBlock,groupBlock,typeIf,addScriptBlock}}>\n      {children}\n    </AddScriptContext.Provider>\n  )\n}\n","import {useContext,useCallback} from 'react'\nimport {DialogWindowContext} from '../../dialogWindow/dialogWindowContext'\nimport {SocketContext} from '../../../context/SocketContext'\nimport {GroupsContext} from '../../Groups/groupsContext'\n\nexport const useScriptDevices = ()=>{\n  const {devices} = useContext(SocketContext)\n  const {groups} = useContext(GroupsContext)\n  const dialog = useContext(DialogWindowContext)\n\n  const filteredDevice = useCallback((type, typeDev)=>{\n      let filteredDevs = devices.filter((item)=>{\n        let flag = false\n        for (var item2 of item.fields) {\n          if(\n            (typeDev===\"number\"&&(item2.type===\"number\"||item2.type===\"binary\"))||\n            (typeDev===\"binary\"&&item2.type===\"binary\")||\n            (typeDev===\"text\")||\n            (typeDev===\"enum\"&&item2.type===\"enum\")||\n            (!typeDev)\n          )flag = true\n          if(flag&&(type!==\"act\"||item2.control))\n            return true\n        }\n        return false\n      })\n      return filteredDevs\n  },[devices])\n\n  const filteredGroup = useCallback((type, typeDev)=>{\n      let filteredDevs = groups.filter((item)=>{\n        let flag = false\n        for (var item2 of item.fields) {\n          if(\n            (typeDev===\"number\"&&(item2.type===\"number\"||item2.type===\"binary\"))||\n            (typeDev===\"binary\"&&item2.type===\"binary\")||\n            (typeDev===\"text\")||\n            (typeDev===\"enum\"&&item2.type===\"enum\")||\n            (!typeDev)\n          )flag = true\n          if(flag&&(type!==\"act\"||item2.control))\n            return true\n        }\n        return false\n      })\n      return filteredDevs\n  },[groups])\n\n  const deviceBlock = useCallback((result, type=\"act\", typeDev = null)=>{\n    let items = filteredDevice(type, typeDev).map((item)=>({title:item.name, data:item}))\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  },[filteredDevice, dialog])\n\n  const groupBlock = useCallback((result, type=\"act\", typeDev = null)=>{\n    let items = filteredGroup(type, typeDev).map((item)=>({title:item.name, data:item}))\n    dialog.show(\"confirmation\",{\n      title:\"typeAct\",\n      items:items,\n      active:(d)=>{\n        if(typeof(result)===\"function\")\n          result(d)\n        dialog.hide()\n      }\n    })\n  },[filteredGroup, dialog])\n\n  return {deviceBlock, groupBlock}\n}\n","import React,{useState} from 'react'\n\nexport const ModalWindow = ({\n  position = \"fixed\",\n  zindex=5,\n  children,\n  top=240,\n  left=300,\n  hide = null,\n  userBtn = null,\n  width = \"auto\",\n  height = \"auto\",\n  title=\"window\",\n  moving = true,\n  heightToolbar = 30,\n  className = \"\",\n  style = {},\n  styleContent = {},\n})=>{\n  const [point, setPoint] = useState({\n    top:top,\n    left:left\n  })\n// .getBoundingClientRect()\n  const mouseDown = (event)=>{\n    if(event.target.className!==\"modalHeader\")\n      return;\n    let parent = event.target.parentNode.parentNode.getBoundingClientRect()\n    var coords = getCoords(event.target);\n    var shiftX = event.pageX - coords.left + parent.x;\n    var shiftY = event.pageY - coords.top + parent.y;\n    moveAt(event)\n\n    function moveAt(e) {\n      if(e.pageX < 65||e.pageX > document.body.clientWidth||e.pageY < 5||e.pageY > document.clientHeight){\n        return\n      }\n      setPoint({\n        left:e.pageX - shiftX,\n        top:e.pageY - shiftY\n      })\n\n    }\n\n    document.onmousemove = function(e) {\n      moveAt(e);\n    };\n\n    document.onkeydown = function (e) {\n      if(e.key===\"Escape\"){\n        document.onmousemove = null;\n        event.onmouseup = null;\n        document.onkeydown = null;\n\n      }\n    }\n\n    event.target.onmouseup = function() {\n      document.onmousemove = null;\n      event.onmouseup = null;\n      document.onkeydown = null;\n\n    };\n\n\n    function getCoords(elem) {   // кроме IE8-\n    var box = elem.getBoundingClientRect();\n    return {\n      top: box.top + window.pageYOffset,\n      left: box.left + window.pageXOffset\n    };\n  }\n  }\n\n  return(\n    <div className={`modalWindow ${className}`} style={{top:`${point.top}px`,left:`${point.left}px`,zIndex:zindex,position:position,...style}}>\n      <div className=\"modalHeader\" style={{height: `${heightToolbar}px`}} onMouseDown={(moving)?mouseDown:null} onDragStart={()=>false}>\n        <h4>{title}</h4>\n        {(userBtn)?<button className = \"userBtn\" onClick = {userBtn}><i className=\"fas fa-list\"></i></button>:null}\n        {(hide)?<button className = \"hide\" onClick = {hide}>&times;</button>:null}\n      </div>\n      <div className=\"modalContent\" style={{width:(width!==\"auto\")?`${width}px`:\"\",height:(height!==\"auto\")?`${height}px`:\"\",...styleContent}}>\n        {children}\n      </div>\n    </div>\n  )\n}\n","import {createContext} from 'react'\n\nexport const CartEditContext = createContext()\n","import React,{useState,useContext,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const BtnElement = ({children, data, onClick, index, deleteBtn, editBtn, className, name}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(false)\n  const [switchMode, setSwitchMode] = useState(false)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const {target} = useContext(CartEditContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(id,v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: id,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(data.field?.type===\"binary\")\n      setSwitchMode(true)\n  },[data.field?.type])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||data.disabled||data.entity?.status===\"offline\")return\n    if(data.entity && data.field.type===\"binary\" && data.fieldvalue){\n      if(data.fieldvalue===data.field.low)\n          setValue(false)\n      if(data.fieldvalue===data.field.high)\n        setValue(true)\n      if(data.entity.typeConnect===\"mqtt\"&&(!/\\D/.test(data.fieldvalue)&&!/\\D/.test(data.field.low)&&!/\\D/.test(data.field.high))){\n        let poz = Number(data.fieldvalue)\n        let min = Number(data.field.low)\n        let max = Number(data.field.high)\n        if(poz>min&&poz<=max)\n          setValue(true)\n        else\n          setValue(false)\n      }\n    }\n    if(data.entity && data.field.type===\"number\" && data.fieldvalue){\n      if(!data.data.action)data.data.action=\"0\"\n      if(data.data.action===data.fieldvalue)\n        setValue(true)\n      else\n        setValue(false)\n    }\n  },[onClick,data])\n\nconst changeHandler = (event)=>{\n  let oldvel = value\n  setValue((prev)=>!prev)\n  if(!switchMode){\n    setTimeout(()=>setValue(false),250)\n  }\n  if(typeof(onClick)===\"function\"){\n    onClick(event, value,setValue)\n  }\n\n  if(!data.data || !data.entity)\n    return\n  // if(data.typeAction===\"variable\")\n  //     return outValue(device.DeviceId,data.action)\n  if(data.typeAction===\"modeTarget\")\n      return outValue(data.entity.systemName,\"target\")\n  if(data.field.type===\"binary\")\n      return outValue(data.entity.systemName,(oldvel)?0:1)\n  if(data.field.type===\"number\")\n      return outValue(data.entity.systemName,data.data.action)\n  if(data.field.type===\"text\")\n      return outValue(data.entity.systemName,data.data.action)\n  return outValue(data.entity.systemName,data.data.action)\n}\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\n\n\n  return(\n    <label className={`BtnElement ${className} ${(data.disabled)?\"disabled\":\"\"}`}>\n      <input type=\"checkbox\" checked={value} name={name} onChange={changeHandler} disabled={data.disabled}/>\n      <div className=\"icon-conteiner\">\n      {\n        (data.editmode)?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>\n        :null\n      }\n        <div className=\"icon-box\">\n        {\n          (children)?\n          children:\n          <div className=\"icon\">\n            <div className=\"circle\">\n              <i className={data?.field?.icon||\"fas fa-circle-notch\"}></i>\n            </div>\n          </div>\n        }\n        </div>\n        <p>{data.title}</p>\n      </div>\n\n    </label>\n  )\n}\n","import {createContext} from 'react'\n\nexport const EditModeContext = createContext()\n","import React,{useEffect,useCallback} from 'react'\n\nexport const RunText = ({id, text,className, onClick})=>{\n\n  const anim = useCallback(()=>{\n    let el = document.getElementById(`p-${id}`)\n    let el2 = document.getElementById(`div-${id}`)\n    if(el.clientWidth >= el2.clientWidth){\n      el.className=\"scroll\"\n      el.innerHTML=`| ${text} | ${text}`\n    }\n    else{\n      el.className=\"\"\n    }\n  },[id,text])\n\n  useEffect(()=>{\n    anim()\n  },[anim])\n\n  return(\n    <div id={`div-${id}`} onClick={onClick} className={`RunText ${className}`}>\n      <p id={`p-${id}`}>{text}</p>\n    </div>\n  )\n}\n","import React,{useState,useContext,useRef,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {RunText} from '../../runText'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const SliderElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const auth = useContext(AuthContext)\n  const [value , setValue] = useState(0)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const delay = useRef(null)\n  const {target} = useContext(CartEditContext)\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName ,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\")return\n    if(!data?.fieldvalue)return\n    setValue(Number(data?.fieldvalue))\n  },[onClick,data])\n\n  const changeHandler = (event)=>{\n    setValue(event.target.value)\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(event.target.value)\n    }, 200);\n  }\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\nreturn(\n  <div className=\"slider-box\">\n    <RunText className=\"name RunTextBaseColor\" id={data.title} text={data.title}/>\n    <div className=\"slider\">\n      <input\n      type=\"range\"\n      min={data.field?.low||0}\n      max={data.field?.high||100}\n      value={value||0}\n      onChange={changeHandler}\n      onInput={changeHandler}\n      disabled={data.disabled}\n      />\n    </div>\n    <div className=\"value\">{value||0}</div>\n    {\n      (data.editmode&&(deleteBtn || editBtn))?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n  </div>\n)\n}\n","import React,{useContext} from 'react'\nimport {RunText} from '../../runText'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\n\nexport const SensorElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const {target} = useContext(CartEditContext)\n\n  const getTypeField = ()=>{\n    if(!data?.field?.type)return \"text\"\n    return data.field.type\n  }\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\nif(!data?.entity?.systemName){\n  return null;\n}\nif(getTypeField()===\"number\"||getTypeField()===\"text\"){\n  return(\n    <div className=\"SensorElement\">\n      <div className=\"icon-conteiner\">\n        <RunText className=\"sensor-name RunTextBaseColor\" id={data.title} text={data.title}/>\n        <RunText className=\"sensor-value RunTextBaseColor\" id={`${data.title}-val`} text={`${data.fieldvalue||\"\"} ${data.field?.unit||\"\"}`}/>\n      </div>\n      {\n        (data.editmode&&(deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>:\n        null\n      }\n    </div>\n  )\n}\nif(getTypeField()===\"binary\"){\n  return(\n    <div className=\"SensorElement\">\n      <div className=\"icon-conteiner\">\n        <RunText className=\"sensor-name RunTextBaseColor\" id={data.title} text={data.title}/>\n        <div className={`valueIndicator ${(data.fieldvalue===\"1\")?\"true\":\"false\"}`}></div>\n      </div>\n      {\n        (data.editmode&&(deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>:\n        null\n      }\n    </div>\n  )\n}\n\nreturn(\n  <div className=\"SensorElement BtnElement\">\n    <div className=\"icon-conteiner\">\n      <RunText className=\"sensor-value-name RunTextBaseColor\" id={data.title} text={data.title}/>\n    </div>\n    {\n      (data.editmode&&(deleteBtn || editBtn))?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n  </div>\n)\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const EnumElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(\"\")\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const {target} = useContext(CartEditContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(id,v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: id,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||!data.fieldvalue||data.disabled)return;\n    setValue(data.fieldvalue)\n  },[onClick,data.fieldvalue,data.disabled])\n\nconst changeHandler = (event)=>{\n  setValue(event.target.value)\n\n  if(!data?.entity||!data?.data)\n    return\n  return outValue(data.entity.systemName,event.target.value)\n}\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n\n  return(\n    <label className={`EnumElement ${className} ${(data.disabled)?\"disabled\":\"\"}`}>\n      <div className=\"icon-conteiner\">\n      {\n        (data.editmode&&(deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>\n        :null\n      }\n        <div className=\"icon-box-enum\">\n          <div className=\"icon\">\n            <div className=\"circle\">\n              <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n            </div>\n          </div>\n          {\n            (data.field?.values)?\n            <select value={value} onChange={changeHandler}>\n            {\n              valuesDecod(data.field.values).map((item,index)=>{\n                return(\n                  <option key={index} value={item}>{item}</option>\n                )\n              })\n            }\n            </select>\n            :null\n          }\n        </div>\n        <p>{data.title}</p>\n      </div>\n\n    </label>\n  )\n}\n","import React,{useContext,useEffect} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\nexport const ScriptElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const {target} = useContext(CartEditContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data.data,index},editBtn)\n    }\n  }\n\n  const clickHandler = async()=>{\n    await request(`/api/script/run?name=${data.data.name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  }\n\n  return(\n    <label className={`ScriptElement ${className}`}>\n      <input type=\"button\" onClick={clickHandler} disabled={data.disabled}/>\n      <div className=\"icon-conteiner\">\n      {\n        (data.editmode && (deleteBtn || editBtn))?\n        <div className=\"delete-box\">\n        {\n          (deleteBtn)?\n          <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n          null\n        }\n        {\n          (editBtn)?\n          <button className=\"editBtn\" onClick={editbtn}>\n            <i className=\"fas fa-list i-cost\"></i>\n          </button>:\n          null\n        }\n        </div>\n        :null\n      }\n        <div className=\"icon-box\">\n          <i className=\"fas fa-file-alt\"></i>\n        </div>\n        <p>{data.data.name}</p>\n      </div>\n\n    </label>\n  )\n}\n","import React,{useContext} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\n\nexport const BaseElement = ({children,deleteBtn,editBtn,index,data}) =>{\n  const {target} = useContext(CartEditContext)\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button\",{...data,index},editBtn)\n    }\n  }\n\n  return(\n    <div className=\"baseCartElement-box\">\n    {\n      (deleteBtn || editBtn)?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n      {children}\n    </div>\n  )\n}\n","import {createContext} from 'react'\n\nexport const ServerConfigContext = createContext()\n","import React,{useContext} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {ServerConfigContext} from  '../../../context/ServerConfigContext'\n\nexport const WeatherElement = ({deleteBtn,editBtn,index,data}) =>{\n  const serverConfig = useContext(ServerConfigContext)\n\n  const icon = (weather)=>{\n    if(!weather) return null\n    if (weather===\"Ясно\"||weather===\"Малооблачно\"||weather===\"Clear\")\n      return (<i className=\"fas fa-sun\"></i>)\n    else if (weather===\"Облачно с прояснениями\")\n      return (<i className=\"fas fa-cloud-sun\"></i>)\n    else if (weather===\"Облачно\"||weather===\"Пасмурно\"||weather===\"Clouds\")\n      return (<i className=\"fas fa-cloud\"></i>)\n    else if (weather===\"Дождь\"||weather===\"Rain\")\n      return (<i className=\"fas fa-cloud-showers-heavy\"></i>)\n    else if (weather===\"Небольшой дождь\")\n      return (<i className=\"fas fa-cloud-sun-rain\"></i>)\n    else if (weather===\"Snow\")\n      return (<i className=\"far fa-snowflake\"></i>)\n  }\n\n  const convertTemp = k => (k)?`${String(Math.floor(k - 273.15))} C*`:null\n\n  return(\n    <BaseElement\n    deleteBtn = {(data.editmode)?deleteBtn:null}\n    editBtn={(data.editmode)?editBtn:null}\n    index={index}\n    data={data.data}\n    >\n    {\n      (serverConfig&&serverConfig.weather)?\n      <div className=\"weather-box\">\n        <div className=\"city\">{(serverConfig&&serverConfig.weather&&serverConfig.weather.city)||\"\"}</div>\n        <div className={`weather-body ${(data.data.width>3)?\"veryWide\":(data.data.width>1)?\"wide\":\"\"} ${(data.height>2)?\"veryTall\":(data.height>1)?\"tall\":\"\"}`}>\n          <div className=\"day_anchor-div\">\n            <div className=\"icon_color_light\">{\n              icon(serverConfig?.weather?.now?.weather)\n            }</div>\n            {\n              (data.data.width>1||data.data.height>1)?\n              <div className=\"day-anchor\">{(serverConfig?.weather?.now?.weather)||\"\"}</div>\n              :null\n            }\n          </div>\n          <div className=\"temp\">{convertTemp(serverConfig?.weather?.now?.temp)}</div>\n        </div>\n        {\n          (data.data.width>3&&data.data.height>1)?\n          <div className=\"forecast\">\n            {\n              serverConfig?.weather?.forecastDate?.map((item,index)=>{\n                return(\n                  <div key={index} className={`forecast-weather-body`}>\n                    <div className=\"day-name\">{item.name||\"\"}</div>\n                    <div className=\"day-date\">{item.day.date||\"\"}</div>\n                    <div className=\"day_anchor-div\">\n                      <div className=\"icon_color_light\">{\n                        icon(item&&item.day.weather)\n                      }</div>\n                      <div className=\"day-anchor\">{item.day.weather||\"\"}</div>\n                    </div>\n                    <div className=\"forecast-temp forecast-temp-day\">{convertTemp(item?.day?.temp)||\"\"}</div>\n                    <div className=\"forecast-temp forecast-temp-night\">{convertTemp(item?.night?.temp)||\"\"}</div>\n                  </div>\n                )\n              })\n            }\n          </div>\n          :null\n        }\n      </div>\n      :<div className=\"weather-box\" style={{fontSize:\"30px\", flexDirection:\"column\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\n        <p>weather</p>\n        <p>Нет данных</p>\n      </div>\n    }\n    </BaseElement>\n  )\n}\n","import React,{useContext} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {ServerConfigContext} from  '../../../context/ServerConfigContext'\n\nexport const TimeElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const serverConfig = useContext(ServerConfigContext)\n\n  return(\n    <BaseElement\n    deleteBtn = {(data.editmode)?deleteBtn:null}\n    editBtn={(data.editmode)?editBtn:null}\n    index={index}\n    data={data.data}\n    >\n    <p className=\"sensor-value\">{serverConfig.time || `${new Date().getHours()}:${new Date().getMinutes()}`}</p>\n    </BaseElement>\n  )\n}\n","export const getDayMount = (month, year)=>{\n  let date = new Date(year, month, 1)\n  let days = []\n  while (date.getMonth() === month) {\n    days.push(new Date(date))\n    date.setDate(date.getDate() + 1)\n  }\n  return days\n}\n\nexport function getMonthStr(month, krat=false) {\n  const months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ]\n  const shortMonths = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ]\n  if(krat)\n    return shortMonths[month]\n  return months[month]\n}\n","import React,{useContext, useEffect, useState, useCallback} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {ServerConfigContext} from  '../../../context/ServerConfigContext'\nimport {getDayMount,getMonthStr} from './utils'\n\nexport const CalendarElement = ({deleteBtn,editBtn,index,data}) =>{\n  const serverConfig = useContext(ServerConfigContext)\n  const [days, setDays] = useState([])\n\n  const convertDateFormat = useCallback((date)=>{\n    if(!date)return null\n    let d = date.split('.');\n    d = d.reverse()\n    return d.join('-')\n  },[])\n\n  useEffect(()=>{\n    let naw = new Date(convertDateFormat(serverConfig.date))\n    let days = getDayMount(naw.getMonth(), naw.getFullYear())\n    days = days.map((item)=>{\n      if(item.getDate() !== naw.getDate())\n        return {type:\"\", day:item}\n      return {type:\"naw\", day:item}\n    })\n    let count = days[0].day.getUTCDay()\n    let day = new Date(days[0].day)\n    for (let i = 1; i <= count; i++) {\n      day.setDate(day.getDate() - 1)\n      days.unshift({type:\"prev\", day:new Date(day)})\n    }\n    count = days[days.length - 1].day.getUTCDay()\n    day = new Date(days[days.length - 1].day)\n    for (let i = 6; i > count; i--) {\n      day.setDate(day.getDate() + 1)\n      days.push({type:\"next\", day:new Date(day)})\n    }\n    setDays(days)\n  },[serverConfig.date, convertDateFormat])\n\n  if(data.data.height >= 2 && data.data.width >= 3)\n  {\n    return(\n      <BaseElement\n      deleteBtn = {(data.editmode)?deleteBtn:null}\n      editBtn={(data.editmode)?editBtn:null}\n      index={index}\n      data={data.data}\n      >\n        <div className=\"calendar\">\n          <div className=\"NawMonth\">\n            <p>{getMonthStr(new Date().getMonth())} {new Date().getFullYear()}</p>\n          </div>\n          <div className=\"calendar-grid\">\n            <div className=\"\">Mon</div>\n            <div className=\"\">Tue</div>\n            <div className=\"\">Wed</div>\n            <div className=\"\">Thu</div>\n            <div className=\"\">Fri</div>\n            <div className=\"\">Sat</div>\n            <div className=\"\">Sun</div>\n            {\n              days.map((item, index)=>{\n                return(\n                  <div className={item.type} key={index}>{item.day.getDate()}</div>\n                )\n              })\n            }\n          </div>\n        </div>\n      </BaseElement>\n    )\n  }\n\n  return(\n    <BaseElement\n    deleteBtn = {(data.editmode)?deleteBtn:null}\n    editBtn={(data.editmode)?editBtn:null}\n    index={index}\n    data={data.data}\n    >\n      <div className=\"calendar\">\n        <div className=\"NawMonth\" style={{height: \"calc(100% - 20px)\", fontSize:\"25px\"}}>\n          <p>{new Date().getDate()} {getMonthStr(new Date().getMonth(), data.data.width === 1)} {new Date().getFullYear()}</p>\n        </div>\n      </div>\n    </BaseElement>\n  )\n}\n","import {useCallback, useContext} from 'react'\nimport {SocketContext} from '../context/SocketContext'\nimport {GroupsContext} from '../components/Groups/groupsContext'\n\nexport const useControlData = ()=>{\n  const {getDevice} = useContext(SocketContext)\n  const {getGroup} = useContext(GroupsContext)\n\n  const itemField = useCallback((fields, name)=>{\n    return fields?.filter(item=>item.name===name)[0]\n  },[])\n\n  const getGroupValue = useCallback((group, field)=>{\n    for (var item of group.devices) {\n      let dev = getDevice(item.name)\n      let val = dev?.value[field]\n      if(val)\n        return val\n    }\n  },[getDevice])\n\n  const convert = useCallback((data, editmode)=>{\n    let res = {}\n    res.data = data\n    res.disabled = false\n    res.title = data.title\n    res.editmode = editmode\n    if(data.typeItem === \"script\")\n      return res\n    else if(data.typeItem === \"device\")\n    {\n      res.entity = getDevice(data.deviceName)\n      res.fieldsEntity = res.entity?.fields\n      res.field = itemField(res.fieldsEntity, data.typeAction)\n      res.fieldvalue = res.entity?.value[res.field?.name]\n    }\n    else if(data.typeItem === \"group\")\n    {\n      res.entity = getGroup(data.deviceName)\n      res.fieldsEntity = res.entity?.fields\n      res.field = itemField(res.fieldsEntity, data.typeAction)\n      res.fieldvalue = getGroupValue(res.entity, res.field?.name)\n    }\n    if(!res.entity || !res.fieldsEntity || !res.field)\n      res.disabled = true\n    if(res.entity?.status && res.entity?.status!==\"online\")\n      res.disabled = true\n    return res\n  },[getDevice, getGroupValue, itemField, getGroup])\n  return {convert}\n}\n","import React,{useContext} from 'react'\nimport {ModalWindow} from '../modalWindow/modalWindow'\nimport {BtnElement} from './CartElement/BtnElement'\nimport {EditModeContext} from '../../context/EditMode'\nimport {CartEditContext} from './EditCarts/CartEditContext'\nimport {SliderElement} from './CartElement/SliderElement'\nimport {SensorElement} from './CartElement/SensorElement'\nimport {EnumElement} from './CartElement/EnumElement'\nimport {ScriptElement} from './CartElement/ScriptElement'\nimport {WeatherElement} from './CartElement/WeatherElement'\nimport {TimeElement} from './CartElement/TimeElement'\nimport {CalendarElement} from './CartElement/CalendarElement'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useControlData} from '../../hooks/controlData.hook'\n\nconst COLUMNS = 4\nexport const HomebaseCart = ({hide,index,name,updata,data,edit=false,add}) =>{\n  const {message} = useMessage();\n  const {convert} = useControlData();\n  const {mode} = useContext(EditModeContext)\n  const {target} = useContext(CartEditContext)\n  let column = 1\n  let row = 1\n  let mapCart = []\n\n  function sort(array) {\n    let arr = array.slice()\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].index = i\n    }\n    for (let i = arr.length - 1; i > 0; i--) {\n      for (let j = 0; j < i; j++) {\n        if(arr[j].order>arr[j+1].order){\n          [arr[j],arr[j+1]] = [arr[j+1],arr[j]]\n        }\n      }\n    }\n    return arr\n  }\n\n  function isPosition(x,y,width=1,height=1) {\n    for (var i = 0; i < width; i++) {\n      for (var j = 0; j < height; j++) {\n        for (var pos of mapCart) {\n          if(pos.x===(x+i)&&pos.y===(y+j))\n            return true\n        }\n      }\n    }\n\n    return false\n  }\n\n  function inBoundaries(x,width) {\n    return COLUMNS-(x-1)<width\n  }\n\n  const deleteElement=(index1)=>{\n    message(\"Удалить?\", \"dialog\", async()=>{\n      let mas = data.children.slice();\n      let newBtns = mas.filter((item, index2)=>index2!==index1)\n      updata(index,{...data,children:newBtns})\n    },\"no\")\n  }\n\n  const editElement = (index1,data1)=>{\n    if(!data1||!data1.order||!data1.width||!data1.height)\n      return\n    let mas = data.children.slice();\n    mas[index1].order=Number(data1.order)\n    mas[index1].width=Number(data1.width)\n    mas[index1].height=Number(data1.height)\n    updata(index,{...data,children:mas})\n  }\n\n  const splitType = (type)=>{\n    return type.split(\"-\")\n  }\n\n  return(\n    <ModalWindow\n     position=\"relative\"\n     hide={\n       (mode)?()=>{\n         hide(index)\n       }:null\n     }\n     userBtn={\n       (mode)?\n       ()=>target(\"base\",{...data,index},updata):null\n     }\n     z={3}\n     top={0}\n     left={0}\n     title={name}\n     moving={false}\n     heightToolbar={30}>\n      <ul className=\"elementConteiner\">\n      {\n        (data&&data.children)?\n        sort(data.children).map((item,indexbtn)=>{\n\n          if(indexbtn === 0){\n            column = 1\n            row = 1\n          }\n          do {\n            if(inBoundaries(column,item.width)){\n              column = 1\n              row += 1\n            }\n            if(isPosition(column,row,item.width,item.height)){\n              column += 1\n            }\n          } while(inBoundaries(column,item.width)||isPosition(column,row,item.width,item.height));\n\n          for (var i = column; i < column + item.width; i++) {\n            for (var j = row; j < row + item.height; j++) {\n              mapCart.push({x:i,y:j})\n            }\n          }\n          let start = column\n          let end = column + item.width\n          column += item.width\n          let ystart = row\n          let yend = row + item.height\n\n          return (\n            <li key={indexbtn} style={{\n              gridColumnStart:start,\n              gridColumnEnd:end,\n              gridRowStart:ystart,\n              gridRowEnd:yend,\n            }}>\n            {\n              (item.type===\"button\")?\n              <BtnElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"slider\")?\n              <SliderElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (splitType(item.type)[0]===\"sensor\")?\n              <SensorElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"script\")?\n              <ScriptElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"enum\")?\n              <EnumElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"weather\")?\n              <WeatherElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"time\")?\n              <TimeElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              (item.type===\"date\")?\n              <CalendarElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>:\n              null\n            }\n            </li>\n          )\n        }):null\n      }\n      </ul>\n    </ModalWindow>\n  )\n}\n","import React,{useContext} from 'react'\nimport {CartEditContext} from '../EditCarts/CartEditContext'\n\nexport const BaseElement = ({children,deleteBtn,editBtn,index,data,onClick}) =>{\n  const {target} = useContext(CartEditContext)\n\n  const deletebtn = ()=>{\n    if(typeof(deleteBtn)===\"function\"){\n      deleteBtn(index)\n    }\n  }\n\n  const editbtn = ()=>{\n    if(typeof(editBtn)===\"function\"){\n      target(\"button-line\",{...data,index},editBtn)\n    }\n  }\n\n  return(\n    <div className=\"baseCartElement-line\">\n    {\n      (deleteBtn || editBtn)?\n      <div className=\"delete-box\">\n      {\n        (deleteBtn)?\n        <button className=\"deleteBtn\" onClick={deletebtn}>&times;</button>:\n        null\n      }\n      {\n        (editBtn)?\n        <button className=\"editBtn\" onClick={editbtn}>\n          <i className=\"fas fa-list i-cost\"></i>\n        </button>:\n        null\n      }\n      </div>\n      :null\n    }\n      <div className=\"ElementLine\" onClick={onClick}>\n      {children}\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const BtnElement = ({children, data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(false)\n  const [switchMode, setSwitchMode] = useState(false)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(data?.field?.type===\"binary\"){\n      setSwitchMode(true)\n    }\n  },[data.field])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||data.disabled||!data.entity||data.entity.status===\"offline\")return\n    if(data.field.type===\"binary\"&&data?.fieldvalue){\n      if(data.fieldvalue===\"0\")\n        setValue(false)\n      if(data.fieldvalue===\"1\")\n        setValue(true)\n      if(data.entity?.typeConnect===\"mqtt\"&&(!/\\D/.test(data.fieldvalue)&&!/\\D/.test(data.field.low)&&!/\\D/.test(data.field.high))){\n        let poz = Number(data.fieldvalue)\n        let min = Number(data.field.low)\n        let max = Number(data.field.high)\n        if(poz>min&&poz<=max)\n          setValue(true)\n        else\n          setValue(false)\n      }\n    }\n    if(data.field.type===\"number\"&&data?.fieldvalue){\n      if(!data.data.action)data.data.action=\"0\"\n      if(data.data.action===data.fieldvalue)\n        setValue(true)\n      else\n        setValue(false)\n    }\n  },[onClick,data])\n\nconst changeHandler = (event)=>{\n  let oldvel = value\n  setValue((prev)=>!prev)\n  if(!switchMode){\n    setTimeout(()=>setValue(false),250)\n  }\n  if(typeof(onClick)===\"function\"){\n    onClick(event, !oldvel,setValue)\n  }\n\n  if(!data?.entity)\n    return\n  // if(data.typeAction===\"variable\")\n  //     return outValue(device.DeviceId,data.action)\n  if(data.data.typeAction===\"modeTarget\")\n      return outValue(\"target\")\n  if(data.field.type===\"binary\")\n      return outValue((oldvel)?0:1)\n  if(data.field.type===\"number\")\n      return outValue(data.data.action)\n  if(data.field.type===\"text\")\n      return outValue(data.data.action)\n  return outValue(data.data.action)\n}\n  if(!switchMode){\n    return(\n      <BaseElement onClick={changeHandler} deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n        <div className=\"icon icon-btn\">\n          <div className=\"circle\">\n            <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n          </div>\n        </div>\n        <p className=\"name\">{data.title}</p>\n        <p className=\"state\">{data.data.action}</p>\n      </BaseElement>\n    )\n  }\n\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n      <p className=\"name\">{data.title}</p>\n      <div className=\"control\">\n        <div className=\"right-control\">\n          <div className=\"custom1-checkbox\">\n            <div className={`custom1-inner ${(value)?\"active\":\"\"}`} onClick={(data.disabled)?()=>{}:changeHandler} disabled={data.disabled} >\n              <div className=\"custom1-toggle\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </BaseElement>\n  )\n}\n","import React,{useState,useContext,useEffect,useRef} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\n// import {RunText} from '../../runText'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const SliderElement = ({data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue] = useState(0)\n  const delay = useRef(null)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\")return\n    if(!data.fieldvalue)return ;\n    setValue(Number(data.fieldvalue))\n  },[onClick,data])\n\n  const changeHandler = (event)=>{\n    setValue(event.target.value)\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(event.target.value)\n    }, 200);\n  }\n\nif(!data.entity){\n  return null\n}\n\nreturn(\n  <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n      <p className=\"name\">{data.title}</p>\n      <div className=\"flex\">\n        <input\n        className=\"control-big\"\n        type=\"range\"\n        min={data.field?.low||0}\n        max={data.field?.high||100}\n        value={value}\n        onChange={changeHandler}\n        onInput={changeHandler}\n        disabled={data.disabled}\n        />\n        <div className=\"state\">{value}</div>\n      </div>\n  </BaseElement>\n)\n}\n","import React from 'react'\nimport {BaseElement} from './BaseElement'\n\nexport const SensorElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n\n  const getTypeField = ()=>{\n    if(!data?.field?.type)return \"text\"\n    return data.field.type\n  }\n\nif(!data.entity){\n  return null;\n}\nif(getTypeField()===\"text\"||getTypeField()===\"number\"){\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n        <p className= \"sensor-name\">{data.title}</p>\n        <p className= \"state\">{`${data.fieldvalue} ${data.field?.unit||\"\"}`}</p>\n    </BaseElement>\n  )\n}\nif(getTypeField()===\"binary\"){\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n        <p className= \"sensor-name\">{data.title}</p>\n        <div className=\"control\">\n          <p className= \"state\">{`${data.fieldvalue} ${data.field?.unit||\"\"}`}</p>\n        </div>\n    </BaseElement>\n  )\n}\nreturn (\n  <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n    <div className=\"icon\">\n      <div className=\"circle\">\n        <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n      </div>\n    </div>\n    <p className= \"sensor-name\">{data.title}</p>\n    <p className= \"state\">{`${data.fieldvalue} ${data.field?.unit||\"\"}`}</p>\n  </BaseElement>\n)\n}\n","import React,{useContext,useEffect} from 'react'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {BaseElement} from './BaseElement'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\nexport const ScriptElement = ({data,className,index,children,name,onClick,editBtn,deleteBtn}) =>{\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const clickHandler = async()=>{\n    await request(`/api/script/run?name=${data.data.name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  }\n\n  return(\n    <BaseElement onClick={clickHandler} deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n      <div className=\"icon icon-btn\">\n        <div className=\"circle\">\n          <i className=\"far fa-file-alt\"></i>\n        </div>\n      </div>\n      <p className=\"name\">{data.data.name}</p>\n    </BaseElement>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const EnumElement = ({children, data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(data.fieldvalue)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(typeof(onClick)===\"function\"||!data.fieldvalue||data.disabled||data.entity?.status===\"offline\")return;\n    setValue(data.fieldvalue)\n  },[data.fieldvalue, onClick, data.disabled, data.entity?.status])\n\nconst changeHandler = (event)=>{\n  setValue(event.target.value)\n  return outValue(event.target.value)\n}\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n      <div className=\"icon\">\n        <div className=\"circle\">\n          <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n        </div>\n      </div>\n        <p className=\"name\">{data.title}</p>\n\n        {\n          (data.field?.values)?\n          <select value={value} onChange={changeHandler} disabled={data.disabled}>\n          {\n            valuesDecod(data.field?.values).map((item,index2)=>{\n              return(\n                <option key={index2} value={item}>{item}</option>\n              )\n            })\n          }\n          </select>\n          :null\n        }\n    </BaseElement>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {BaseElement} from './BaseElement'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\n\n\nexport const TextElement = ({data, onClick, index, deleteBtn, editBtn, className}) =>{\n  const auth = useContext(AuthContext)\n  const [value, setValue]=useState(\"\")\n  const [outvalue, setOutValue]=useState(\"\")\n  const [focus, setFocus] = useState(false)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request(`/api/${data.data.typeItem}/value/set`, 'POST', {systemName: data.data.deviceName,type:data.data.typeAction,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    if(focus)\n      return;\n    if(!data.fieldvalue||data.disabled||data.entity?.status===\"offline\")return ;\n    setValue(data.fieldvalue)\n  },[focus,data])\n\nconst changeHandler = (event)=>{\n  setValue(event.target.value)\n  setOutValue(event.target.value)\n}\n\nconst outHandler = (event)=>{\n  return outValue(outvalue)\n}\n\n  return(\n    <BaseElement deleteBtn = {(data.editmode)?deleteBtn:null} editBtn={(data.editmode)?editBtn:null} data={data.data} index={index}>\n      <div className=\"icon\">\n        <div className=\"circle\">\n          <i className={data.field?.icon||\"fas fa-circle-notch\"}></i>\n        </div>\n      </div>\n        <p className=\"name\">{data.title}</p>\n        <div className=\"control\">\n          <input type=\"text\" onFocus={()=>setFocus(true)} onBlur={()=>setFocus(false)} value={value} onChange={changeHandler} disabled={data.disabled}/>\n          <input type=\"button\" onClick={outHandler} disabled={data.disabled} value=\"send\"/>\n        </div>\n    </BaseElement>\n  )\n}\n","import React,{useContext} from 'react'\nimport {ModalWindow} from '../modalWindow/modalWindow'\nimport {BtnElement} from './CartLineElement/BtnElement'\nimport {EditModeContext} from '../../context/EditMode'\nimport {CartEditContext} from './EditCarts/CartEditContext'\nimport {SliderElement} from './CartLineElement/SliderElement'\nimport {SensorElement} from './CartLineElement/SensorElement'\nimport {ScriptElement} from './CartLineElement/ScriptElement'\nimport {EnumElement} from './CartLineElement/EnumElement'\nimport {TextElement} from './CartLineElement/TextElement'\n// import {WeatherElement} from './CartElement/WeatherElement'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useControlData} from '../../hooks/controlData.hook'\n\nexport const HomeLineCart = ({hide,index,name,updata,data,edit=false,add}) =>{\n  const {message} = useMessage();\n  const {convert} = useControlData();\n  const {mode} = useContext(EditModeContext)\n  const {target} = useContext(CartEditContext)\n\n  function sort(array) {\n    let arr = array.slice()\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].index = i\n    }\n    for (let i = arr.length - 1; i > 0; i--) {\n      for (let j = 0; j < i; j++) {\n        if(arr[j].order>arr[j+1].order){\n          [arr[j],arr[j+1]] = [arr[j+1],arr[j]]\n        }\n      }\n    }\n    return arr\n  }\n\n  const deleteElement=(index1)=>{\n    message(\"Удалить?\", \"dialog\", async()=>{\n      let mas = data.children.slice();\n      let newBtns = mas.filter((item, index2)=>index2!==index1)\n      updata(index,{...data,children:newBtns})\n    },\"no\")\n  }\n\n  const splitType = (type)=>{\n    return type.split(\"-\")\n  }\n\n  const editElement = (index1,data1)=>{\n    if(!data1||!data1.order||!data1.width||!data1.height)\n      return\n    let mas = data.children.slice();\n    mas[index1].order=Number(data1.order)\n    mas[index1].width=Number(data1.width)\n    mas[index1].height=Number(data1.height)\n    updata(index,{...data,children:mas})\n  }\n\n\n  return(\n    <ModalWindow\n     position=\"relative\"\n     hide={\n       (mode)?()=>{\n         hide(index)\n       }:null\n     }\n     userBtn={\n       (mode)?\n       ()=>target(\"line\",{...data,index},updata):null\n     }\n     z={3}\n     top={0}\n     left={0}\n     title={name}\n     moving={false}\n     heightToolbar={30}>\n      <ul className=\"elementConteiner line\">\n      {\n        (data&&data.children)?\n        sort(data.children).map((item,index)=>{\n          return(\n            <li key={index}>\n              {\n                (item.type===\"button\")?\n                  <div className=\"line-el\">\n                    <BtnElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>:\n                  (item.type===\"enum\")?\n                  <div className=\"line-el\">\n                    <EnumElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>:\n                  (item.type===\"text\")?\n                  <div className=\"line-el\">\n                    <TextElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>:\n                  (item.type===\"slider\")?\n                  <div className=\"line-el\">\n                    <SliderElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>\n                  :(item.type===\"script\")?\n                  <div className=\"line-el\">\n                    <ScriptElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>\n                  :(splitType(item.type)[0]===\"sensor\")?\n                  <div className=\"line-el\">\n                    <SensorElement data={convert(item, edit)} index={item.index} deleteBtn={deleteElement} editBtn={editElement}/>\n                  </div>\n                  :null\n              }\n            </li>\n          )\n        })\n        :null\n      }\n      </ul>\n    </ModalWindow>\n  )\n}\n","import {SHOW_EDITCART, HIDE_EDITCART} from '../../types'\n\nconst handlers={\n  [SHOW_EDITCART]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_EDITCART]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const cartEditReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {CartEditContext} from './CartEditContext'\nimport {cartEditReducer} from './CartEditReducer'\nimport {SHOW_EDITCART, HIDE_EDITCART} from '../../types'\n\nexport const CartEditState = ({children}) =>{\n  const [state, dispatch] = useReducer(cartEditReducer,{visible:false})\n\n  const show = (type = \"base\", cart = null ,OK = null) =>{\n    dispatch({\n      type:SHOW_EDITCART,\n      payload: {type,OK,cart}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_EDITCART,\n    })\n  }\n  const target = (type = \"base\", cart = null ,OK = null) =>{\n    if(state.visible){\n      hide()\n    }\n    else {\n      show(type,cart,OK)\n    }\n  }\n\n  return(\n    <CartEditContext.Provider\n    value={{show, hide, target,cartEdit: state}}>\n      {children}\n    </CartEditContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const AddControlContext = createContext()\n","import {SHOW_ADDCONTROL, HIDE_ADDCONTROL} from '../../types'\n\nconst handlers={\n  [SHOW_ADDCONTROL]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_ADDCONTROL]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const addControlReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useReducer} from 'react'\nimport {AddControlContext} from './AddControlContext'\nimport {addControlReducer} from './AddControlReducer'\nimport {SHOW_ADDCONTROL, HIDE_ADDCONTROL} from '../../types'\n\nexport const AddControlState = ({children}) =>{\n  const [state, dispatch] = useReducer(addControlReducer,{visible:false})\n\n  const show = (type = \"AddButton\" ,OK = null) =>{\n    dispatch({\n      type:SHOW_ADDCONTROL,\n      payload: {type,OK}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_ADDCONTROL,\n    })\n  }\n  const target = (type = \"AddButton\",OK = null) =>{\n    if(state.visible){\n      hide()\n    }\n    else {\n      show(type,OK)\n    }\n  }\n\n  return(\n    <AddControlContext.Provider\n    value={{show, hide, target,addControl: state}}>\n      {children}\n    </AddControlContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const ScriptContext = createContext()\n","import React, {useContext} from 'react'\nimport {ScriptContext} from '../../../../context/ScriptContext'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nexport const ScriptPage = ({hide, next, back})=>{\n  const {scripts} = useContext(ScriptContext)\n\n  const transformation = ()=>scripts.map(item=>({\n    title:item.name,\n    data:item\n  }))\n\n  return (\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a device.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(scripts)}/>\n  )\n}\n","import React from 'react'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = [\n  {title:\"device\", data:\"device\"},\n  {title:\"group\", data:\"group\"}\n]\n\nexport const Page2 = ({type ,next, back, hide})=>{\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a item.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={types}/>\n  )\n}\n","import React, {useContext,useState} from 'react'\nimport {SocketContext} from '../../../../context/SocketContext'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtred(data, typeField) {\n  if(typeField === \"sensor\")\n    return data\n  let condidats = data.filter(item=>item.type!==\"sensor\")\n  let filtredData = []\n  for (var item of condidats) {\n    for (var item2 of item.fields) {\n      if(item2.control && typeField in types && types[typeField].indexOf(item2.type) !== -1){\n        filtredData.push(item)\n        break\n      }\n    }\n  }\n  return filtredData\n}\n\nexport const Page3Device = ({type ,next, back, hide})=>{\n  const {devices} = useContext(SocketContext)\n  const [allDevices] = useState(filtred(devices, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a device.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allDevices)}/>\n  )\n}\n","import React, {useState} from 'react'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtredField(data, typeField) {\n  let condidats = data.fields\n  if(typeField === \"sensor\")\n    return condidats\n  return condidats.filter(item=>(item.control && typeField in types && types[typeField].indexOf(item.type) !== -1))\n}\n\nexport const Page4Device = ({type ,next, device, back, hide})=>{\n  const [allField] = useState(filtredField(device, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a device.\"\n    title=\"adds element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allField)}/>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Page5Device = ({field ,next, back, hide})=>{\n  const [number, setNumber] = useState(0)\n  const [text, setText] = useState('')\n\n  const values = ()=>{\n    let arr = field.values.split(',')\n    arr = arr.map(item=>item.trim())\n    return arr\n  }\n\n  if(field.type === \"number\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" min={Number(field.low)} max={Number(field.high)} onChange={(v)=>setNumber(v.target.value)} required type=\"number\" value={number||0}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(number)} disabled={number===null}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"text\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" onChange={(v)=>setText(v.target.value)} required type=\"text\" value={text||\"\"}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"enum\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <select onChange={(v)=>setText(v.target.value)} required value={text||values()[0]}>\n          {\n            values().map((item, index)=>(\n              <option key={index} value={item}>{item}</option>\n            ))\n          }\n          </select>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useContext,useState, useEffect} from 'react'\nimport {GroupsContext} from '../../../Groups/groupsContext'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtred(data, typeField) {\n  if(typeField === \"sensor\")\n    return data\n  let condidats = data.filter(item=>item.type!==\"sensor\")\n  let filtredData = []\n  for (var item of condidats) {\n    for (var item2 of item.fields) {\n      if(item2.control && typeField in types && types[typeField].indexOf(item2.type) !== -1){\n        filtredData.push(item)\n        break\n      }\n    }\n  }\n  return filtredData\n}\n\nexport const Page3Group = ({type ,next, back, hide})=>{\n  const {groups, updata} = useContext(GroupsContext)\n  const [allGroups] = useState(filtred(groups, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  useEffect(()=>{\n    updata()\n  },[updata])\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a group.\"\n    title=\"add element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allGroups)}/>\n  )\n}\n","import React, {useState} from 'react'\nimport {ConfirmationDialog} from '../../../dialogWindow/dialogType/confirmationDialog'\n\nconst types = {\n  sensor:[\"text\",\"binary\",\"number\",\"enum\"],\n  button:[\"text\",\"binary\",\"number\",\"enum\"],\n  slider:[\"number\"],\n  enum:[\"enum\"],\n  text:[\"text\"]\n}\n\nfunction filtredField(data, typeField) {\n  let condidats = data.fields\n  if(typeField === \"sensor\")\n    return condidats\n  return condidats.filter(item=>(item.control && typeField in types && types[typeField].indexOf(item.type) !== -1))\n}\n\nexport const Page4Group = ({type ,next, device, back, hide})=>{\n  const [allField] = useState(filtredField(device, type));\n\n  const transformation = (data)=>data.map(item=>({title:item.name, data:item}))\n\n  return(\n    <ConfirmationDialog\n    hide={hide}\n    text=\"choose a groups.\"\n    title=\"adds element\"\n    active={next}\n    activeText=\"NEXT\"\n    buttons = {[{\n      title:\"BACK\",\n      action:back\n    }]}\n    items={transformation(allField)}/>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Page5Group = ({field ,next, back, hide})=>{\n  const [number, setNumber] = useState(0)\n  const [text, setText] = useState('')\n\n  const values = ()=>{\n    let arr = field.values.split(',')\n    arr = arr.map(item=>item.trim())\n    return arr\n  }\n\n  if(field.type === \"number\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" min={Number(field.low)} max={Number(field.high)} onChange={(v)=>setNumber(v.target.value)} required type=\"number\" value={number||0}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(number)} disabled={number===null}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"text\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" onChange={(v)=>setText(v.target.value)} required type=\"text\" value={text||\"\"}></input>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n\n  if(field.type === \"enum\")\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <select onChange={(v)=>setText(v.target.value)} required value={text||values()[0]}>\n          {\n            values().map((item, index)=>(\n              <option key={index} value={item}>{item}</option>\n            ))\n          }\n          </select>\n          <label>state</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Page6 = ({field ,next, back, hide})=>{\n  const [text, setText] = useState('')\n\n  return(\n    <>\n    <div className=\"backGlass\" onClick={hide}></div>\n    <div className=\"dialogCoteiner\">\n      <div className=\"dialogHeader\">Add element</div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogBody\">\n        <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n          <input name=\"name\" onChange={(v)=>setText(v.target.value)} required type=\"text\" value={text||\"\"}></input>\n          <label>title</label>\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"dialogFooter\">\n        <button className=\"dialogButton button normalSelection\" onClick={back}>BACK</button>\n        <button className=\"dialogButton button normalSelection\" onClick={()=>next(text)} disabled={text===\"\"}>NEXT</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useContext,useState} from 'react'\nimport {AddControlContext} from './AddControlContext'\nimport {ScriptPage} from './Control/scriptPage'\nimport {Page2} from './Control/page2'\nimport {Page3Device} from './Control/page3device'\nimport {Page4Device} from './Control/page4device'\nimport {Page5Device} from './Control/page5device'\nimport {Page3Group} from './Control/page3group'\nimport {Page4Group} from './Control/page4group'\nimport {Page5Group} from './Control/page5group'\nimport {Page6} from './Control/page6'\nimport {ConfirmationDialog} from '../../dialogWindow/dialogType/confirmationDialog'\n\nconst cardBaseElement = [\n  {\n    title:\"button\",\n    data:\"button\"\n  },\n  {\n    title:\"script\",\n    data:\"script\"\n  },\n  {\n    title:\"slider\",\n    data:\"slider\"\n  },\n  {\n    title:\"monitor\",\n    data:\"sensor\"\n  },\n  {\n    title:\"enum\",\n    data:\"enum\"\n  },\n  {\n    title:\"weather\",\n    data:\"weather\"\n  },\n  {\n    title:\"time\",\n    data:\"time\"\n  },\n  {\n    title:\"calendar\",\n    data:\"date\"\n  }\n]\n\nconst cardLineElement = [\n  {\n    title:\"button\",\n    data:\"button\"\n  },\n  {\n    title:\"script\",\n    data:\"script\"\n  },\n  {\n    title:\"slider\",\n    data:\"slider\"\n  },\n  {\n    title:\"monitor\",\n    data:\"sensor\"\n  },\n  {\n    title:\"enum\",\n    data:\"enum\"\n  },\n  {\n    title:\"text\",\n    data:\"text\"\n  },\n]\n\nconst weather = {\n  name:\"weather\",\n  type:\"weather\",\n  order:0,\n  typeItem:\"system\",\n  width:1,\n  height:1\n}\n\nconst time = {\n  name:\"time\",\n  type:\"time\",\n  order:0,\n  typeItem:\"system\",\n  width:2,\n  height:1\n}\n\nconst date = {\n  name:\"date\",\n  type:\"date\",\n  order:0,\n  typeItem:\"system\",\n  width:2,\n  height:2\n}\n\nexport const AddControl = ()=>{\n  const {addControl, hide} = useContext(AddControlContext)\n  const [typeChild, setTypeChild] = useState(\"\");\n  const [device, setDevice] = useState(null);\n  const [action, setAction] = useState(null);\n  const [field, setField] = useState(null);\n  const [item, setItem] = useState(\"device\");\n  const [page, setPage] = useState(1);\n\n  const close = ()=>{\n    hide()\n    setTypeChild(\"\")\n    setDevice(null)\n    setField(null)\n    setPage(1)\n  }\n\n  const addElement = (t)=>{\n    if(addControl.OK){\n      addControl.OK(t)\n    }\n    close()\n  }\n\n  const addScript = (data)=>({\n    height: 1,\n    name: data.name,\n    order: 0,\n    type: \"script\",\n    typeItem: \"script\",\n    title:'',\n    width: 1\n  })\n\n  const addDevField = (data)=>({\n    height: 1,\n    name: device.name,\n    deviceName:device.systemName,\n    order: 0,\n    type: typeChild,\n    typeItem: item,\n    width: 1,\n    title:'',\n    typeAction:data.name\n  })\n\n  const addDevFieldAction = (data)=>({...addDevField(field), action:data})\n\n  if(!addControl.visible){\n    return null;\n  }\n\n  if(page === 1){\n    return(\n      <ConfirmationDialog\n      hide={close}\n      text=\"choose the element type.\"\n      title=\"add element\"\n      active={(data)=>{\n        if(data===\"weather\")\n          addElement(weather)\n        else if(data===\"time\")\n          addElement(time)\n        else if(data===\"date\")\n          addElement(date)\n        else{\n          setTypeChild(data)\n          setPage(2)\n        }\n      }}\n      activeText=\"NEXT\"\n      items={(addControl.type===\"AddElement\")?cardBaseElement:cardLineElement}\n      />\n    )\n  }\n  if(typeChild===\"script\"){\n    return(\n      <ScriptPage\n      hide={close}\n      next={(data)=>{\n        addElement(addScript(data))\n      }}\n      back={()=>setPage(1)}\n      />\n    )\n  }\n  if(page === 2){\n    return(\n      <Page2\n      hide={close}\n      type={typeChild}\n      back={()=>setPage(1)}\n      next={(data)=>{\n        setItem(data)\n        setPage(3)\n      }}\n      />\n    )\n  }\n  if(item === \"device\"){\n    if(page === 3){\n      return(\n        <Page3Device\n        hide={close}\n        type={typeChild}\n        back={()=>setPage(2)}\n        next={(data)=>{\n          setDevice(data)\n          setPage(4)\n        }}\n        />\n      )\n    }\n\n    if(page === 4){\n      return(\n        <Page4Device\n        hide={close}\n        type={typeChild}\n        device={device}\n        back={()=>setPage(3)}\n        next={(data)=>{\n          if(typeChild === \"sensor\")\n            {\n              setField(data)\n              // addDevField(data)\n              setPage(6)\n            }\n          else if(typeChild === \"button\" && data.type !== \"binary\"){\n            setPage(5)\n            setField(data)\n          }\n          else{\n            setField(data)\n            // addDevField(data)\n            setPage(6)\n          }\n        }}\n        />\n      )\n    }\n\n    if(page === 5){\n      return(\n        <Page5Device\n        next={(data)=>{\n          // addDevFieldAction(data)\n          setAction(data)\n          setPage(6)\n        }}\n        hide={close}\n        back={()=>setPage(4)}\n        field={field}\n        />\n      )\n    }\n  }\n  else{\n    if(page === 3){\n      return(\n        <Page3Group\n        hide={close}\n        type={typeChild}\n        back={()=>setPage(2)}\n        next={(data)=>{\n          setDevice(data)\n          setPage(4)\n        }}\n        />\n      )\n    }\n\n    if(page === 4){\n      return(\n        <Page4Group\n        hide={close}\n        type={typeChild}\n        device={device}\n        back={()=>setPage(3)}\n        next={(data)=>{\n          if(typeChild === \"sensor\")\n            {\n              setField(data)\n              // addDevField(data)\n              setPage(6)\n            }\n          else if(typeChild === \"button\" && data.type !== \"binary\"){\n            setPage(5)\n            setField(data)\n          }\n          else{\n            setField(data)\n            // addDevField(data)\n            setPage(6)\n          }\n        }}\n        />\n      )\n    }\n\n    if(page === 5){\n      return(\n        <Page5Group\n        next={(data)=>{\n          // addDevFieldAction(data)\n          setAction(data)\n          setPage(6)\n        }}\n        hide={close}\n        back={()=>setPage(4)}\n        field={field}\n        />\n      )\n    }\n  }\n  if(page === 6){\n    return(\n      <Page6\n      next={(data)=>{\n        let val\n        if(action)\n          val = addDevFieldAction(action)\n        else\n          val = addDevField(field)\n        val = {...val, title: data}\n        addElement(val)\n      }}\n      hide={close}\n      back={()=>setPage(4)}\n      field={field}\n      />\n    )\n  }\n\n\n  return(null)\n}\n","import React,{useContext,useState,useEffect} from 'react'\nimport {CartEditContext} from '../CartEditContext'\nimport {AddControlContext} from '../../AddControl/AddControlContext'\n\nexport const BaseCartEdit = ({type=\"base\"}) =>{\n  const {cartEdit, hide} = useContext(CartEditContext)\n  const {show} = useContext(AddControlContext)\n  const [cart ,setCart] = useState({\n    mainId:null,\n    id:null,\n    name:\"\",\n    type:\"base\",\n    order:0,\n    children:[],\n    width:1\n  })\n\n  useEffect(()=>{\n    if(cartEdit.cart)\n      setCart({\n        mainId:cartEdit.cart.mainId,\n        id:cartEdit.cart.id,\n        name:cartEdit.cart.name,\n        type:cartEdit.cart.type,\n        order:cartEdit.cart.order,\n        children:cartEdit.cart.children,\n        width:cartEdit.cart.width\n      })\n  },[cartEdit])\n\n  const changeHandler = event => {\n    setCart({ ...cart, [event.target.name]: event.target.value })\n  }\n\n  const outHandler = ()=>{\n    if(typeof(cartEdit.OK)!==\"function\")\n      return;\n    cartEdit.OK(cartEdit.cart.index,cart)\n    hide()\n  }\n\n  const addElement = ()=>show(\n  (type===\"line\")?\n  \"AddLineElement\":\n  \"AddElement\",\n  async(btn)=>{\n    let mas = cart.children.slice();\n    mas.push(btn)\n    cartEdit.OK(cartEdit.cart.index,{...cart,children:mas})\n    hide()\n  })\n\n  return(\n    <>\n      <div className=\"backGlass\" onClick={hide}></div>\n      <div className=\"dialogCoteiner\">\n        <div className=\"dialogHeader\">Edit card</div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogBody\">\n          <div className=\"input-data\">\n            <input name=\"name\" onChange={changeHandler} required type=\"text\" value={(cart)?cart.name:\"\"}></input>\n            <label>name</label>\n          </div>\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"name\" min={0} max={500} onChange={(v)=>setCart({...cart,order:v.target.value})} required type=\"number\" value={cart.order||0}></input>\n            <label>order</label>\n          </div>\n        </div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogFooter\">\n          <button className=\"dialogButton button normalSelection\" onClick={addElement}>add Element</button>\n          <button className=\"dialogButton button highSelection\" onClick={outHandler}>save</button>\n        </div>\n      </div>\n    </>\n  )\n\n  // return(\n  //   <BackForm onClick={hide}>\n  //   <ModalWindow hide={hide} title=\"Edit Cart\" moving={false} backForm={true} style={{width:\"400px\",left:\"50%\",transform: \"translateX(-50%)\", top:\"100px\",maxHeight:\"calc(100% - 200px)\"}}>\n  //     <div className=\"editcart-conteiner\">\n  //       <p>сontainer ID: {cartEdit.cart.id}</p>\n  //       <div className=\"editcart-element\">\n  //         <p>сontainer name</p>\n  //         <input type=\"text\" value={(cart)?cart.name:\"\"} name=\"name\" onChange={changeHandler}/>\n  //       </div>\n  //       <div className=\"editcart-element\">\n  //         <p>button priority</p>\n  //         <InputNumber Xten={false} Value={cartEdit.cart.order||\"0\"} result={(v)=>setCart({...cart,order:v})} min={0} max={500}/>\n  //       </div>\n  //       <button onClick = {()=>show(\n  //         (type===\"line\")?\n  //         \"AddLineButton\":\n  //         \"AddButton\",\n  //         async(btn)=>{\n  //               let mas = cart.children.slice();\n  //               mas.push(btn)\n  //               cartEdit.OK(cartEdit.cart.index,{...cart,children:mas})\n  //               hide()\n  //           })}>Add Control Element</button>\n  //       <button onClick = {outHandler}>Ок</button>\n  //     </div>\n  //   </ModalWindow>\n  //   </BackForm>\n  // )\n\n}\n","import React,{useContext,useState} from 'react'\nimport {CartEditContext} from '../CartEditContext'\n\nexport const ElementEdit = ({type}) =>{\n  const {cartEdit, hide} = useContext(CartEditContext)\n  const [butonConf ,setButonConf] = useState({\n    order:String(cartEdit.cart.order),\n    width:cartEdit.cart.width,\n    height:cartEdit.cart.height\n  })\n\n  const outHandler = ()=>{\n    if(typeof(cartEdit.OK)!==\"function\")\n      return;\n    cartEdit.OK(cartEdit.cart.index,butonConf)\n    hide()\n  }\n\n  return(\n    <>\n      <div className=\"backGlass\" onClick={hide}></div>\n      <div className=\"dialogCoteiner\">\n        <div className=\"dialogHeader\">Edit card</div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogBody\">\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"order\" min={0} max={500} onChange={(v)=>setButonConf({...butonConf,order:v.target.value})} required type=\"number\" value={butonConf.order||0}></input>\n            <label>order</label>\n          </div>\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"width\" min={1} max={4} onChange={(v)=>setButonConf({...butonConf,width:v.target.value})} required type=\"number\" value={butonConf.width||1}></input>\n            <label>width</label>\n          </div>\n          <div className=\"input-data\" style={{marginTop:\"15px\",marginBottom:\"10px\"}}>\n            <input name=\"height\" min={1} max={4} onChange={(v)=>setButonConf({...butonConf,height:v.target.value})} required type=\"number\" value={butonConf.height||1}></input>\n            <label>height</label>\n          </div>\n        </div>\n        <div className=\"dividers\"></div>\n        <div className=\"dialogFooter\">\n          <button className=\"dialogButton button highSelection\" onClick={outHandler}>save</button>\n        </div>\n      </div>\n    </>\n  )\n\n  // return(\n  //   <BackForm onClick={hide}>\n  //   <ModalWindow hide={hide} title=\"Edit Cart\" moving={false} backForm={true} heightToolbar={30} styleContent={{height:\"calc(100% - 30px\"}} style={{width:\"400px\",height:\"calc(100% - 200px)\",left:\"50%\",transform: \"translateX(-50%)\", top:\"100px\",}}>\n  //     <div className=\"editcart-conteiner\">\n  //       <div className=\"editcart-element\">\n  //         <p>button priority</p>\n  //         <InputNumber Xten={false} Value={cartEdit.cart.order} result={(v)=>setButonConf({...butonConf,order:v})} min={0} max={500}/>\n  //       </div>\n  //       {\n  //         (type!==\"button-line\")?\n  //         <>\n  //         <div className=\"editcart-element\">\n  //           <p>width</p>\n  //           <InputNumber Xten={false} Value={cartEdit.cart.width} result={(v)=>setButonConf({...butonConf,width:v})} min={1} max={4}/>\n  //         </div>\n  //         <div className=\"editcart-element\">\n  //           <p>height</p>\n  //           <InputNumber Xten={false} Value={cartEdit.cart.height} result={(v)=>setButonConf({...butonConf,height:v})} min={1} max={4}/>\n  //         </div>\n  //         </>\n  //         :null\n  //       }\n  //       <button onClick = {outHandler}>Ок</button>\n  //     </div>\n  //   </ModalWindow>\n  //   </BackForm>\n  // )\n}\n","import React,{useContext} from 'react'\nimport {CartEditContext} from './CartEditContext'\nimport {BaseCartEdit} from './CartEditType/BaseCart'\nimport {ElementEdit} from './CartEditType/Element'\n\nexport const CartEdit = () =>{\n  const {cartEdit} = useContext(CartEditContext)\n\n  if(!cartEdit.visible||!cartEdit.type){\n    return null;\n  }\n\n  if(cartEdit.type===\"base\"){\n    return(\n      <BaseCartEdit/>\n    )\n  }\n  if(cartEdit.type===\"line\"){\n    return(\n      <BaseCartEdit type=\"line\"/>\n    )\n  }\n  if(cartEdit.type===\"button\"){\n    return(\n      <ElementEdit/>\n    )\n  }\n  if(cartEdit.type===\"button-line\"){\n    return(\n      <ElementEdit type=\"button-line\"/>\n    )\n  }\n  return null;\n\n}\n","import React,{useState,useEffect,useContext,useCallback,useRef} from 'react'\nimport {HomebaseCart} from '../components/homeCarts/homeBaseCart'\nimport {HomeLineCart} from '../components/homeCarts/homeLineCart'\nimport {EditModeContext} from '../context/EditMode'\nimport {DialogWindowContext} from '../components/dialogWindow/dialogWindowContext'\nimport {CartEditState} from '../components/homeCarts/EditCarts/CartEditState'\nimport {AddControlState} from '../components/homeCarts/AddControl/AddControlState'\nimport {AddControl} from '../components/homeCarts/AddControl/AddControl'\nimport {CartEdit} from '../components/homeCarts/EditCarts/CartEdit'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {UserContext} from '../context/UserContext.js'\nimport {ScriptContext} from '../context/ScriptContext.js'\nimport {Loader} from '../components/Loader'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nconst cardsList = [\n  {\n    title:\"base card\",\n    data:\"base\"\n  },\n  {\n    title:\"list card\",\n    data:\"line\"\n  },\n]\n\nexport const HomePage = () => {\n\nconst [editMode, setEditMode] = useState(false);\nconst [carts, setCarts] = useState([])\nconst [sortedCarts, setSortedCarts] = useState([])\nconst auth = useContext(AuthContext)\nconst {setData} = useContext(MenuContext)\nconst {page, getData} = useContext(UserContext)\nconst {show, hide} = useContext(DialogWindowContext)\nconst {message} = useMessage();\nconst {request, error, clearError} = useHttp();\nconst conteiner = useRef(null)\nconst [scripts, setScripts] = useState({})\nconst [pages, setPages] = useState([])\n\nfunction sort(array) {\n  let arr = array.slice()\n  for (var i = 0; i < arr.length; i++) {\n    arr[i].index = i\n  }\n  for (let i = arr.length - 1; i > 0; i--) {\n    for (let j = 0; j < i; j++) {\n      if(arr[j].order>arr[j+1].order){\n        [arr[j],arr[j+1]] = [arr[j+1],arr[j]]\n      }\n    }\n  }\n  return arr\n}\n\nconst addCart = useCallback((type=\"base\")=>{\n  hide()\n  setEditMode(true)\n  let newCart = {\n    // mainId:null,\n    name:\"\",\n    order:\"0\",\n    type:type,\n    children:[],\n    width:2\n  }\n  setCarts((prev)=>{\n    let mas = prev.slice();\n    mas.push(newCart)\n    return mas;\n  })\n},[hide])\n\nconst removeCart = useCallback((index)=>{\n  show(\"alert\",{\n    title: \"delete card\",\n    text: \"delete card?\",\n    buttons:[{\n      title:\"yes\",\n      action:()=>{\n        setCarts(prev=>prev.filter((item, index2)=>index2!==index))\n      }\n    },{\n      title:\"no\",\n      active:hide\n    }]\n  })\n},[show,hide])\n\nconst updataCart = useCallback((index,cart)=>{\n  setCarts(prev=>prev.map((item,index2)=>{\n    if(index2 === index)\n      return cart\n    return item\n  }))\n},[])\n\nconst saveCarts = useCallback(()=>{\n  try {\n    request('/api/homePage/set', 'POST', {name:page,cards:carts},{Authorization: `Bearer ${auth.token}`})\n  } catch (e) {\n    console.error(e);\n  }\n},[carts, auth.token,request,page])\n\nconst getAllPages = useCallback(async()=>{\n  try{\n    const data2 = await request(`/api/server/config/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setPages(data2.pages)\n  }\n  catch (e) {\n    console.error(e);\n  }\n},[request,auth.token])\n\nconst importCarts = useCallback(async()=>{\n  if(page){\n    try {\n      const data = await request(`/api/homePage/get/${page}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      setCarts(data.cards)\n    }\n    catch (e) {\n      console.error(e);\n    }\n    getAllPages()\n    try{\n      const data3 = await request(`/api/script/all`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      await setScripts(data3);\n    }\n    catch (e) {\n      console.error(e);\n    }\n  }\n},[request,auth.token,page,getAllPages])\n\nconst addPage = useCallback(async(name)=>{\n  await request(`/api/homePage/add?name=${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  setTimeout(()=>{\n    // getAllPages()\n    getData()\n  },0)\n},[request,auth.token,getData])\n\nconst changePage = useCallback(async(data)=>{\n  await request(`/api/user/page/set?page=${data}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  hide()\n  setTimeout(()=>{\n    getData()\n  },0)\n},[request, getData, auth.token, hide])\n\nconst deletePage = useCallback(async(name)=>{\n  await request(`/api/homePage/delete?name=${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  setTimeout(()=>{\n    getData()\n  },0)\n},[request,auth.token,getData])\n\nconst getPages= useCallback(()=>{\n  let arr = pages.map((item)=>{\n    let b = {\n      title:item,\n    }\n    if(page === item)\n      b.active = true\n    else\n      b.onClick = ()=>changePage(item)\n    return b\n  })\n  return arr\n},[pages,changePage,page])\n\nconst getdopMenu= useCallback(()=>{\n  let arr = [\n    {\n      title: (editMode)?\"save\":\"edit\",\n      onClick:()=>{\n        if(editMode){\n          saveCarts()\n          setEditMode(false)\n        }else{\n          setEditMode(true)\n        }\n      }\n    },{\n      title: \"add card\",\n      onClick: ()=>show(\"confirmation\",{\n        title:\"Add card\",\n        items:cardsList,\n        active: addCart\n      })\n    },{\n      type: \"dividers\"\n    },{\n      title: \"pages\",\n      sub:getPages()\n    },{\n      title: \"create page\",\n      onClick: ()=>show(\"text\",{\n        title:\"New page\",\n        text:\"input name newPage\",\n        placeholder:\"name\",\n        active: (d)=>{\n          addPage(d)\n        }\n      })\n    }\n  ]\n  if(page !== 'basePage')\n  {\n    arr.push({\n      title: \"delete page\",\n      onClick: ()=>show(\"alert\",{\n        title:\"Delete page\",\n        text:\"delete page?\",\n        buttons:[\n          {\n            title:\"ok\",\n            action:()=>{\n              deletePage(page)\n              hide()\n            }\n          },\n          {\n            title:\"cancel\",\n            action:hide\n          },\n        ]\n      })\n    })\n  }\n  return arr\n},[page,deletePage,addPage,show,hide,addCart,saveCarts,editMode,getPages])\n\nuseEffect(()=>{\n  message(error,\"error\")\n  return ()=>{\n    clearError();\n  }\n},[error,message, clearError])\n\nuseEffect(()=>{\n  importCarts()\n},[importCarts])\n\nuseEffect(()=>{\n  setData(\"Home\",{\n    dopmenu:getdopMenu()\n  })\n},[setData,editMode, getdopMenu,addCart,getPages, saveCarts,show,addPage, changePage])\n\nconst sortCard = useCallback((data,width)=>{\n  let column = 3\n  let i = 0\n  if(width < 1300)\n    column = 2\n  if(width < 900){\n    i=0\n    column = 1\n  }\n  let arr = []\n  for (var p = 0; p < column; p++) {\n    arr.push([])\n  }\n  let sortdata = sort(data)\n  for (var j = 0; j < sortdata.length; j++) {\n    let item = sortdata[j]\n    if(arr[i]){\n      arr[i].push(item)\n      i++\n      if(i>=column)\n        i=0\n    }\n  }\n  setSortedCarts(arr)\n},[])\n\nuseEffect(()=>{\n  sortCard(carts,conteiner.current.clientWidth)\n},[sortCard,carts])\n\nuseEffect(()=>{\n  window.addEventListener(\"resize\",resizeThrottler)\n  var resizeTimeout;\n  function resizeThrottler(event) {\n    if ( !resizeTimeout ) {\n      resizeTimeout = setTimeout(function() {\n        resizeTimeout = null;\n        sortCard(carts,event.target.innerWidth)\n       }, 66);\n    }\n  }\n  return ()=>{\n    window.removeEventListener(\"resize\", resizeThrottler);\n  }\n},[sortCard,carts])\n\nif(carts===[]){\n  return(\n    <Loader/>\n  )\n}\n\n  return(\n    <EditModeContext.Provider value={{setMode:setEditMode, mode:editMode,add:addCart}}>\n    <ScriptContext.Provider value={{scripts:scripts}}>\n    <CartEditState>\n    <AddControlState>\n      <CartEdit/>\n      <AddControl/>\n      <div className = {`conteiner top home`}>\n        <div ref={conteiner} className = \"conteinerHome flexHome\">\n        {\n          sortedCarts.map((item,index)=>{\n            return(\n              <div key={index} className=\"home-column\">\n              {\n                item.map((item2,index2)=>{\n                  return(\n                    <div className = \"flexElement\" key={index2} style={{order:item2.order}}>\n                    {\n                      (item2.type===\"base\")?\n                      <HomebaseCart\n                      edit={editMode}\n                      hide={(i)=>removeCart(i)}\n                      updata={updataCart}\n                      index={item2.index}\n                      data = {item2}\n                      name={item2.name}\n                      />:\n                      (item2.type===\"line\")?\n                      <HomeLineCart\n                      edit={editMode}\n                      hide={(i)=>removeCart(i)}\n                      updata={updataCart}\n                      index={item2.index}\n                      data = {item2}\n                      name={item2.name}\n                      />\n                      :null\n                    }\n                    </div>\n                  )\n                })\n              }\n              </div>\n            )\n          })\n        }\n        </div>\n      </div>\n    </AddControlState>\n    </CartEditState>\n    </ScriptContext.Provider>\n    </EditModeContext.Provider>\n  )\n}\n","import React, {useState, useEffect, useContext} from 'react'\n// import {Link} from 'react-router-dom'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {DialogWindowContext} from '../components/dialogWindow/dialogWindowContext'\n\n\nexport const AuthPage = function (){\n  const auth = useContext(AuthContext)\n  const dialog = useContext(DialogWindowContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [form, setForm] = useState({\n    name: '', password: ''\n  });\n\n  useEffect(()=>{\n    message(error,\"general\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const changeHandler = event => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n\n  const loginHandler = async () => {\n    try {\n      const data = await request('/api/auth/login', 'POST', {...form})\n      if(data)\n        auth.login(data.token, data.userId, data.userLavel)\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\nconst newpass = ()=>{\n  dialog.show(\"text\",{\n    title:\"Password recovery\",\n    text:\"input login\",\n    placeholder:\"login\",\n    active:(data)=>{\n      request('/api/user/password/new', 'POST', {name:data})\n    }\n  })\n}\n\n  return(\n    <div className=\"row\">\n    <div className=\"title\">\n      <h1>Sing In Form</h1>\n    </div>\n    <div className=\"container-auth\">\n      <div className=\"left-auth\"></div>\n      <div className=\"right-auth\">\n          <div className={`formBox-auth`}>\n            <p>Name</p>\n            <input placeholder=\"Login\" id=\"name\" type=\"text\" name=\"name\" value={form.name} onChange={changeHandler} required/>\n            <p>Password</p>\n            <input placeholder=\"•••••••\" id=\"password\" type=\"password\" name=\"password\" value={form.password} onChange={changeHandler} required/>\n            <input type=\"submit\" onClick={loginHandler} disabled={loading} value=\"Sign In\"/>\n            <p onClick={newpass} style={{marginTop:\"5px\"}} className=\"liteButton\">забыли пароль?</p>\n          </div>\n      </div>\n    </div>\n    </div>\n  )\n}\n","\nconst getConfig = (device, key)=>{\n  if(!device) return null;\n  for (var item of device.fields) {\n    if(item.name === key){\n      return item\n    }\n  }\n}\n\nexport const getValue = (device, key)=>{\n  if(!device) return null;\n  let config = getConfig(device, key)\n  let val = device?.value[key]\n  if(config?.type === \"binary\"){\n    if(val === \"1\")\n      return true\n    else\n      return false\n  }\n  else\n    return val\n}\n\nexport const converHistorys = (data, fieldname)=>{\n  let newData = {data:[]}\n  newData.name = fieldname\n  for (var item of data) {\n    if(item.field === fieldname)\n    {\n      newData.type = item.type\n      newData.utils = item.utils\n      newData.deviceName = item.deviceName\n      if(item.type === \"binary\" || item.type === \"number\")\n        newData.data.push({y:Number(item.value),x:new Date(Number(item.datatime) * 1000)})\n      else if(newData.data.length === 0 || newData.data[newData.data.length - 1].y !== item.value)\n        newData.data.push({y:item.value,x:new Date(Number(item.datatime) * 1000)})\n    }\n  }\n  return newData\n}\n\nconst typeFieldToTypeChart = {\n  number:\"area\",\n  binary:\"stepArea\"\n}\n\nexport function dateFormat(date) {\n  const shortMonths = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ]\n  return `${date.getFullYear()}-${shortMonths[date.getMonth()]}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n}\n\nconst textColor = (fon)=>{\n  let color = \"gray\"\n  if (fon[0] === \"#\") {\n      fon = fon.slice(1);\n  }\n  var num = parseInt(fon,16);\n  var r = (num >> 16);\n  var b = ((num >> 8) & 0x00FF);\n  var g = (num & 0x0000FF);\n  if ((r < 200||g < 200||b < 200))\n  {\n    color=\"#fff\";\n  }\n  return color;\n}\n\nexport function getOption(data, style=null) {\n  let baseConf = {\n\t\t\ttheme: \"light2\",\n\t\t\tanimationEnabled: true,\n\t\t\t// exportEnabled: true,\n\t\t\ttitle:{\n\t\t\t\ttext: `${data.deviceName}-${data.name}`,\n\t\t\t},\n\t\t\taxisY:{\n\t\t\t\ttitle: data.utils||\"Value\",\n\t\t\t},\n      axisX:{\n        valueFormatString: \"DD-MM-YY HH:mm:ss\",\n        margin:5,\n      },\n\t\t\tdata: [{\n\t\t\t\ttype: typeFieldToTypeChart[data.type],\n\t\t\t\txValueFormatString: \"DDD HH:mm:ss\",\n\t\t\t\tmarkerSize: 5,\n\t\t\t\tdataPoints: data.data\n\t\t\t}]\n\t\t}\n  if(data.type===\"binary\"){\n    baseConf.axisY.interval = 1\n    baseConf.axisY.minimum = -0.02\n    baseConf.axisY.maximum = 1.02\n  }\n  if(style?.c2)\n  {\n    baseConf.backgroundColor = style?.c2\n    baseConf.axisY.labelFontColor = textColor(style?.c2)\n    baseConf.title.fontColor = textColor(style?.c2)\n    baseConf.axisX.labelFontColor = textColor(style?.c2)\n  }\n  return baseConf\n}\n","import React,{useContext, useState, useEffect, useRef} from 'react'\nimport {RunText} from '../../../components/runText'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {getValue} from './utils'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const Slider = ({device, item})=>{\n  const auth = useContext(AuthContext)\n  const delay = useRef(null)\n  const {request, error, clearError} = useHttp();\n  const {message} = useMessage();\n  const [value , setValue] = useState(getValue(device, item.name))\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(systemName,name,v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const changeHandler = (event)=>{\n    setValue(event.target.value)\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(device.systemName, item.name, event.target.value)\n    }, 200);\n  }\n\n  return (\n    <div className=\"slider-box\">\n      <RunText className=\"name RunTextBaseColor\" id={item.name} text={item.name}/>\n      <div className=\"slider\">\n        <input\n        type=\"range\"\n        min={Number(item.low||0)}\n        max={Number(item.high||100)}\n        value={value||0}\n        onChange={changeHandler}\n        onInput={changeHandler}\n        />\n      </div>\n      <div className=\"value\">{value||0}</div>\n    </div>\n  )\n}\n","import React, {useState, useEffect, useContext} from 'react'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {getValue} from './utils'\n\nexport const Text = ({device, item}) =>{\n  const [newvalue, setValue]=useState(getValue(device, item.name))\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = ()=>{\n    request('/api/device/value/set', 'POST', {systemName: device.systemName,type:item.name,status:newvalue},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n  }\n\n  return(\n    <div className=\"text-field\">\n      <div className=\"textfield-name\">\n        <p>{item.name||\"text\"}</p>\n      </div>\n      <div className=\"textfield\">\n        <input type=\"text\" value={newvalue} onChange={changeHandler}/>\n        <input type=\"button\" onClick={outValue} value=\"send\"/>\n      </div>\n    </div>\n  )\n}\n","import React, {useState,useContext,useEffect} from 'react'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {getValue} from './utils'\n\nexport const Enum = ({device, item}) =>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [newvalue, setValue]=useState(getValue(device, item.name))\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: device.systemName,type:item.name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n    outValue(event.target.value)\n  }\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{item.title||\"enum\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\">\n          <select value={newvalue} onChange={changeHandler}>\n          {\n            valuesDecod(item.values).map((item2,index)=>{\n              return(\n                <option key={index} value={item2}>{item2}</option>\n              )\n            })\n          }\n          </select>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import {createContext} from 'react'\n\nexport const StyleContext = createContext()\n","import React from 'react'\nimport {dateFormat} from './utils'\n\nexport const HistoryList = ({records, title}) => {\n\n  return(\n    <div className=\"historyList\">\n      <h3>{title||\"\"}</h3>\n      <ul>\n      {\n        records?.data?.map((item,index)=>{\n          return(\n            <li key={index}>\n            <p>{item.y}</p>\n            <p>{dateFormat(item.x)}</p>\n            </li>\n          )\n        })\n      }\n      </ul>\n    </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {CanvasJSChart} from 'canvasjs-react-charts'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {StyleContext} from '../../../components/UserStyle/StyleContext'\nimport {HistoryList} from './historyList'\nimport {converHistorys, getOption} from './utils'\n\nexport const History = ({device}) => {\n  const auth = useContext(AuthContext)\n  const {nawstyle} = useContext(StyleContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [history, setHistory] = useState([])\n  const [range, setrange] = useState(\"all\")\n  const [fieldname, setFieldname] = useState(device.fields[0].name)\n  const [field, setField] = useState(null)\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const getHistory = useCallback(async ()=>{\n    let data = await request(`/api/device/history/get/${device.systemName}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    console.log(data);\n    if(data)\n      setHistory(data)\n  },[auth.token, request, device.systemName])\n\n  const filterTime = (data, time)=>{\n    let naw = new Date()\n    let newdata = {...data}\n    if(time===\"year\")\n      newdata.data = data.data.filter((item)=>item.x.getFullYear() === naw.getFullYear())\n    else if(time===\"month\")\n      newdata.data = data.data.filter((item)=>(item.x.getMonth() === naw.getMonth() && item.x.getFullYear() === naw.getFullYear()))\n    else if(time===\"day\")\n      newdata.data = data.data.filter((item)=>(item.x.getDate() === naw.getDate() && item.x.getMonth() === naw.getMonth() && item.x.getFullYear() === naw.getFullYear()))\n    return newdata\n  }\n\n  useEffect(()=>{\n    getHistory()\n  },[getHistory])\n\n  useEffect(()=>{\n    setField(converHistorys(history, fieldname))\n  },[fieldname, history])\n\n  return(\n    <div className=\"historyContainer\">\n      <div className=\"canvasContainer\">\n      {\n        (field?.type === \"binary\" || field?.type === \"number\")?\n        <CanvasJSChart options={getOption(filterTime(field, range), nawstyle)}/>\n        :<HistoryList records={filterTime(field, range)} title={field?.deviceName}/>\n      }\n      </div>\n      <div className=\"menuContainer\">\n        <div className=\"historySetingsContainer\">\n          <div className=\"SetingsBtn\">\n            <div className={(range===\"all\")?\"active\":\"\"} onClick={()=>setrange(\"all\")}>all</div>\n            <div className={(range===\"year\")?\"active\":\"\"} onClick={()=>setrange(\"year\")}>year</div>\n            <div className={(range===\"month\")?\"active\":\"\"} onClick={()=>setrange(\"month\")}>month</div>\n            <div className={(range===\"day\")?\"active\":\"\"} onClick={()=>setrange(\"day\")}>day</div>\n          </div>\n        </div>\n        <div className=\"fieldsList\">\n          <ul>\n            {\n              device?.fields?.map((item, index)=>{\n                return(\n                  <li key={index} className={(fieldname === item.name)?\"active\":\"\"} onClick={()=>setFieldname(item.name)}>\n                    {item.name}\n                  </li>\n                )\n              })\n            }\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React,{useContext, useEffect} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {getValue} from './utils'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const Btn = ({device, item})=>{\n  const auth = useContext(AuthContext)\n  const {request, error, clearError} = useHttp();\n  const {message} = useMessage();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const outValue = async(systemName,name,v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const togleField = (name)=>{\n    let val = device.value[name]\n    outValue(device.systemName, name, (val===\"1\")?0:1)\n  }\n\n  return (\n    <div onClick={()=>togleField(item.name)} className={`dopBlubButton ${(getValue(device,item.name))?\"activ\":\"\"}`}>\n      <i className={item.icon||\"far fa-lightbulb\"}></i>\n    </div>\n  )\n}\n","import React,{useContext, useState, useEffect, useRef} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useMessage} from '../../hooks/message.hook'\nimport {getValue} from './components/utils'\nimport {Slider} from './components/slider'\nimport {Text} from './components/text'\nimport {Enum} from './components/enum'\nimport {History} from './components/history'\nimport {Btn} from './components/btn'\n\nexport const LightPage = ({device})=>{\n  const auth = useContext(AuthContext)\n  const [value,setValue] = useState(false)\n  const blub = useRef(null)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const getBlub = (fields)=>fields?.filter((item)=>(item?.type === \"binary\" && item?.control === true && (item?.name?.toLowerCase()?.indexOf(\"state\") !== -1 || item?.name?.toLowerCase()?.indexOf(\"power\") !== -1)))\n\n  const otherBinary = (fields)=>fields?.filter((item)=>(item?.type === \"binary\" && item?.control === true && item?.name?.toLowerCase()?.indexOf(\"state\") === -1 && item?.name?.toLowerCase()?.indexOf(\"power\") === -1))\n\n  const textcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"text\" && item?.control === true))\n\n  const enumcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"enum\" && item?.control === true))\n\n  const sensors = (fields)=>fields?.filter((item)=>(item?.control === false))\n\n  const generalBlub = (fields)=>{\n    let blubs = getBlub(fields)||[]\n    let blubs2 = blubs.filter((item)=>(item?.name?.toLowerCase()?.indexOf(\"state\") === 0 || item?.name?.toLowerCase()?.indexOf(\"power\") === 0))\n    if(blubs2.length > 0)\n      return blubs2[0]\n    if(blubs.length > 0)\n      return blubs[0]\n    return null\n  }\n\n  const dopBlub = (fields)=>{\n    let blubs = getBlub(fields)\n    let blub = generalBlub(fields)\n    return blubs.filter((item)=>item.name !== blub.name)\n  }\n\n  const ranges = (fields)=>fields.filter((item)=>item.type === \"number\")\n\n  const outValue = async(systemName,name,v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:name,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const togleField = (name)=>{\n    let val = device.value[name]\n    outValue(device.systemName, name, (val===\"1\")?0:1)\n  }\n\n  useEffect(()=>{\n    let d = getValue(device, \"state\")\n    setValue(d)\n  },[device])\n\n  useEffect(()=>{\n    blub.current?.style.setProperty('--blub-on',\"#fff\")\n  },[])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className=\"deviceContainer\">\n      <div className=\"gridDeviceContainer\">\n      <div className=\"top-left\"></div>\n      <div className=\"topContainer top-center\">\n        {\n          [generalBlub(device.fields)]?.map((item,index)=>{\n            if(!item) return (null)\n            return(\n            <div key={index}>\n              <div className=\"blubContainer\">\n                <div onClick={()=>togleField(item.name)} ref={blub} className={`bulb ${(value)?\"on\":\"off\"}`}>\n                  <span></span>\n                  <span></span>\n                </div>\n              </div>\n              <p className=\"nameGeneralBlub\">{item.name}</p>\n            </div>\n            )\n          })\n        }\n      </div>\n      <div className=\"top-right\"></div>\n      {\n        (ranges(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">ranges field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              ranges(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"slider-container\">\n                    <Slider device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (dopBlub(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">blubs</div>\n          <div className=\"containerBlockcontent dopBlubContainer\">\n          {\n            dopBlub(device.fields).map((item, index)=>{\n              return (\n                <Btn device={device} key={index} item={item}/>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (otherBinary(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">switchs</div>\n          <div className=\"containerBlockcontent dopBlubContainer\">\n          {\n            otherBinary(device.fields).map((item, index)=>{\n              return (\n                <Btn device={device} key={index} item={item}/>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (textcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">text field</div>\n          <div className=\"containerBlockcontent\">\n          {\n            textcontrol(device.fields).map((item, index)=>{\n              return (\n                <div key={index} className=\"text-container\">\n                  <Text device={device} item={item}/>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (enumcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">enum field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              enumcontrol(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <Enum device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (sensors(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">sensors field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              sensors(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <div className=\"sensor-container\">\n                      <p className=\"name\">{item.name}</p>\n                      <p className=\"value\">{String(getValue(device,item.name))}</p>\n                    </div>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      </div>\n    <div className=\"HistoryBlock\">\n      <History device={device}/>\n    </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {getValue} from './components/utils'\nimport {Slider} from './components/slider'\nimport {Text} from './components/text'\nimport {Enum} from './components/enum'\nimport {Btn} from './components/btn'\nimport {History} from './components/history'\n\nexport const OtherDevicePage = ({device})=>{\n\n  const binaryControl = (fields)=>fields?.filter((item)=>(item?.type === \"binary\" && item?.control === true))\n\n  const ranges = (fields)=>fields.filter((item)=>(item.type === \"number\" && item?.control === true))\n\n  const textcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"text\" && item?.control === true))\n\n  const enumcontrol = (fields)=>fields?.filter((item)=>(item?.type === \"enum\" && item?.control === true))\n\n  const sensors = (fields)=>fields?.filter((item)=>(item?.control === false))\n\n  return(\n    <div className=\"deviceContainer\">\n      <div className=\"gridDeviceContainer\">\n      {\n        (ranges(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">ranges field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              ranges(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"slider-container\">\n                    <Slider device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (binaryControl(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">switchs</div>\n          <div className=\"containerBlockcontent dopBlubContainer\">\n          {\n            binaryControl(device.fields).map((item, index)=>{\n              return (\n                <Btn device={device} item={item}/>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (textcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">text field</div>\n          <div className=\"containerBlockcontent\">\n          {\n            textcontrol(device.fields).map((item, index)=>{\n              return (\n                <div key={index} className=\"text-container\">\n                  <Text device={device} item={item}/>\n                </div>\n              )\n            })\n          }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (enumcontrol(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">enum field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              enumcontrol(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <Enum device={device} item={item}/>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      {\n        (sensors(device.fields).length !== 0)?\n        <div className=\"containerBlock\">\n          <div className=\"titleBlock\">sensors field</div>\n          <div className=\"containerBlockcontent\">\n            {\n              sensors(device.fields).map((item, index)=>{\n                return (\n                  <div key={index} className=\"text-container\">\n                    <div className=\"sensor-container\">\n                      <p className=\"name\">{item.name}</p>\n                      <p className=\"value\">{String(getValue(device,item.name))}</p>\n                    </div>\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>:\n        null\n      }\n      </div>\n    <div className=\"HistoryBlock\">\n      <History device={device}/>\n    </div>\n    </div>\n  )\n}\n","import React,{useContext, useState, useEffect} from 'react'\nimport {SocketContext} from '../context/SocketContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {useParams} from \"react-router-dom\"\nimport {LightPage} from './ditailPages/lightPage'\nimport {OtherDevicePage} from './ditailPages/otherdevice'\n\nexport const DitailDevicePage = ()=>{\n  const [device,setDevice] = useState(null)\n  const {setData} = useContext(MenuContext)\n  const {devices} = useContext(SocketContext)\n  let {systemName} = useParams()\n\n  useEffect(()=>{\n    if(devices){\n      let newdev = devices.filter(item => (item&&item.systemName===systemName))[0]\n      setDevice(newdev)\n    }\n  },[devices,systemName])\n\n  useEffect(()=>{\n    setData(device?.name)\n  },[setData, device])\n\n  if(!device || device.status !== \"online\" || !device?.value)\n    return(null)\n\n  return(\n    <div className=\"conteiner fon bottom\">\n    {\n      (device?.type === \"light\")?\n      <LightPage device={device}/>\n      :<OtherDevicePage device={device}/>\n    }\n    </div>\n  )\n}\n","import React, {useState,useEffect} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Power = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(value||0)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const clickHandler = event =>{\n    setValue(event.target.checked)\n    if(event.target.checked)\n      outValue(systemName, type, 1)\n    else\n      outValue(systemName, type, 0)\n    setTimeout(function () {\n      if(typeof(updata)==='function')\n        updata()\n    }, 500);\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||type}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\">\n        <label className=\"switch\">\n          <input onChange={clickHandler} name=\"auteStyle\" type=\"checkbox\" checked={newvalue}></input>\n          <span></span>\n          <i className=\"indicator\"></i>\n        </label>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState,useEffect, useRef} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Dimmer = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(0)\n  const delay = useRef(null)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n    setTimeout(function () {\n      if(typeof(updata)==='function')\n        updata()\n    }, 500);\n    if(delay.current){\n      clearTimeout(delay.current)\n    }\n    delay.current = setTimeout(function () {\n      outValue(systemName, type, event.target.value)\n    }, 200);\n  }\n\n  function isColor(text) {\n    return (text.indexOf(\"color\") !== -1)\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||\"level\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n      <div className=\"DeviceControlLiValue\">\n        <p>{newvalue||\"0\"}</p>\n      </div>\n      <div className={`DeviceLiControl ${(isColor(type))?\"allColor\":\"\"}`}>\n        <input type=\"range\" value={newvalue||0} min={conf.min} max={conf.max} onChange={changeHandler} onInput={changeHandler}/>\n      </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState,useEffect} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Mode = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(0)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const clickHandler = event =>{\n    if(newvalue>=conf-1){\n      setValue(0)\n      outValue(systemName, type, 0)\n    }\n    else{\n      outValue(systemName, type, newvalue+1)\n      setValue(newvalue+1)\n    }\n    setTimeout(function () {\n      if(typeof(updata)==='function')\n        updata()\n    }, 500);\n  }\n  if(conf===2){\n    return(\n      <li className=\"DeviceControlLi\">\n        <div className=\"DeviceControlLiName\">\n          <p>{title||type}</p>\n        </div>\n        <div className=\"DeviceControlLiContent\">\n          <div className=\"DeviceLiControl\">\n            <div className=\"custom1-checkbox\">\n              <div className={`custom1-inner ${(newvalue===1)?\"active\":\"\"}`} onClick={clickHandler} >\n                <div className=\"custom1-toggle\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    )\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||\"mode\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n      <div className=\"DeviceControlLiValue\">\n        <p>{newvalue}</p>\n      </div>\n      <div className=\"DeviceLiControl\">\n        <input type=\"button\" value=\"mode\" onClick={clickHandler}/>\n      </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState,useEffect} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Enum = ({updata,title,type,conf,value,systemName, outValue=foo}) =>{\n  const [newvalue, setValue]=useState(0)\n\n  useEffect(()=>{\n    setValue(value)\n  },[value])\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n    outValue(systemName, type, event.target.value)\n  }\n\n  const valuesDecod = (data)=>{\n    let newstr = data.split(\" \").join(\"\")\n    let arr1 = newstr.split(\",\")\n    return arr1\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||type}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\">\n          <select value={newvalue} onChange={changeHandler}>\n          {\n            valuesDecod(conf).map((item,index)=>{\n              return(\n                <option key={index} value={item}>{item}</option>\n              )\n            })\n          }\n          </select>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useState} from 'react'\n\nconst foo = (systemName, type, v)=>{}\n\nexport const Text = ({updata,title,type,conf,value,systemName,outValue=foo}) =>{\n  const [newvalue, setValue]=useState(value)\n\n  const changeHandler = event =>{\n    setValue(event.target.value)\n  }\n\n  const out = ()=>{\n    outValue(systemName, type, newvalue)\n  }\n\n  return(\n    <li className=\"DeviceControlLi\">\n      <div className=\"DeviceControlLiName\">\n        <p>{title||\"text\"}</p>\n      </div>\n      <div className=\"DeviceControlLiContent\">\n        <div className=\"DeviceLiControl\" style={{display: \"flex\",justifyContent: \"flex-end\"}}>\n          <input type=\"text\" onFocus={()=>{}} value={newvalue} onChange={changeHandler}/>\n          <input type=\"button\" onClick={out} value=\"send\"/>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, {useContext,useState,useEffect} from 'react'\nimport {FormContext} from './Form/formContext'\nimport {useHistory} from 'react-router-dom'\nimport {RunText} from './runText'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {Power} from './controlComponents/power'\nimport {Dimmer} from './controlComponents/dimmer'\nimport {Mode} from './controlComponents/mode'\nimport {Enum} from './controlComponents/enum'\nimport {Text} from './controlComponents/text'\nimport {Menu} from './Menu/dopmenu/menu'\n// import {Color} from './newDeviceControlElements/color'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const NewDeviceElement = ({systemName}) =>{\n  const history = useHistory()\n  const {devices, updateDevice} = useContext(SocketContext)\n  const form = useContext(FormContext)\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [device,setDevice] = useState({})\n  const [status,setStatus] = useState(true)\n\n  useEffect(()=>{\n    if(devices){\n      let newdev = devices.filter(item => (item&&item.systemName===systemName))[0]\n      setDevice(newdev)\n      if(newdev)\n      {\n        if (newdev.status === \"unlink\")\n          setStatus(false)\n        else\n          setStatus(true)\n      }\n    }\n  },[devices,systemName])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  if(!device){\n    return null\n  }\n\n  const linc = ()=>{\n    setStatus((prev)=>!prev)\n    request('/api/device/status/set', 'POST', {systemName: device.systemName,status:!status},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const detailDevice = ()=>{\n    if(device?.status === \"online\" && device?.value)\n      history.push(`/devices/ditail/${device.systemName}`)\n  }\n\n  const outValue = async(systemName, type, v)=>{\n    await request('/api/device/value/set', 'POST', {systemName: systemName,type:type,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <div className = {`typeConnect ${device.typeConnect||\"other\"}`}>\n          <p>{device.typeConnect||\"other\"}</p>\n        </div>\n        <RunText onClick={detailDevice} className=\"DeviceName\" id={device.systemName} text={device.name||\"NuN\"}/>\n        {\n          (auth.userLevel >= 3)?\n          <Menu buttons={[\n            {\n              title:\"edit\",\n              onClick:()=>{form.show(\"EditDevices\",updateDevice,device)}\n            },\n            {\n              title:(device.status === \"unlink\")?\"linc\":\"unlink\",\n              onClick:linc\n            }\n          ]}/>\n          :null\n        }\n      </div>\n      <div className=\"dividers\"></div>\n      <div className = \"NewCardBody\">\n        <ul>\n        {\n          (device.status!==\"online\")?\n          <li className=\"DeviceControlLi\"><h4 className=\"offline\">{device.status}</h4></li>\n          :device.fields.map((item,index)=>{\n            if(item.type===\"binary\" && item.control){\n              return <Power outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value&&(String(device.value[item.name])===\"1\"))?true:false} type={item.name}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Dimmer outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?Number(device.value[item.name]):0} type={item.name} title = {item.name} conf={{min:item.low,max:item.high}}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Mode outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?Number(device.value[item.name]):0} type={item.name} conf={Number(item.high)}/>\n            }\n            if(item.type===\"enum\"&& item.control){\n              return <Enum outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?device.value[item.name]:0} type={item.name} conf={item.values}/>\n            }\n            if(item.type===\"text\"&& item.control){\n              return <Text outValue={outValue} key={index} updata = {updateDevice} systemName={device.systemName} value={(device.value)?device.value[item.name]:0} type={item.name} conf={item.values} title={item.name}/>\n            }\n            if(!item.control){\n              return(\n                <li className=\"DeviceControlLi\" key={index}>\n                  <div className=\"DeviceControlLiName\">\n                    <p>{item.name}</p>\n                  </div>\n                  <div className=\"DeviceControlLiContent\">\n                    <div className=\"DeviceControlLiValue\">\n                      <p>{device.value[item.name]}</p>\n                    </div>\n                  </div>\n                </li>\n              )\n            }\n            return null\n          })\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useRef, useCallback} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {NewDeviceElement} from '../components/newDeviceElement'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nexport const DevicesPage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const allDevices = useContext(SocketContext)\n  const {setData} = useContext(MenuContext)\n\n  const [devices, setDevices] = useState([]);\n  const read = useRef(0)\n\n  useEffect(()=>{\n    if(read.current<3){\n      setDevices(allDevices.devices)\n      read.current++\n    }\n  },[allDevices.devices])\n\n  const searchout = useCallback((data)=>{\n    if(data===\"\"){\n      setDevices(allDevices.devices)\n      return\n    }\n    let array = allDevices.devices.filter(item => item&&item.name.toLowerCase().indexOf(data.toLowerCase())!==-1)\n    setDevices(array)\n  },[allDevices.devices])\n\n  useEffect(()=>{\n    setData(\"Device All\",{\n      specialAction:(auth.userLevel >= 3)?{\n        type: \"add\",\n        action:()=>history.push(\"/devices/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, history, searchout, auth.userLevel])\n\n  return(\n      <div className = \"conteiner top bottom\">\n\n        <div className = \"Devices\">\n          {\n            (!devices||devices.length === 0)?\n            <h2 className=\"empty\">Not elements</h2>:\n            <div className = \"CardConteiner\">\n              {\n                devices.map((item,index)=>{\n\n                  if(item)\n                    return(\n                      <NewDeviceElement key = {index} systemName={item.systemName}/>\n                    )\n                  return null\n                })\n              }\n            </div>\n          }\n        </div>\n      </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {NavLink,useLocation} from 'react-router-dom'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {Loader} from '../components/Loader'\n\nexport const ProfilePage = () => {\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const location = useLocation();\n  const [user, setUser] = useState({});\n  const [newuser, setNewuser] = useState({\n    UserName:\"\",\n    UserSurname:\"\",\n    Mobile:\"\",\n    Email:\"\",\n    ImageId:0\n  });\n  const [password, setPassword] = useState({\n    Old:\"\",\n    New:\"\"\n  });\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const updataUser = useCallback(async()=>{\n    const data = await request(`/api/user/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(!data) return;\n    setUser(data);\n    setNewuser({\n      UserName:data.UserName||\"\",\n      UserSurname:data.UserSurname||\"\",\n      Mobile:data.Mobile||\"\",\n      Email:data.Email||\"\",\n      ImageId:data.ImageId||0\n    });\n  },[request,auth.token])\n\n  useEffect(()=>{\n    updataUser()\n  },[updataUser])\n\n  const changeHandler = event => {\n    setNewuser({ ...newuser, [event.target.name]: event.target.value })\n  }\n  const changePassHandler = event => {\n    setPassword({ ...password, [event.target.name]: event.target.value })\n  }\n\n  const outForm = async () =>{\n      const data = await request(`/api/user/edit`, 'POST', newuser,{Authorization: `Bearer ${auth.token}`})\n      if(data === \"ok\"){\n        updataUser()\n      }\n  }\n\n  const outPassForm = async () =>{\n    await request(`/api/user/password/edit`, 'POST', {...password},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  useEffect(()=>{\n    setData(\"Profile\")\n  },[setData])\n\n  return(\n    <div className = \"fullScrinContainer color-normal\">\n        <div className = \"pages\">\n        {\n          (loading)?\n          <Loader/>:\n          <>\n          <div className = {`page ${(location.pathname===\"/profile\")?\"active\":\"\"}`}>\n            <i className=\"fas fa-sign-out-alt logout-btn\" onClick={auth.logout}></i>\n            <div className = \"pagecontent\">\n              <h2>Profile</h2>\n              <p>User Name: {user.UserName}</p>\n              <p>User Surname: {user.UserSurname||\"NuN\"}</p>\n              <p>User Email: {user.Email||\"NuN\"}</p>\n              <p>User Mobile: {user.Mobile||\"NuN\"}</p>\n              <p>User Level: {(user.Level===3)?\"Admin\":(user.Level===2)?\"Mid\":\"Low\"}</p>\n              <div className=\"dividers\"></div>\n              <div className=\"controlElement\">\n                <NavLink to = \"/config\" className=\"normalSelection button\">Client settings</NavLink>\n                <NavLink to = \"/profile/edit\" className=\"normalSelection button\">Edit profile</NavLink>\n                <NavLink to = \"/profile/editPass\" className=\"normalSelection button\">Edit password</NavLink>\n              </div>\n            </div>\n          </div>\n          <div className = {`page ${(location.pathname===\"/profile/edit\")?\"active\":\"\"}`}>\n            <div className = \"pagecontent\">\n            <h2>Profile</h2>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"UserName\" type=\"text\" value={newuser.UserName}></input>\n                <label>Name</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"UserSurname\" type=\"text\" value={newuser.UserSurname}></input>\n                <label>Surname</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"Email\" type=\"email\" value={newuser.Email}></input>\n                <label>Email</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input onChange={changeHandler} required name=\"Mobile\" type=\"tel\" value={newuser.Mobile}></input>\n                <label>Mobile</label>\n              </div>\n            </div>\n            <div className=\"dividers\"></div>\n            <div className=\"configElement block\">\n              <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={outForm}>Save</button>\n            </div>\n            </div>\n          </div>\n          <div className = {`page ${(location.pathname===\"/profile/editPass\")?\"active\":\"\"}`}>\n            <div className = \"pagecontent\">\n              <h2>Change password</h2>\n              <p>Name: {user.UserName}</p>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input onChange={changePassHandler} required name=\"Old\" type=\"password\" value={password.Old}></input>\n                  <label>Old password</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input onChange={changePassHandler} required name=\"New\" type=\"password\" value={password.New}></input>\n                  <label>New password</label>\n                </div>\n              </div>\n              <div className=\"dividers\"></div>\n              <div className=\"configElement block\">\n                <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={outPassForm}>Save</button>\n              </div>\n            </div>\n          </div>\n          </>\n        }\n        </div>\n      </div>\n  )\n}\n","import React,{useContext,useEffect,useState,useCallback} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {UserContext} from '../../../context/UserContext'\nimport {Loader} from '../../Loader'\nimport {StyleIcon} from './castomIcon/styleIcon'\nimport {StyleContext} from '../../UserStyle/StyleContext'\nimport {Menu} from '../../Menu/dopmenu/menu'\nimport {useHistory} from 'react-router-dom'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\n\nexport const UserOption = () =>{\n  const auth = useContext(AuthContext)\n  const config = useContext(UserContext)\n  const history = useHistory()\n  const {styles, updateConfig} = useContext(StyleContext)\n\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [mode , setMode] = useState(false)\n  const [userconf , setUserconf] = useState({\n    auteStyle:config.auteStyle||false,\n    staticBackground:config.staticBackground||false,\n    style:config.Style||\"light\"\n  });\n\n  const updataConf = useCallback(async()=>{\n    if(!config)return;\n    setUserconf({\n      auteStyle:config.auteStyle||false,\n      staticBackground:config.staticBackground||false,\n      style:config.Style||\"light\",\n    })\n  },[config])\n\n  const userConfigHandler = async()=>{\n    await request(`/api/user/config/edit`, 'POST', userconf,{Authorization: `Bearer ${auth.token}`})\n    updateConfig()\n    setTimeout(()=>{\n      updataConf()\n    },500)\n  }\n\n  const deleteStyle = async (event)=>{\n    await request(`/api/style/delete`, 'POST', {name:event.target.dataset.name}, {Authorization: `Bearer ${auth.token}`})\n    updateConfig();\n    setTimeout(()=>{\n      updataConf()\n    },500)\n  }\n  \n  useEffect(()=>{\n    updataConf();\n  },[updataConf])\n\n  const styleHandler = async(event)=>{\n    setUserconf({ ...userconf, style:event.target.dataset.name })\n  }\n\n  const checkedHandler = event => {\n    setUserconf({ ...userconf, [event.target.name]: event.target.checked })\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  if(loading){\n    return <Loader/>\n  }\n  return(\n    <div className = \"pagecontent\">\n      <div className=\"configElement\">\n        <p className=\"switchText\">changing style when changing time of day</p>\n        <label className=\"switch\">\n          <input onChange={checkedHandler} name=\"auteStyle\" type=\"checkbox\" checked={userconf.auteStyle}></input>\n          <span></span>\n          <i className=\"indicator\"></i>\n        </label>\n      </div>\n      <div className=\"configElement\">\n        <p className=\"switchText\">static background</p>\n        <label className=\"switch\">\n          <input onChange={checkedHandler} name=\"staticBackground\" type=\"checkbox\" checked={userconf.staticBackground}></input>\n          <span></span>\n          <i className=\"indicator\"></i>\n        </label>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"configElement block\">\n        <p className=\"switchText\">Style</p>\n        <Menu buttons={[\n          {\n            title:\"create\",\n            onClick:()=>history.push(\"/config/style\")\n          },\n          {\n            title:\"detete\",\n            onClick:()=>setMode(!mode)\n          }\n        ]}/>\n        <div className=\"StyleChoice\">\n          {\n            styles?.map((item, index)=>{\n              return(\n                <div\n                key={index}\n                onClick={(mode && (item.name !== \"light\" && item.name !== \"night\"))?deleteStyle:styleHandler}\n                className={`choiceElement ${(mode && (item.name !== \"light\" && item.name !== \"night\"))?\"deleted\":\"\"} ${(userconf.style===item.name)?\"active\":null}`}\n                data-name={item.name}>\n                  <StyleIcon colors={item}/>\n                  <p className=\"styleName\">{item.name}</p>\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className=\"configElement block\">\n        <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={userConfigHandler}>Save</button>\n      </div>\n    </div>\n)\n}\n","import React,{useContext,useState,useEffect,useCallback} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {Loader} from '../../Loader'\n\nexport const ServerOption = () =>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [serverconf , setServerconf] = useState([]);\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  // const checkedHandler = event => {\n  //   setServerconf({ ...serverconf, [event.target.name]: event.target.checked })\n  // }\n  const changeHandler = (event, module, field) => {\n    let arr = serverconf.slice()\n    for (var item of arr) {\n      if(item.name === module)\n      {\n        for (var item2 of item.fields) {\n          if(item2.name === field)\n          {\n            item2.value = event.target.value\n            setServerconf(arr)\n            return\n          }\n        }\n        return\n      }\n    }\n  }\n\n  const serverConfigHandler = async(event)=>{\n    request(`/api/server/config/edit`, 'POST', {moduleConfig:serverconf},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const updataConf = useCallback(async()=>{\n    const data = await request(`/api/server/config/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(!data)return;\n    let arr = []\n    for (var item of data.moduleConfig) {\n      arr.push(item)\n    }\n    setServerconf(arr)\n  },[request,auth.token])\n\n  useEffect(()=>{\n    updataConf()\n  },[updataConf])\n\n  if(loading){\n    return <Loader/>\n  }\n\n  return(\n    <div className = \"pagecontent\">\n    {\n      serverconf.map((item, index)=>{\n        return(\n          <div key={index}>\n          <div className=\"configTitle\">\n            <p className=\"text\">{item.name}</p>\n          </div>\n          {\n            item?.fields?.map((item2, index2)=>{\n              return(\n                <div key={index2} className=\"configElement\">\n                  <div className=\"input-data\">\n                    <input onChange={(e)=>changeHandler(e, item.name, item2.name)} required name={item2.name} type=\"text\" value={item2.value} disabled = {(!item2)}></input>\n                    <label>{item2.name}</label>\n                  </div>\n                </div>\n              )\n            })\n          }\n          <div className=\"dividers\"></div>\n          </div>\n        )\n      })\n    }\n      <div className=\"configElement block\">\n        <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={serverConfigHandler}>Save</button>\n      </div>\n    </div>\n)\n}\n","import React,{useState,useCallback,useEffect,useContext} from 'react'\nimport {UserContext} from '../../../context/UserContext'\nimport {Link} from 'react-router-dom'\n// import {ImageInput} from '../../moduls/imageInput'\n\nexport const ImgOption = () =>{\n  const config = useContext(UserContext)\n\n  const [userconf , setUserconf] = useState({\n    base:'',\n    sunrise:'',\n    day:'',\n    twilight:'',\n    night:''\n  });\n\n  const updataConf = useCallback(async()=>{\n    if(!config||!config.images)return;\n    let fon = {}\n    for (var item of config.images) {\n      fon = {...fon,[item.type]:item.image}\n    }\n    setUserconf(prev=>{return{...prev,...fon}})\n  },[config])\n\n  useEffect(()=>{\n    updataConf()\n  },[updataConf])\n\n  return(\n    <div className = \"pagecontent\">\n      <div className=\"configElement block\">\n        <h2>Background</h2>\n      </div>\n      <div className=\"configElement block\">\n        <Link to=\"/gallery\" className=\"button normalSelection\">Gallery</Link>\n      </div>\n      <div className=\"configElement img\">\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.base} alt=\"base\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Base</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.sunrise} alt=\"sunrise\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Sunrise</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.day} alt=\"day\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Day</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.twilight} alt=\"twilight\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Twilight</h3>\n            </div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"imgBx\">\n            <img src={userconf.night} alt=\"night\"/>\n          </div>\n          <div className=\"content\">\n            <div>\n              <h3>Night</h3>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n//   return(\n//     <div className=\"configElement img\">\n//       <h3>Background</h3>\n//       <ImageInput id=\"1\" title=\"Base\" name = \"base\" src = {userconf.base}/>\n//       <ImageInput id=\"2\" title=\"Sunrise\" name=\"sunrise\" src = {userconf.sunrise}/>\n//       <ImageInput id=\"3\" title=\"Day\" name=\"day\" src = {userconf.day}/>\n//       <ImageInput id=\"4\" title=\"Twilight\" name=\"twilight\" src = {userconf.twilight}/>\n//       <ImageInput id=\"5\" title=\"Night\" name=\"night\" src = {userconf.night}/>\n//     </div>\n// )\n}\n","import React from 'react'\n\nexport const MenuComponent = ({name, icon,url,use=false,onClick,def=false}) =>{\n\n  return(\n    <div className=\"menu-component-paragraph\">\n      <div className=\"icon\">\n        <i className={icon}></i>\n      </div>\n      <p>{name}</p>\n      <div className=\"menu-component-btn\" >\n        {\n          (!def&&use)?<i className=\"fas fa-times-circle\" style={{color:\"#f00\"}} onClick={()=>onClick(name,icon,url)}></i>\n          :(!def&&!use)?<i className=\"fas fa-plus-circle\" style={{color:\"#0f0\"}} onClick={()=>onClick(name,icon,url)}></i>:\n          null\n        }\n      </div>\n    </div>\n  )\n}\n","import React,{useContext,useEffect,useState,useCallback} from 'react'\nimport {AuthContext} from '../../../context/AuthContext.js'\nimport {UserContext} from '../../../context/UserContext'\nimport {ModalWindow} from '../../modalWindow/modalWindow'\nimport {Loader} from '../../Loader'\nimport {StyleContext} from '../../UserStyle/StyleContext'\nimport {MenuComponent} from './menuOptionComponents/component'\nimport {useHttp} from '../../../hooks/http.hook'\nimport {useMessage} from '../../../hooks/message.hook'\nimport {menuField} from '../../Menu/data.menu.js'\n\nexport const MenuOption = () =>{\n  const auth = useContext(AuthContext)\n  const config = useContext(UserContext)\n  const {updateConfig} = useContext(StyleContext)\n\n  const {message} = useMessage();\n  const [visible,setVisible] = useState(false)\n  const {loading, request, error, clearError} = useHttp();\n  const [useBlock,setUseBlock] = useState([])\n  const [noUseBlock,setNoUseBlock] = useState([])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const configHandler = async(event)=>{\n    await request(`/api/user/menu/edit`, 'POST', useBlock,{Authorization: `Bearer ${auth.token}`})\n    setTimeout(function () {\n      updateConfig()\n    }, 200);\n  }\n\n  const updataConf = useCallback(async()=>{\n    if(!config||!config.MenuElements)return;\n    let newarr = menuField\n    let newarr2 = config.MenuElements\n    for (var item of config.MenuElements) {\n      let y = item\n      newarr = newarr.filter((item2)=>item2.title!==y.title)\n    }\n    setNoUseBlock(newarr)\n    setUseBlock(newarr2)\n  },[config])\n\n  useEffect(()=>{\n  },[config,useBlock])\n\n  useEffect(()=>{\n    updataConf()\n  },[updataConf])\n\n  const addParagraph = (title,icon,url)=>{\n    let usearr = useBlock\n    let nousearr = noUseBlock\n    usearr.push({title,iconClass:icon,url})\n    nousearr = nousearr.filter((item)=>item.title!==title)\n    setNoUseBlock(nousearr)\n    setUseBlock(usearr)\n  }\n\n  const deleteParagraph = (title,icon,url)=>{\n    let usearr = useBlock\n    let nousearr = noUseBlock\n    for (var item of menuField) {\n      if(item.title === title){\n        nousearr.push({title,iconClass:icon,url})\n        usearr = usearr.filter((item)=>item.title!==title)\n        setNoUseBlock(nousearr)\n        setUseBlock(usearr)\n        return\n      }\n    }\n    usearr = usearr.filter((item)=>item.title!==title)\n    setUseBlock(usearr)\n  }\n\n  const addlink=()=>{\n    let title = document.getElementById('titlelink')\n    let icon = document.getElementById('titleicon')\n    let url = document.getElementById('titleurl')\n    addParagraph(title.value,icon.value,url.value)\n    setVisible(false)\n  }\n\n  if(loading){\n    return <Loader/>\n  }\n\n  return(\n    <>\n    {\n      (visible)?\n      <ModalWindow moving={false} hide={()=>setVisible(false)} title=\"add\" zindex={6} className=\"createLinkWindow\">\n        <div className=\"createLink\">\n          <div className=\"configElement\">\n            <div className=\"input-data\">\n              <input required id=\"titlelink\" type = \"text\" name = \"title\"/>\n              <label>title</label>\n            </div>\n          </div>\n          <div className=\"configElement\">\n            <div className=\"input-data\">\n              <input required id=\"titleicon\" type = \"text\" name = \"icon\"/>\n              <label>icon</label>\n            </div>\n          </div>\n          <div className=\"configElement\">\n            <div className=\"input-data\">\n              <input required id=\"titleurl\" type = \"text\" name = \"url\"/>\n              <label>title</label>\n            </div>\n          </div>\n          <div className=\"configElement\">\n            <button className=\"normalSelection button\" onClick={addlink}>Save</button>\n          </div>\n        </div>\n      </ModalWindow>\n      :null\n    }\n    <div className = \"pagecontent\">\n      <div className=\"configElement\">\n        <MenuComponent name=\"Home\" icon=\"fas fa-home\" def={true}/>\n      </div>\n      <div className=\"configElement\">\n        <MenuComponent name=\"Devices\" icon=\"fas fa-plug\" def={true}/>\n      </div>\n      <div className=\"configElement\">\n        <MenuComponent name=\"Setings\" icon=\"fas fa-cogs\" def={true}/>\n      </div>\n        {\n          useBlock.map((item,index)=>{\n            return(\n              <div key={index} className=\"configElement\">\n              <MenuComponent key={index} name={item.title} url={item.url} icon={item.iconClass} onClick={deleteParagraph} use={true}/>\n              </div>\n            )\n          })\n        }\n        <div className=\"configElement\">\n\n        <div className=\"menu-component-paragraph\" onClick={()=>setVisible(true)}>\n          <p>Создать ссылку</p>\n          <div className=\"menu-component-btn\">\n            <i className=\"fas fa-plus-circle\" style={{color:\"#aaa\"}}></i>\n          </div>\n        </div>\n        </div>\n        <div className=\"dividers\"></div>\n        {\n          noUseBlock.map((item,index)=>{\n            return(\n              <div key={index} className=\"configElement\">\n                <MenuComponent key={index} name={item.title} url={item.url} onClick={addParagraph} icon={item.iconClass}/>\n              </div>\n            )\n          })\n        }\n      <div className=\"dividers\"></div>\n      <div className=\"configElement block\">\n        <button style={{width: \"100%\"}} className=\"normalSelection button\" onClick={configHandler}>Save</button>\n      </div>\n    </div>\n    </>\n)\n}\n","import React, {useContext,useEffect} from 'react'\nimport {useLocation, useHistory} from 'react-router-dom'\nimport {UserOption} from '../components/pages/optionPages/userOption'\nimport {ServerOption} from '../components/pages/optionPages/serverOption'\nimport {ImgOption} from '../components/pages/optionPages/imgOption'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {MenuOption} from '../components/pages/optionPages/menuOption'\n\nexport const OptionsPage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const location = useLocation();\n\n  useEffect(()=>{\n    let buttons = [\n      {\n        title:\"user\",\n        action:()=>history.push(\"/config\"),\n        active:(location.pathname===\"/config\")\n      },\n      {\n        title:\"image\",\n        action:()=>history.push(\"/config/image\"),\n        active:(location.pathname===\"/config/image\")\n      },\n      {\n        title:\"menu\",\n        action:()=>history.push(\"/config/menu\"),\n        active:(location.pathname===\"/config/menu\")\n      }\n    ]\n    if(auth.userLevel >= 3)\n      buttons.push({\n        title:\"server\",\n        action:()=>history.push(\"/config/server\"),\n        active:(location.pathname===\"/config/server\")\n      })\n    setData(\"Setings\",{\n      buttons:buttons\n    })\n  },[setData,location.pathname, history, auth.userLevel])\n\n  return(\n    <div className = \"fullScrinContainer color-normal page-whith-tabs\">\n      <div className = \"pages\">\n        <div className = {`page ${(location.pathname===\"/config\")?\"active\":\"\"}`}>\n          <UserOption/>\n        </div>\n        <div className = {`page ${(location.pathname===\"/config/server\")?\"active\":\"\"}`}>\n          <ServerOption/>\n        </div>\n        <div className = {`page ${(location.pathname===\"/config/image\")?\"active\":\"\"}`}>\n          <ImgOption/>\n        </div>\n        <div className = {`page ${(location.pathname===\"/config/menu\")?\"active\":\"\"}`}>\n          <MenuOption/>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\n\nexport const ScriptElement = ({script,updata})=>{\n  const history = useHistory()\n  const [status, setStatus] = useState(script.status)\n  const {message} = useMessage();\n  const {show, hide} = useContext(DialogWindowContext)\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n\n  useEffect(()=>{\n    setStatus(script.status)\n  },[script, auth.userLevel])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const deleteScript = async()=>{\n    show(\"alert\",{\n      title:\"Delete script\",\n      text:`delete ${script.name}?`,\n      buttons:[\n        {\n          title:\"ok\",\n          action:async()=>{\n            await request(`/api/script/delete?name=${script.name}`, 'GET',null ,{Authorization: `Bearer ${auth.token}`})\n            updata()\n            hide()\n          }\n        },\n        {\n          title:\"cancel\",\n          action:hide\n        },\n      ]\n    })\n  }\n\n  const runScript = async()=>{\n    await request(`/api/script/run?name=${script.name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const checkedHandler = async event => {\n    setStatus((prev)=>!prev)\n    await request('/api/script/status/set', 'POST', {name:script.name,status:!status},{Authorization: `Bearer ${auth.token}`})\n    if(typeof(updata)===\"function\")\n    setTimeout(function () {\n      updata()\n    }, 600);\n  }\n\n  return(\n    <div className=\"scriptElement\">\n      <p>{script.name}</p>\n      <div className=\"scriptStatus\">\n        <button onClick={runScript} className=\"activateBtn\">activate</button>\n        {\n          (auth.userLevel >= 3)?\n          <button onClick={()=>history.push(`/scripts/edit/${script.name}`)} className=\"showBtn\">edit</button>\n          :null\n        }\n        <div className=\"switchConteiner\">\n        <p className=\"switchText\">{(status)?\"auto\":\"manual\"}</p>\n        {\n          (script.trigger&&script.trigger[0]&&auth.userLevel >= 3)?\n          <label className=\"switch\">\n            <input onChange={checkedHandler} name=\"auteStyle\" type=\"checkbox\" checked={(status)}></input>\n            <span></span>\n            <i className=\"indicator\"></i>\n          </label>\n          :null\n        }\n        </div>\n        {\n          (auth.userLevel >= 3)?\n          <button onClick={deleteScript} className=\"deleteBtn\"><i className=\"fas fa-trash\"></i></button>\n          :null\n        }\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useEffect,useCallback,useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {Loader} from '../components/Loader'\nimport {ScriptElement} from '../components/scriptCarts/scriptElement'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nexport const ScriptsPage = () => {\n  const [scripts, setScripts] = useState([])\n  const history = useHistory()\n  const [allScripts, setAllScripts] = useState([])\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {message} = useMessage();\n  const {loading,request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const updataScripts = useCallback(async()=>{\n    const data = await request('/api/script/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setScripts(data);\n    setAllScripts(data)\n  },[request,auth.token])\n\n  const searchout = useCallback((search)=>{\n    if(search===\"\"){\n      setScripts(allScripts)\n      return\n    }\n    let array = allScripts.filter(item => item.name.indexOf(search)!==-1)\n    setScripts(array)\n  },[allScripts])\n\n  useEffect(()=>{\n    setData(\"Scripts All\",{\n      specialAction:(auth.userLevel >= 3 && window.screen.width > 700)?{\n        type: \"add\",\n        action:()=>history.push(\"/scripts/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, searchout, history, auth.userLevel])\n\n  useEffect(()=>{\n    updataScripts()\n  },[updataScripts])\n\n  return(\n    <>\n      <div className = \"conteiner top bottom\">\n        <div className = \"Scripts\">\n          <div className=\"scriptsList\">\n            {\n              (loading)?\n              <Loader/>:\n              (scripts&&scripts[0])?\n              scripts.map((item,index)=>{\n                return(\n                  <ScriptElement key={index} script={item} updata={updataScripts}/>\n                )\n              }):\n              <h2 className=\"empty\">Not elements</h2>\n            }\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React,{useState,useEffect,useContext,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\n\nexport const ValueDeviceBlock = ({data,updata,index,type,deleteEl,block})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return devices.filter((item)=>item.systemName===id)[0]\n  },[devices])\n\n  const lookForField = (device,name)=>{\n    return device.fields.filter((item)=>item.name===name)[0]\n  }\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = event=>{\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n    updata({index,action:event.target.value})\n  }\n\n  const filtredOption = (options)=>options.filter((item)=>(\n    (type===\"number\"&&(item.type===\"number\"||item.type===\"binary\"))||\n    (type===\"binary\"&&item.type===\"binary\")||\n    (type===\"text\")||\n    (type===\"enum\"&&item.type===\"enum\")||\n    (!type)\n  ))\n\n  if(Object.keys(device).length === 0 || Object.keys(field).length === 0){\n    return null\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"property\">\n          {\n            filtredOption(device.fields).map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index,block)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const TextBlock = ({data,updata,block,deleteEl})=>{\n  const [value,setValue] = useState(data.value??\"\")\n  const [delay, setDelay] = useState()\n\n  const changeHandler = event=>{\n    clearTimeout(delay)\n    setValue(event.target.value)\n    setDelay(setTimeout(function () {\n      updata({action:event.target.value})\n    }, 2000))\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        value\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <input type=\"text\" onChange={changeHandler} value={value}/>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\nexport const NumberBlock = ({data,updata,block,deleteEl})=>{\n  const [value,setValue] = useState(Number(data.value)??0)\n  const [delay, setDelay] = useState()\n\n  const changeHandler = event=>{\n    clearTimeout(delay)\n    setValue(event.target.value)\n    setDelay(setTimeout(function () {\n      updata({action:event.target.value})\n    }, 2000))\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        value\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <input type=\"number\" onChange={changeHandler} value={value}/>\n      </div>\n      {\n        (deleteEl)?\n        <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n          <i className=\"fas fa-trash\"></i>\n        </div>\n        :null\n      }\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const EnumBlock = ({data,updata,block,deleteEl,values=[]})=>{\n  const [value,setValue] = useState(data.value)\n\n  const changeHandler = event=>{\n    setValue(event.target.value)\n    updata({action:event.target.value})\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        value\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select onChange={changeHandler} value={value}>\n        {\n          values.map((item,index)=>{\n            return(\n              <option key={index} value={item}>{item}</option>\n            )\n          })\n        }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext} from 'react'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {NumberBlock} from './numberBlock'\n\nexport const MathBlock = ({data,updata,block,deleteEl})=>{\n  const [type,setType] = useState(data.action??\"+\")\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n\n\n  const changeSelector = event=>{\n    let element = data\n    setType(event.target.value)\n    element={...element,action:event.target.value}\n    updata(element)\n  }\n\n  const addvalue = (v)=>{\n    typeValue(\"addValue\",{type:\"number\"},(typeValue,deviceData)=>{\n      let element = data\n      if(typeValue===\"DeviceValue\"){\n        deviceBlock((deviceData)=>{\n          element = {...element, [v]:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n          updata(element)\n          return\n        }, \"if\", \"number\")\n      }\n      if(typeValue===\"Text\")\n        element = {...element, [v]:{type:\"text\",value:\"\"}}\n      if(typeValue===\"Number\")\n        element = {...element, [v]:{type:\"number\",value:0}}\n      if(typeValue===\"Math\")\n        element = {...element, [v]:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n      updata(element)\n    })\n  }\n\n  const updataValue = (data1,v)=>{\n    let element = data\n    let val = element[v]\n    if(data[v].type===\"device\")\n      val = {...val, action:data1.action}\n    if(data[v].type===\"text\")\n      val = {...val, value:data1.action}\n    if(data[v].type===\"number\")\n      val = {...val, value:data1.action}\n    if(data[v].type===\"enum\")\n      val = {...val, value:data1.action}\n    if(data[v].type===\"math\")\n      val = data1\n    element[v] = val\n    updata(element)\n  }\n\n  const deleteValue = (v)=>{\n    let element = {...data, [v]:null}\n    updata(element)\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value1)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue(\"value1\")}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value1.type===\"device\")?\n        <ValueDeviceBlock data={data.value1} type=\"number\" updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        (data.value1.type===\"text\")?\n        <TextBlock data={data.value1} updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        (data.value1.type===\"number\")?\n        <NumberBlock data={data.value1} updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        (data.value1.type===\"math\")?\n        <MathBlock data={data.value1} updata={(d)=>updataValue(d,\"value1\")} deleteEl={()=>deleteValue(\"value1\")}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={type} onChange={changeSelector} name=\"property\">\n          <option value=\"+\">+</option>\n          <option value=\"-\">-</option>\n          <option value=\"*\">*</option>\n          <option value=\"/\">/</option>\n        </select>\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value2)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue(\"value2\")}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value2.type===\"device\")?\n        <ValueDeviceBlock data={data.value2} type=\"number\" updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        (data.value2.type===\"text\")?\n        <TextBlock data={data.value2} updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        (data.value2.type===\"number\")?\n        <NumberBlock data={data.value2} updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        (data.value2.type===\"math\")?\n        <MathBlock data={data.value2} updata={(d)=>updataValue(d,\"value2\")} deleteEl={()=>deleteValue(\"value2\")}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl()}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {NumberBlock} from './numberBlock'\nimport {EnumBlock} from './enumBlock'\nimport {MathBlock} from './mathBlock'\n// import {ifClass} from '../../../myClass.js'\n\nexport const IfBlock = ({idDevice,updata,index,data,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n  const [action,setAction] = useState(data.oper??\"==\")\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return devices.filter((item)=>item.systemName===id)[0]\n  },[devices])\n\n  const lookForField = (device,name)=>{\n    return device.fields.filter((item)=>item.name===name)[0]\n  }\n\n  const valuesDecod = (data)=> data.split(\" \").join(\"\").split(\",\")\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = (event)=>{\n    let element = {...data, [event.target.name]:event.target.value}\n    if(event.target.name===\"action\")\n      setField(lookForField(lookForDeviceById(data.systemName),element.action))\n    if(event.target.name===\"oper\")\n      setAction(element.oper)\n    updata(element,index)\n  }\n\n  const addvalue = ()=>{\n    typeValue(\"addValue\",{type:field.type},(typeValue)=>{\n      let element = data\n      if(typeValue===\"DeviceValue\"){\n        deviceBlock((deviceData)=>{\n          element = {...element, value:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n          updata(element,index)\n          return\n        }, \"if\", field.type)\n      }\n      if(typeValue===\"Text\")\n        element = {...element, value:{type:\"text\",value:\"\"}}\n      if(typeValue===\"Number\")\n        element = {...element, value:{type:\"number\",value:0}}\n      if(typeValue===\"Math\")\n        element = {...element, value:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n      if(typeValue===\"Enum\"&&field.type===\"binary\")\n        element = {...element, value:{type:\"enum\",value:\"low\"}}\n      if(typeValue===\"Enum\"&&field.type===\"enum\")\n        element = {...element, value:{type:\"enum\",value:valuesDecod(field.values)[0]}}\n      updata(element,index)\n    })\n  }\n\nconst updataValue = (data1)=>{\n  let element = data\n  let val = element.value\n  if(data.value.type===\"device\")\n    val = {...val, action:data1.action}\n  if(data.value.type===\"text\")\n    val = {...val, value:data1.action}\n  if(data.value.type===\"number\")\n    val = {...val, value:data1.action}\n  if(data.value.type===\"enum\")\n    val = {...val, value:data1.action}\n  if(data.value.type===\"math\")\n    val = data1\n  element.value = val\n  updata(element,index)\n}\n\nconst deleteValue = ()=>{\n  let element = {...data, value:null}\n  updata(element,index)\n}\n\nif(Object.keys(device)?.length === 0 || Object.keys(field)?.length === 0){\n  return null\n}\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"action\">\n          {\n            device.fields.map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item\">\n      <select value={action} onChange={changeSelector} name=\"oper\">\n        <option value=\"==\">==</option>\n        <option value=\"!=\">!=</option>\n        {\n          (field.type===\"number\")?\n          <>\n            <option value=\">=\">{\">=\"}</option>\n            <option value=\"<=\">{\"<=\"}</option>\n            <option value=\">\">{\">\"}</option>\n            <option value=\"<\">{\"<\"}</option>\n          </>:null\n        }\n      </select>\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value)?\n        <div className=\"programm-function-block-content-item add\" onClick={addvalue}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value.type===\"device\")?\n        <ValueDeviceBlock data={data.value} type={field.type} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"text\")?\n        <TextBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"number\")?\n        <NumberBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"math\")?\n        <MathBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"enum\")?\n        <EnumBlock data={data.value} values={valuesDecod(field.values)} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"binary\")?\n        <EnumBlock data={data.value} values={[\"high\",\"low\"]} updata={updataValue} deleteEl={deleteValue}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext} from 'react'\nimport {IfBlock} from './ifBlock'\nimport {AddScriptContext} from '../addScript/addScriptContext'\n// import {ifClass,groupIfClass} from '../../../myClass.js'\n\nexport const GroupBlock = ({index,type,children,data,updata,deleteEl})=>{\nconst {deviceBlock,typeIf} = useContext(AddScriptContext)\nconst [blockData/*, setData*/] = useState(data)\n\n// {type:\"group\" ,oper:\"and\",children:[],idDevice:null,action:null,value:null}\n\nconst addEl = ()=>{\n  typeIf((typeblock)=>{\n    if(typeblock===\"groupBlockAnd\"){\n      let element = blockData\n      element.children.push({type:\"group\" ,oper:\"and\",children:[],systemName:null,action:null,value:null})\n      updata(element,index)\n    }\n    else if(typeblock===\"groupBlockOr\"){\n      let element = blockData\n      element.children.push({type:\"group\" ,oper:\"or\",children:[],systemName:null,action:null,value:null})\n      updata(element,index)\n    }\n    else if(typeblock===\"deviceBlock\"){\n      deviceBlock((dataDev)=>{\n        let element = blockData\n        let act = dataDev.fields[0].name\n        element.children.push({type:\"device\" ,oper:\"==\",systemName:dataDev.systemName,action:act,value:\"\"})\n        updata(element,index)\n      },\"if\")\n    }\n  })\n}\n\nconst devEl = (indexel)=>{\n  let elements = blockData\n  elements.children = elements.children.filter((_,index2)=>index2!==indexel)\n  updata(elements,index)\n}\n\nconst reqUpdata = (elementData,indexel)=>{\n  let elements = blockData\n  elements.children[indexel] = elementData\n  updata(elements,index)\n}\n\n  return(\n    <div className=\"groupBlock\">\n      <div className=\"groupBlockTop\">\n        <p className=\"textBlock\">{`start of block ${type}`}</p>\n        <div className=\"addBlock\" onClick={addEl}>\n          <i className=\"fas fa-plus\"></i>\n        </div>\n        {\n          (typeof(deleteEl)===\"function\")?\n          <div className=\"deleteBlock\" onClick={()=>deleteEl(index)}>\n            <i className=\"fas fa-trash\"></i>\n          </div>:\n          null\n        }\n      </div>\n      <div className=\"groupBlockConteiner\">\n      {\n        (blockData)?\n          blockData.children.map((item,index1)=>{\n            if(item.type===\"group\"){\n              return <GroupBlock index={index1} deleteEl={devEl} updata={reqUpdata} key={index1} type={item.oper} data={item}/>\n            }\n            return <IfBlock key={index1} data={item} deleteEl={devEl} index={index1} updata={reqUpdata} idDevice={item.systemName}/>\n          })\n        :null\n      }\n      </div>\n      <div className=\"groupBlockBottom\">\n        <p className=\"textBlock\">end block</p>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {EnumBlock} from './enumBlock'\nimport {NumberBlock} from './numberBlock'\nimport {MathBlock} from './mathBlock'\n\nexport const ActBlock = ({updata,index,data,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return devices.filter((item)=>item.systemName===id)[0]\n  },[devices])\n\n  const lookForField = (device,name)=>{\n    return device?.fields?.filter((item)=>item.name===name)[0]\n  }\n\n  const valuesDecod = (data)=> data.split(\" \").join(\"\").split(\",\")\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = (event)=>{\n    let element = {...data, [event.target.name]:event.target.value}\n    if(event.target.name===\"action\")\n      setField(lookForField(lookForDeviceById(data.systemName),element.action))\n    updata({...element,index})\n  }\n\n  const updataValue = (data1)=>{\n    let element = data\n    let val = element.value\n    if(data.value.type===\"device\")\n      val = {...val, action:data1.action}\n    if(data.value.type===\"text\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"number\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"enum\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"math\")\n      val = data1\n    element.value = val\n    updata({...element,index})\n  }\n\n\nconst addvalue = ()=>{\n  typeValue(\"addValue\",{type:field.type},(typeValue)=>{\n    let element = data\n    if(typeValue===\"DeviceValue\"){\n      deviceBlock((deviceData)=>{\n        element = {...element, value:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n        updata(element,index)\n        return\n      }, \"if\", field.type)\n    }\n    if(typeValue===\"Text\")\n      element = {...element, value:{type:\"text\",value:\"\"}}\n    if(typeValue===\"Number\")\n      element = {...element, value:{type:\"number\",value:0}}\n    if(typeValue===\"Math\")\n      element = {...element, value:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n    if(typeValue===\"Enum\"&&field.type===\"binary\")\n      element = {...element, value:{type:\"enum\",value:\"low\"}}\n    if(typeValue===\"Enum\"&&field.type===\"enum\")\n      element = {...element, value:{type:\"enum\",value:valuesDecod(field.values)[0]}}\n    updata({...element,index})\n  })\n}\n\nconst deleteValue = ()=>{\n  let element = {...data, value:null}\n  updata({...element,index})\n}\n\nif(Object?.keys(device||\"\")?.length === 0 || Object?.keys(field||\"\")?.length === 0){\n  return null\n}\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"action\">\n          {\n            device.fields.map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item\">\n      ==\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue()}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value.type===\"device\")?\n        <ValueDeviceBlock data={data.value} type={field.type} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"text\")?\n        <TextBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"number\")?\n        <NumberBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"math\")?\n        <MathBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"enum\")?\n        <EnumBlock data={data.value} values={valuesDecod(field.values)} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"binary\")?\n        <EnumBlock data={data.value} values={[\"high\",\"low\",\"togle\"]} updata={updataValue} deleteEl={deleteValue}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {GroupsContext} from '../Groups/groupsContext'\nimport {AddScriptContext} from '../addScript/addScriptContext'\nimport {ValueDeviceBlock} from './valueDeviceBlock'\nimport {TextBlock} from './textBlock'\nimport {EnumBlock} from './enumBlock'\nimport {NumberBlock} from './numberBlock'\nimport {MathBlock} from './mathBlock'\n\nexport const ActGroup = ({updata,index,data,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {groups} = useContext(GroupsContext)\n  const {deviceBlock,typeValue} = useContext(AddScriptContext)\n  const [field,setField] = useState({})\n\n  const lookForDeviceById = useCallback((id)=>{\n    return groups.filter((item)=>item.systemName===id)[0]\n  },[groups])\n\n  const lookForField = (device,name)=>{\n    return device?.fields?.filter((item)=>item.name===name)[0]\n  }\n\n  const valuesDecod = (data)=> data.split(\" \").join(\"\").split(\",\")\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(data.systemName))\n    setField(lookForField(lookForDeviceById(data.systemName),data.action))\n  },[lookForDeviceById,data])\n\n  const changeSelector = (event)=>{\n    let element = {...data, [event.target.name]:event.target.value}\n    if(event.target.name===\"action\")\n      setField(lookForField(lookForDeviceById(data.systemName),element.action))\n    updata({...element,index})\n  }\n\n  const updataValue = (data1)=>{\n    let element = data\n    let val = element.value\n    if(data.value.type===\"device\")\n      val = {...val, action:data1.action}\n    if(data.value.type===\"text\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"number\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"enum\")\n      val = {...val, value:data1.action}\n    if(data.value.type===\"math\")\n      val = data1\n    element.value = val\n    updata({...element,index})\n  }\n\n\nconst addvalue = ()=>{\n  typeValue(\"addValue\",{type:field.type},(typeValue)=>{\n    let element = data\n    if(typeValue===\"DeviceValue\"){\n      deviceBlock((deviceData)=>{\n        element = {...element, value:{type:\"device\",systemName:deviceData.systemName,action:deviceData.fields[0].name}}\n        updata(element,index)\n        return\n      }, \"if\", field.type)\n    }\n    if(typeValue===\"Text\")\n      element = {...element, value:{type:\"text\",value:\"\"}}\n    if(typeValue===\"Number\")\n      element = {...element, value:{type:\"number\",value:0}}\n    if(typeValue===\"Math\")\n      element = {...element, value:{type:\"math\",value1:null,value2:null,action:\"+\"}}\n    if(typeValue===\"Enum\"&&field.type===\"binary\")\n      element = {...element, value:{type:\"enum\",value:\"low\"}}\n    if(typeValue===\"Enum\"&&field.type===\"enum\")\n      element = {...element, value:{type:\"enum\",value:valuesDecod(field.values)[0]}}\n    updata({...element,index})\n  })\n}\n\nconst deleteValue = ()=>{\n  let element = {...data, value:null}\n  updata({...element,index})\n}\n\nif(Object?.keys(device||\"\")?.length === 0 || Object?.keys(field||\"\")?.length === 0){\n  return null\n}\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={field.name} onChange={changeSelector} name=\"action\">\n          {\n            device.fields.map((item,index)=>{\n              return(\n                <option key={index} value={item.name}>{item.name}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item\">\n      ==\n      </div>\n      <div className=\"programm-function-block-conteiner-item\">\n      {\n        (!data.value)?\n        <div className=\"programm-function-block-content-item add\" onClick={()=>{addvalue()}}>\n          <i className=\"fas fa-plus\"></i>\n        </div>:\n        (data.value.type===\"device\")?\n        <ValueDeviceBlock data={data.value} type={field.type} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"text\")?\n        <TextBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"number\")?\n        <NumberBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"math\")?\n        <MathBlock data={data.value} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"enum\")?\n        <EnumBlock data={data.value} values={valuesDecod(field.values)} updata={updataValue} deleteEl={deleteValue}/>:\n        (data.value.type===\"enum\"&&field.type===\"binary\")?\n        <EnumBlock data={data.value} values={[\"high\",\"low\"]} updata={updataValue} deleteEl={deleteValue}/>:\n        null\n      }\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const ActScript = ({updata,index,data,deleteEl})=>{\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        script: {data.systemName}\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useEffect,useContext,useCallback} from 'react'\nimport {SocketContext} from '../../context/SocketContext'\n\nexport const TriggerBlock = ({deviceId,action,updata,index,el,block,deleteEl})=>{\n  const [device, setDevice]=useState({})\n  const {devices} = useContext(SocketContext)\n  const [type,setType] = useState(action??\"all\")\n  const [allTypes,setAllTypes] = useState([])\n\n  const lookForDeviceById = useCallback((id)=>{\n    let condidat = devices.filter((item)=>item.systemName===id)\n    condidat = condidat[0]\n    let array = []\n    if(condidat){\n      for (var item of condidat.fields) {\n        if(item.name){\n          array.push(item.name)\n        }\n      }\n    }\n    setAllTypes(array)\n    return condidat;\n  },[devices])\n\n  useEffect(()=>{\n    setDevice(lookForDeviceById(deviceId))\n  },[lookForDeviceById,deviceId])\n\n  const changeSelector = event=>{\n    setType(event.target.value)\n    updata({index,action:event.target.value})\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        {(device)?device.name:\"Name\"}\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={type} onChange={changeSelector} name=\"property\">\n          <option value=\"all\">all</option>\n          {\n            allTypes.map((item,index)=>{\n              return(\n                <option key={index} value={item}>{item}</option>\n              )\n            })\n          }\n        </select>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index,block)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const TriggerDateTime = ({deviceId,action,updata,index,el,block,deleteEl})=>{\n  const [frequency, setFrequency] = useState(action?.frequency||\"everyday\")\n  const [time, setTime] = useState(action?.time||null)\n  const [date, setDate] = useState(action?.date||1)\n\n  const change = (event)=>{\n    if(event.target.name === \"frequency\")\n    {\n      setFrequency(event.target.value)\n      updata({index,action:{\n        frequency:event.target.value,\n        time,\n        date\n      }})\n    }\n    if(event.target.name === \"time\")\n    {\n      setTime(event.target.value)\n      updata({index,action:{\n        frequency,\n        time:event.target.value,\n        date\n      }})\n    }\n    if(event.target.name === \"date\")\n    {\n      setDate(event.target.value)\n      updata({index,action:{\n        frequency,\n        time,\n        date:event.target.value\n      }})\n    }\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        datetime\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <select value={frequency} onChange={change} name=\"frequency\">\n            <option value=\"everyday\">everyday</option>\n            <option value=\"everyhour\">every hour</option>\n            <option value=\"everyweek\">every week</option>\n            <option value=\"everymonth\">every month</option>\n        </select>\n      </div>\n      {\n        (frequency===\"everyday\")?\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"time\" name=\"time\" value={time} onChange={change}/>\n        </div>:\n        (frequency===\"everymonth\")?\n        <>\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"number\" name=\"date\" min={1} max={31} value={date} onChange={change}/>\n        </div>\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"time\" name=\"time\" value={time} onChange={change}/>\n        </div>\n        </>:\n        (frequency===\"everyweek\")?\n        <>\n        <div className=\"programm-function-block-content-item\">\n          <select value={date} onChange={change} name=\"date\">\n            <option value={1}>Monday</option>\n            <option value={2}>Tuesday</option>\n            <option value={3}>Wednesday</option>\n            <option value={4}>Thursday</option>\n            <option value={5}>Friday</option>\n            <option value={6}>Saturday</option>\n            <option value={7}>Sunday</option>\n          </select>\n        </div>\n        <div className=\"programm-function-block-content-item\">\n          <input type=\"time\" name=\"time\" value={time} onChange={change}/>\n        </div>\n        </>:null\n      }\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index,block)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const DelayBlock = ({updata,index,data,deleteEl})=>{\n\n  const changeHandler = (event)=>{\n    let element = data\n    let val = element.value\n    val = {...val, value:event.target.value}\n    element.value = val\n    updata({...element,index})\n  }\n\n  return(\n    <div className=\"programm-function-block-root\">\n      <div className=\"programm-function-block-content-item programm-function-block-name\">\n        Delay\n      </div>\n      <div className=\"programm-function-block-content-item\">\n        <input type=\"number\" onChange={changeHandler} value={data.value.value}/>\n      </div>\n      <div className=\"programm-function-block-content-item delete\" onClick={()=>{deleteEl(index)}}>\n        <i className=\"fas fa-trash\"></i>\n      </div>\n    </div>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {useChecked} from '../hooks/checked.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {GroupBlock} from '../components/programmBlock/groupBlock'\nimport {ActBlock} from '../components/programmBlock/actBlock'\nimport {ActGroup} from '../components/programmBlock/actGroup'\nimport {ActScript} from '../components/programmBlock/actScript'\nimport {TriggerBlock} from '../components/programmBlock/triggerBlock'\nimport {TriggerDateTime} from '../components/programmBlock/triggerDateTime'\nimport {Loader} from '../components/Loader'\nimport {AddScriptContext} from '../components/addScript/addScriptContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {DelayBlock} from '../components/programmBlock/delayBlock'\nimport {useHistory,useParams} from 'react-router-dom'\n\nexport const NewScriptsPage = ({edit}) => {\n  let {id} = useParams();\n  const {setData} = useContext(MenuContext)\n  const history = useHistory()\n  const {USText} = useChecked()\n  const auth = useContext(AuthContext)\n  const {addTarget,typeAct,deviceBlock,groupBlock,addScriptBlock} = useContext(AddScriptContext)\n  const {message} = useMessage();\n  const {loading,request, error, clearError} = useHttp();\n  const[cost, setCost]=useState(true)\n  const[script, setScript]=useState({\n    name:\"\",\n    trigger:[],\n    condition:{type:\"group\" ,oper:\"and\",children:[],systemName:null,action:null,value:null},\n    then:[],\n    otherwise:[]\n  })\n\n  const addTrigger = ()=>{\n    addTarget((dataDev)=>{\n      if(dataDev.type === \"datetime\")\n      {\n        let mas = script;\n        mas.trigger.push({type:\"datetime\",action:{frequency:\"everyday\", time:\"00:00:00\"}})\n        setScript(mas)\n        return\n      }\n      if(!dataDev||!dataDev.systemName)\n        return\n      let mas = script;\n      mas.trigger.push({type:\"device\",action:\"all\",systemName:dataDev.systemName})\n      setScript(mas)\n    })\n  }\n\n  const deleteTrigger = (index)=>{\n    if(!script||!script.trigger)\n      return\n    let mas = script;\n    mas.trigger = mas.trigger.filter((_,i)=>i!==index)\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  const addActBlock = (type)=>{\n    typeAct((typeAct)=>{\n      setTimeout(function () {\n        if(typeAct===\"device\"){\n          deviceBlock((dataDev)=>{\n            if(!dataDev||!dataDev.systemName)\n              return\n            let mas = script;\n            let act = dataDev.fields[0].name\n            mas[type].push({type:\"device\",action:act,systemName:dataDev.systemName})\n            setScript(mas)\n          })\n        }\n        if(typeAct===\"group\"){\n          groupBlock((dataDev)=>{\n            if(!dataDev||!dataDev.systemName)\n              return\n            let mas = script;\n            let act = dataDev.fields[0].name\n            mas[type].push({type:\"group\",action:act,systemName:dataDev.systemName})\n            setScript(mas)\n          })\n        }\n        if(typeAct===\"script\"){\n          addScriptBlock((datascr)=>{\n            if(!datascr||!datascr.name)\n              return\n            let mas = script;\n            mas[type].push({type:\"script\",action:\"run\",systemName:datascr.name})\n            setScript(mas)\n          })\n        }\n        if(typeAct===\"delay\"){\n          let mas = script[type].slice();\n          mas.push({type:\"delay\",action:\"delay\",value:{type:\"number\", value:\"0\"}})\n          setScript({...script, [type]:mas})\n        }\n      }, 100);\n    })\n  }\n\n  const deleteActBlock = (type,index)=>{\n    if(!script||!script[type])\n      return\n    let mas = script;\n    mas[type] = mas[type].filter((_,i)=>i!==index)\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  const changeHandler = (event)=>{\n    setScript({...script,[event.target.name]:event.target.value})\n  }\n\n  const outHandler = async()=>{\n    try {\n      if(!script.name || !USText(script.name)){\n        console.error(\"allowed characters: 1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\");\n        let el = document.getElementById(\"scriptName\")\n        el.style=\"background:red;\"\n        message(\"allowed characters: 1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\",\"error\")\n        return\n      }\n      let data\n      if(edit)\n        data = await request(`/api/script/edit/${id}`, 'POST', {...script},{Authorization: `Bearer ${auth.token}`})\n      else\n        data = await request('/api/script/add', 'POST', {...script},{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        history.push('/scripts')\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const updatascript=(type,data)=>{\n    let mas = script;\n    let components = mas[type].slice()\n    let component = components[data.index]\n    for (var key in data) {\n      if (key!==\"index\") {\n        component[key] = data[key]\n      }\n    }\n    components[data.index] = component\n    mas[type] = components\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  const updataIfBlock=(data)=>{\n    let mas = script;\n    mas.condition = data\n    setScript(mas)\n    setCost((prev)=>!prev)\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    if(!cost)\n    setCost(true)\n  },[cost])\n\n  const giveScript = useCallback(async(idscript)=>{\n    const data = await request(`/api/script/get/${idscript}`, 'Get', null,{Authorization: `Bearer ${auth.token}`})\n    if(data){\n      let s = {}\n      s.name = data.name\n      s.condition = data.condition\n      s.trigger = data.trigger\n      s.then = data.then\n      s.otherwise = data.otherwise\n      setScript(s)\n      setCost(prev=>!prev)\n    }\n  },[auth.token,request])\n\n  useEffect(()=>{\n    if(id&&edit){\n      giveScript(id)\n    }\n  },[id,edit,giveScript])\n\n  useEffect(()=>{\n    setData(\"New Script\")\n  },[script, setData])\n\n  useEffect(()=>{\n    console.log(script);\n  },[script])\n\n  if(loading){\n    return(\n      <Loader/>\n    )\n  }\n\n  return(\n    <>\n      <div className = \"NewScripConteiner\">\n      <h2>Create new script</h2>\n        <div className=\"NewScripPage\">\n          <div className=\"scriptOut\">\n            <p>Script name</p>\n            <input type=\"text\" id=\"scriptName\" name=\"name\" value={script.name} onChange={changeHandler}/>\n            <button onClick={outHandler}>Save</button>\n          </div>\n          <div className=\"progammzon\">\n            <div className=\"triggerBlock\">\n              <div className=\"baseBlock\">\n                <div className=\"textBlock\">\n                  <p>Trigger</p>\n                </div>\n                <div className=\"addBlock\" onClick={addTrigger}>\n                  <i className=\"fas fa-plus\"></i>\n                </div>\n              </div>\n              {\n                (cost)?\n                script.trigger.map((item,index)=>{\n                  if(item?.type === \"datetime\")\n                    return <TriggerDateTime key={index} index={index} action={item.action} updata={(data1)=>updatascript(\"trigger\",data1)} deleteEl={()=>deleteTrigger(index)} block=\"trigger\" deviceId={item.systemName}/>\n                  return <TriggerBlock key={index} index={index} action={item.action} updata={(data1)=>updatascript(\"trigger\",data1)} deleteEl={()=>deleteTrigger(index)} block=\"trigger\" deviceId={item.systemName}/>\n                }):null\n              }\n            </div>\n            <div className=\"baseBlock\">\n              <div className=\"textBlock\">\n                <p>if</p>\n              </div>\n            </div>\n            {\n              (script.condition.children&&cost)?\n                <GroupBlock index = {\"1\"} type={script.condition.oper} data={script.condition} updata={updataIfBlock}/>\n              :null\n            }\n            <div className=\"baseBlock\">\n              <div className=\"textBlock\">\n                <p>then</p>\n              </div>\n              <div className=\"addBlock\" onClick={()=>addActBlock(\"then\")}>\n                <i className=\"fas fa-plus\"></i>\n              </div>\n            </div>\n            <div className=\"groupBlockConteiner\">\n            {\n              (cost)?\n              script.then.map((item,index)=>{\n                if(item.type===\"device\"){\n                  return <ActBlock deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                if(item.type===\"group\"){\n                  return <ActGroup deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                if(item.type===\"script\"){\n                  return <ActScript deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                if(item.type===\"delay\"){\n                  return <DelayBlock deleteEl={()=>deleteActBlock(\"then\",index)} updata={(data1)=>updatascript(\"then\",data1)} key={index} data={item} index={index} block=\"then\"/>\n                }\n                return null\n              }):null\n            }\n            </div>\n            <div className=\"baseBlock\">\n              <div className=\"textBlock\">\n                <p>else</p>\n              </div>\n              <div className=\"addBlock\" onClick={()=>addActBlock(\"otherwise\")}>\n                <i className=\"fas fa-plus\"></i>\n              </div>\n            </div>\n            <div className=\"groupBlockConteiner\">\n            {\n              (cost)?\n              script.otherwise.map((item,index)=>{\n                if(item.type===\"device\"){\n                  return <ActBlock deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                if(item.type===\"group\"){\n                  return <ActGroup deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                if(item.type===\"script\"){\n                  return <ActScript deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                if(item.type===\"delay\"){\n                  return <DelayBlock deleteEl={()=>deleteActBlock(\"otherwise\",index)} updata={(data1)=>updatascript(\"otherwise\",data1)} key={index} data={item} index={index} block=\"otherwise\"/>\n                }\n                return null\n              }):\n              null\n            }\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React,{useContext,useEffect} from 'react'\nimport userDefault from '../../img/userNuN.png'\nimport {Link} from 'react-router-dom'\nimport {FormContext} from '../Form/formContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const UserElement = ({user,updata})=>{\n  const auth = useContext(AuthContext)\n  const form = useContext(FormContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <div className=\"userElement\">\n      <div className=\"content\">\n        <p>Email: {user.Email}\n        <br/>Mobile: {user.Mobile}</p>\n        <img alt=\"user icon\" src={userDefault} className=\"userImg\"/>\n        <h3>{user.UserName} {user.UserSurname}</h3>\n        <div className=\"control\">\n        {\n          (auth.userLevel===3&&auth.userId!==user.UserId)?\n          <button className=\"editBtn\" onClick={()=>{form.show(\"EditUserLevel\",updata,user)}}>Edit</button>:\n          null\n        }\n        {\n          (auth.userId===user.UserId)?\n          <Link className=\"editBtn\" to=\"/profile/edit\">Edit</Link>:\n          (auth.userLevel===3)?\n          <button className=\"deletBtn\" onClick={()=>{\n            message(\"Delete user?\",\"dialog\",async()=>{\n              await request(`/api/user/delete`, 'POST', {UserId:user.UserId},{Authorization: `Bearer ${auth.token}`})\n              updata()\n            },\"no\")\n          }}>delete</button>:\n          null\n        }\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default \"data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAgACAAMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABAUCAwYBCP/aAAgBAQAAAAD6pAAABhH1RtGrDx7ntkb5G7MAAAAAAA0QYOkAAbp1htAAAAAAMa+u0gAADdaTvQAAAABjWVuIAAADK0scgAAAAK6qwAAAABncTgAAABqpIwAAAAAk3uYAAAEGmxAAAAABldzAAAAqK0AAAAAAWlqAAAUcIAAAAAAE+6AAAooYAAAAAACZegABSQQAAAAAABPugACorQAAAAAAAWlqABBpAAABEh6W6ZLAAAF9LADVzuIAACHSRwSLuYAAAy6TMA8oIwAACqpvAHtzagAAJV+AV9MAAAr6AAF/YAAALucBjzeAAAGHLYAAz6nMAADPpMgVdUAAAqaYABc2wAAC2sw85nEAABzcQABL6QAABl0uQrqcAAA5PAABn1gAABdTxzmkAAA5HwAB71wAABu6M084AAAOU1gANnVgAADpdiqqwAABz0EABO6EAAAWto5zSAAAK6hAAX1iAAAN3R4cyAAAHnMxwASOm9AAADpo9CAAACNzmAAz6OSAAAC/jVIAAAEXn9QDb0EoAAAC5j1wAAADCorcBnZW+YAAACw0RgAAAB5G0t0n0AAAASdWsAAAAAAAAABsw8AAAAAAAAAAe+AAAAAAAAAAAAAAAAAAAAAPfAAAARosfTqw8e57d0iVJAAAB7nrAAAeQq+FrAAbJthN9AAAbNsYAAGNXV6gAAG20tMgAASd9eAAFfS6gAAAbbqwAACxkUwAB5R1oAAAAsrz0AAtpNAAA85+CAAAACd0HoAC+kcyAApqkAAAABbXIADps+c0gA1ct4AAAAA96naADd0arqgAVtEAAAAAL2yABaWrXzQAInOeAAAAAPejlgA6Pcc5pABT1AAAAAC3uAAbujEClAA5+AAAAACf0AAFxYjHmsQAY8/CAAAAE3oMgAZdN6FZUgAeUNeAAAAsL70AC1tAY83gAAqafwAAAe3FsAAz6TICDSAAEajigAAJV5JAALmwAKCKAAK+pjAACTbWAAAk3/oBhzeIAARK6DqAG2dYywAAy6LaAEShAAAaI2jXiy2b5O8AABdzgAKqrAAAAAAABZW4ABSwAAAAAAABOuwAAooYAAAAAACZegAAUsAAAAAAAE28AAAKqrAAAAAAFlbgAABDpMQAAAAAZXM4AAADCijAAAAACTd7QAAABBp8AAAAAZ2tiAAAABjXVeIAAADKys8gAAAAB5Bq9IAAA3WNhkAAAAAAaq+DpAAG6dO3gAAAAAAGGmPoj6sPHue3fJ2yMwAAAf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8QANxAAAgECAgcGBAYCAwEAAAAAAQIDBBEABRIhMTJAQVETMFBhcZEgIlKhEENicoGxFUJTgtFw/9oACAEBAAE/AOIeaFN6RRg5lTpfRDMcPnMhvoRAepvg5nV2sGC+gwa2rO2Z/e2DLKdsje+CzdT+IZupwJZRskb3wK2rH5z/AMm+FzSsG1wfUYjzh1ADRKfQ2wuZ0zAKwZRhJoX3ZVPh0lbTRixbSPRcPmcmyNAvmdZxJUTyb0jHy2DgY6iePdkYDpyxHmkgFpEDDqNRxFX0zoFDaLH6tXhDyIgu7ADEuZAXESX8ziSeWXfcny5cPHPLFuOR5csQZqNQlT/sMJIji6MCPA3kSNbs1hibMWOqIW8zhnZzdiSeLV2Q3UkHEOZvbRmFx1wkiSLpIwI48kDE+YKt1jFz9XLEkkkjFnYk8fHJJGwZGIPUYpsyU/LKNE/VywCDxk1RHCt2OvkOeJ6qSbabL08DgqpYdQN16HEFTFKl0NjzHPiqmuWO6pYt9hhmZ2LMST4KrMjBlJBGKavWUKktlYbOh4ckAXOKqtLXSI/Lzbr4TSV5UCOU3XkemAQRccIzBVJJsBirq2mJVdSf34XR1rQMA2tP6wrBlBBuDwTMqgkmwGKqqaY2GpB9/DaSraFrE3Q/bzGFZWAINweAJABJxWVZmbRU/IPv4fRVjQNoknQO3ywCCLjv62q0iYkOrmeviNBVhCIpN07D076uqezXQU/MfsOHkrqeP/e56Lrw2a/RF7nBzOfkiYGZz80TC5r9cXscR11PJ/vY9G1cPl9UJFEbtZhz5kd5UTLDGWO3kPPDMzsWY3JPC1FbFDq3n6Ymqppt5tXQbPjhqpod1tXQ7MU9bFNq3X6cKrMjBlNiDimnSWIPz5jz7okAXxVT9tKSN0al4WsrtG8cR1826d3R12laOU6+TdeFpJ+xlBO6dTYBBF+5zCosvZqdbb3pwtfVdkugh+dh7DvaCq7VdBz86j3HC5dU3UxMda7vp3EjrGjM2wYkdpHZ22k8JJIscbOdgGJJGkdnbaT3scjRurrtBxHIskauNhHCRyNG6uu0HEciyIrLsI+PMZ7kRLsGtuFzSWwSIHbrPf5XLcPGeWscLlk4DGJth1j4pHCIznYow7F2LHaTc8LWvp1Mnkbe3f0T6FTH5m3vwqMUYMNoNxiN1dFYbCPhzKWwSIHzPDOdJ2PUnv0Oi6noRw2VT6niPqL/AAzydrM79Tq8bgl7KZH6HX8Fa4jpmPNvlHDyroyyL0Y9/EulLGvVhw9BIklMGbavyn8czkBdIxyFz6nh8wj0KljyYA9/l8enUqeSgnh8rkAkdG2EX/kfjUSdpPI/VtXD5lDpwhwNaf13+Ww6EJcjW/8AXD08nZzxv0bX+Ez6EMjdFPEEAggi4IxUwGCUry2g+Xe00BnlC8tpPlgAAAAWAHEQvpwxt1UXxmR0KcC+tmGriamnWePR5jdOHRkYqwsR3aIzsFUXJxS06wR6O1jvHicsZWpyGO62zGa6niS+wE8VU0qTr0YbDiWGSJtFxY9zFDJK2igucU1KkC9WO08Vk7ntJEvtAPtjNGvWP5ADi5I45F0XUEYmyxxcxNcdDh43Q2dSD5/CkbubIpJ8sQ5Y51ytYdBiOOONdFFAHF5Y4WrW52qRisN6qb9xHtxpAYWIBGHoqVtsYHpqwcsp+r++BllP1f3wlFSrsjB9deAAosAAONozaqh/cB74lN5ZD+o+PxG0sZ/UMNvH18fXeHr/APAW3j68QTbD1lMm2Ufxrw2ZwjdRj9sNmkh3Y1Hrrw2YVR2MB6DBrKk/mnBqJz+c/ucdtN/yP7nHbTf8j+5wKicfnP7nArKkfmnAzCqG1gfUYXNJBvRqfTVhczhO8jD74Sspn2Sj+dWAb8Qu8PXEotLIP1HhSQASSAMS5hTpcAlz5YkzKdtwBB7nDySOfncnv0kkQ/I5GI8ynXfAcexxFmFO9gSUPngEEXBBHCxC8sY/UMVgtVTfuJ9+Dd1RSWYAdTifMwLiJb/qOJZpZTd3J4WKaWI3RyMQZmDYSrb9Qwjq6gqwI6jg6MXqof3A+2MzQLVtYbVB4Kpr44rqlmb7DEs0krXdieJimkia6MRimr45bK9lb7HgsrW9YnkCcZwh7SN7bQR7cASFBJIAGKqvaS6RkhevM8bS17R2SQkr15jAIYAggg8BlWp5XtsAGMzVWpwVG623vyQASdgxWVZmbRXUg+/H0dWYW0W1oftgEEAjYe/y0aFOTbWzHXiZNOGReqm3f5jU3PYqf3eA5dU2PYsf29/CmhDGvRR+FRH2c8idG1d7NIIonfoMEliSdpPgIJUgjaDiGQSxI/Ud7Tx9pPGnVtf45pGBIjrsIt/I73M2tAq9W8DyxrwMvRu9yyMF3kPIWHqfxr40kpiq7V+Yd7WU/bRWG8useB0dP2MVjvNrPe0SCOmUc2+Y/BPF2Uzp0OrvcwpdsyD93/vgOX0uyZx+3/3vYI+1mROp1/DmsGpJR6G3ekAgg4raQwtpLuH7cfRUhmbSbcH3wAAAB3uWxWDykeQ+GRFdGU7CMOpRip2g2PesqspVhcEaxirpGga4uUOw9ONpKRp2ubhBtPXCqqqFUWAGod6il2CjaTYYjQIioNij4szgAYSrsOo98yqwKsAQdoxV0TRXdLlP64ukomls73Cf3hVVQFUAAbB32XQXJlbYNS/HJGsiMrbCMSRtG7I20Hv6rL73eH+VwQQSCCDw4BJAAJOKXL7Web+F7+NGkdUXaTiNFjRVXYO4zGmuolUa13vTgKilinGsWbkwxPSSwbRdfqHCwUks+wWX6jinpYoBqF25seAy+nsvaMNbbvp3JAItirg7GUgbp1rwM+XxPcp8h+2JqWaHeXV1GzgYaWabdXV1OzEGXxJYv85+3A0sHbSgHdGtsAAC3dVMCSxFOfI+eGVkYqwsQeCloqeS50dE9V1YkyyVdxg32OHhmj30I7tIZpNxCcR5ZK2+wX7nEVFTx2OjpHq2vglVnYKouScU8KwxhRt5nz7zMKUSKZEWzDlzI4V6aB96JcNltOdmkvocNlQ5S+4wcrl5SLj/ABc/1J7nH+Ln+pPc4GVy85FwuVDnL7DC5bTjbpN6nCU0CbsS8LQ03ZrpsPmP2HfV9Jokyxj5f9h08RoaXSIlcauQ69+QCCDito2gbSAOgdnl4fSUhmbSYfIPvgAAWHAMqsCCLg4q6RoWuBdD9vI+G0tK0xudSD74VVUAAWA4JlDKQRcHFbRNAxK60/rwukpGmIZtSf3hVCqABYDhCARY4q6AqDJELrzHTwmloi1nlHy8l64AAFhw9TQLKGeKysNvQ4ZWRirAgjwVVZ2CqCTimoVjsz2LfYcVPTRSpZxY8jzxPSyw6yLr18DgpZJtgsvXENPHCtlGvmefGEA4qctU/NEdE/TyxJHJGxV1IPQ8fHHJIwVFJOIMvVbNIbn6eWAAOPeNJF0XUEYmyx7aUJuOmGRkNmBB4tUZzZQScQ5cx1ym3kMJGka2VbDwN40cWdQRifKhrMT/APU4kgli30I8+XDxwSy7iE+fLEWWgWMr38hhI0QWRQB4RLQUzoWK6LH6dWJMrkAvG4YdDqOJKeePejYDry4GOnnk3Y2PnsGEyyTbI4XyGs4joqaMXC6R6t4c8ML70SnDZZTMCyllGJMndQSsqn1FsNldYNiA+hwaKrH5L/wL4MUo2xt7YKt0P4hW6HAilOyNvbAoqs7IX9rYGWVdrlQvqcJk0htpygegvgZbTpbSLMcJDCm7Go4n/8QAFBEBAAAAAAAAAAAAAAAAAAAAoP/aAAgBAgEBPwAAH//EABQRAQAAAAAAAAAAAAAAAAAAAKD/2gAIAQMBAT8AAB//2Q==\"","import React,{useState,useEffect,useCallback,useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {Loader} from '../components/Loader'\nimport {UserElement} from '../components/usersCart/userElement'\n\nexport const UsersPage = () => {\n  const [users, setUsers] = useState([])\n  const [allUsers, setAllUsers] = useState([])\n  const {setData} = useContext(MenuContext)\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const history = useHistory()\n  const {loading,request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const updataUsers = useCallback(async()=>{\n    const data = await request('/api/user/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setUsers(data);\n    setAllUsers(data)\n  },[request,auth.token])\n\n  const searchout = useCallback((search)=>{\n    if(search===\"\"){\n      setUsers(allUsers)\n      return\n    }\n    let array = allUsers.filter(item => (item.UserName.toLowerCase().indexOf(search.toLowerCase())!==-1)||(item.UserSurname.toLowerCase().indexOf(search.toLowerCase())!==-1))\n    setUsers(array)\n  },[allUsers])\n\n  useEffect(()=>{\n    setData(\"Users\",{\n      specialAction:(auth.userLevel >= 3)?{\n        type: \"add\",\n        action:()=>history.push(\"/user/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, history, searchout, auth.userLevel])\n\n  useEffect(()=>{\n    updataUsers()\n  },[updataUsers])\n\n  if(loading){\n    return(\n      <Loader/>\n    )\n  }\n\n  return(\n    <>\n      <div className = \"conteiner top\">\n        <div className = \"Users\">\n          <div className=\"usersList\">\n            {\n              (users&&users[0])?\n                users.map((item,index)=>{\n                  return(\n                    <UserElement key={index} user={item} updata={updataUsers}/>\n                  )\n                })\n              :null\n            }\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, {useEffect,useContext,useRef,useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const ImagesInput = ({update}) =>{\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const inputRef = useRef(null)\n  const imgConteiner = useRef(null)\n  const [filesArr,setFiles] = useState([])\n\n  const byteToSize = (bytes)=>{\n    const size = [\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\"]\n    if(!bytes) return \"0 Bytes\"\n    let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)))\n    return Math.round(bytes / Math.pow(1024,i),2) + \" \" + size[i]\n  }\n\n  async function handleFiles(event){\n    let files = Array.from(event.target.files)\n    setFiles(files)\n    let conteiner = imgConteiner.current\n    conteiner.innerHTML=\"\"\n    files.forEach(file => {\n      if(!file.type.match('image')){\n        return\n      }\n      const reader = new FileReader()\n\n      reader.onload = ev =>{\n        conteiner.insertAdjacentHTML(\"afterbegin\",`\n        <div class=\"image-preview\">\n          <img src=\"${ev.target.result}\" alt=\"${file.name}\"/>\n          <div class=\"preview-remove\" data-name=\"${file.name}\">&times</div>\n          <div class=\"preview-info\"><span>${file.name}</span><span>${byteToSize(file.size)}</span></div>\n        </div>\n        `)\n      }\n\n      reader.readAsDataURL(file)\n    });\n  }\n\n  const imgClick = (event)=>{\n    if(!event.target.dataset.name){\n      return\n    }\n\n    const {name} = event.target.dataset\n    let files = filesArr.filter(file=>file.name!==name)\n    setFiles(files)\n    const block = imgConteiner.current.querySelector(`[data-name=\"${name}\"]`).closest(\".image-preview\")\n    block.classList.add(\"removeing\")\n    setTimeout(function () {\n      block.remove()\n    }, 300);\n\n  }\n\n  const sendFile = async()=>{\n    for (const file of filesArr) {\n      var data = new FormData();\n      data.append(\"file\",file)\n      data.append('name',file.name)\n      const ret = await request(`/api/file/background/load`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n      if(ret===\"ok\"){\n        const block = imgConteiner.current.querySelector(`[data-name=\"${file.name}\"]`).closest(\".image-preview\")\n        block.classList.add(\"removeing\")\n        setTimeout(function () {\n          block.remove()\n        }, 300);\n      }\n    }\n    setFiles([])\n    if(typeof(update)===\"function\"){\n      setTimeout(function () {\n        update()\n      }, 200);\n    }\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n\n  return(\n    <div className=\"cartImageInput\">\n      <h2>Загрузить изображение</h2>\n      <input ref={inputRef} multiple={true} type=\"file\" id=\"fileElem\" accept=\"image/*\" onChange={handleFiles}/>\n      <div ref={imgConteiner} className=\"fileList\" onClick={imgClick}></div>\n      <div className=\"btnConteiner\">\n      {\n        (filesArr&&filesArr[0])?\n        <button className=\"highSelection button\" onClick={sendFile}>загрузить</button>:\n        null\n      }\n      <button style={{marginLeft: \"10px\"}} className=\"normalSelection button\" onClick={()=>inputRef.current.click()}>открыть</button>\n      </div>\n    </div>\n  )\n}\n","import React,{useEffect,useState,useContext} from 'react'\nimport {BackForm} from '../backForm'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {StyleContext} from '../UserStyle/StyleContext'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const ImageDitail = ({data,hide})=>{\n  const [fon,setFon]=useState(\"base\")\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const auth = useContext(AuthContext)\n  const {updateConfig} = useContext(StyleContext)\n\n\n  const changeSelector = (event)=>{\n    setFon(event.target.value)\n  }\n\n  const out = async()=>{\n    await request(`/api/file/background/linc?name=${data.title}&type=${fon}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    updateConfig()\n    hide()\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return (\n    <BackForm onClick={hide} className=\"ditailImage-body\">\n      <div className=\"ditailImage-box\">\n        <div className=\"ditailImage-image\">\n          <img src={data.image} alt={data.title}/>\n        </div>\n        <div className=\"ditailImage-control\">\n          <p>Name: {data.title}</p>\n          <div className=\"dividers\"></div>\n          <div className=\"input-data\">\n          <select value={fon} onChange={changeSelector}>\n            <option value=\"base\">Base</option>\n            <option value=\"sunrise\">Sunrise</option>\n            <option value=\"day\">Day</option>\n            <option value=\"twilight\">Twilight</option>\n            <option value=\"night\">Night</option>\n          </select>\n          </div>\n          <button className=\"button normalSelection\" onClick={out}>Cделать фоном</button>\n        </div>\n      </div>\n    </BackForm>\n  )\n}\n","import React,{useState,useContext,useEffect,useCallback} from 'react'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {ImagesInput} from '../components/inputImages'\nimport {AlertContext} from '../components/alert/alertContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {ImageDitail} from '../components/files/imageDitail'\n\nexport const GalleryPage = () => {\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {show,hide} = useContext(AlertContext);\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [visible,setVisible] = useState(false)\n  const [end,setEnd] = useState(false)\n  const [urls,setUrls] = useState([])\n  const [newUrl,setnewUrl] = useState(0)\n  const [ditailElement,setDitailElement] = useState({})\n\n  const getTenUrl = useCallback(async(oldUrl = 0)=>{\n    try {\n      const data = await request(`/api/file/background/get?index=${oldUrl}&count=10`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        if(data.length !== 10)\n          setEnd(true)\n        setnewUrl(oldUrl+30)\n        let arr = urls.slice()\n        if(newUrl>oldUrl){\n          arr = []\n        }\n        for (let item of data) {\n          arr.push(item)\n        }\n        setUrls(arr)\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  },[auth.token,newUrl,urls,request])\n\n  const deleteImg = (id)=>{\n    show(\"удалить изображение?\",\"general\",()=>{\n      request(`/api/file/background/delete/${id}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      let arr = urls.slice()\n      arr = arr.filter(item=>item.title!==id)\n      setUrls(arr)\n    },hide)\n  }\n\n  const ditail = (event,item)=>{\n    if(event.target.dataset.type===\"rootimg\"){\n      setDitailElement(item)\n      setVisible(true)\n    }\n  }\n\n  useEffect(()=>{\n    if(newUrl===0)\n      getTenUrl()\n  },[getTenUrl,newUrl])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    setData(\"Gallery\")\n  },[setData])\n\n  return(\n    <div className=\"conteiner top bottom\">\n    {\n      (visible)?\n      <ImageDitail data={ditailElement} hide={()=>setVisible(false)}/>:\n      null\n    }\n    <div className=\"\">\n      <ImagesInput update={getTenUrl}/>\n      <div className=\"galeryContent\">\n      {\n        (urls&&urls[0])?\n        urls.map((item,index)=>{\n          return(\n            <div key={index} className=\"imageBx\" onClick={(event)=>ditail(event,item)}>\n              <img src={item.image} alt={item.title} data-type=\"rootimg\"/>\n              <div className=\"preview-remove\" onClick={()=>deleteImg(item.title)}>\n              <i className=\"fas fa-times\"></i>\n              </div>\n              <div className=\"preview-info\"><span>{item.title}</span></div>\n            </div>\n          )\n        }):null\n      }\n      {\n        (!end)?\n        <button className=\"btn2\" onClick={()=>getTenUrl(newUrl)}>ещё</button>:\n        null\n      }\n      </div>\n    </div>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/socket.159fbd8e.png\";","export default __webpack_public_path__ + \"static/media/sensor.937a0c45.png\";","export default __webpack_public_path__ + \"static/media/lamp.0636a2da.png\";","import React,{useContext} from 'react'\nimport {TypeDeviceContext} from '../../components/typeDevices/typeDevicesContext.js'\nimport socketImg from '../../img/socket.png'\nimport sensorImg from '../../img/sensor.png'\nimport lampImg from '../../img/lamp.png'\nimport switchImg from '../../img/switch.png'\nimport relayImg from '../../img/relay.jpg'\n\nconst images = {\n  lamp: lampImg,\n  light: lampImg,\n  switch: switchImg,\n  relay: relayImg,\n  socket: socketImg,\n  sensor: sensorImg\n}\n\nfunction getImage(name) {\n  for (var key in images) {\n    if(name.indexOf(key) !== -1)\n      return images[key]\n  }\n}\n\nexport const AddDevicesPage1 = ({form, setForm, next}) => {\n  const {type} = useContext(TypeDeviceContext)\n\n  const choisetype = (typedev, typeconnect)=>{\n    setForm({...form, type:typedev, typeConnect:typeconnect})\n    next()\n  }\n\n  return(\n    <>\n      <ul className=\"leftlist\"></ul>\n      <div className=\"devicesTypeListConteiner\">\n        {\n          type?.map((item,index)=>{\n            return(\n              <div key={index} className=\"typeDevice\">\n                <div className=\"configTitle\">\n                  <p>{item.title}</p>\n                </div>\n                <div className=\"typeDeviceConteiner\">\n                {\n                  item.typs?.map((item2, index2)=>{\n                    return(\n                      <div className=\"card\" key={index2} onClick = {()=>choisetype(item2, item.title)}>\n                        <div className=\"imgConteiner\">\n                          <img src={item.img||getImage(item2)} alt={item2}/>\n                        </div>\n                        <p>{`${item2} (${item.title})`}</p>\n                      </div>\n                    )\n                  })\n                }\n                </div>\n                <div className=\"dividers\"></div>\n              </div>\n            )\n          })\n        }\n      </div>\n    </>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/switch.65d758d2.png\";","export default __webpack_public_path__ + \"static/media/relay.80691df2.jpg\";","import React from 'react'\nimport {useChecked} from '../../hooks/checked.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const AddDevicesPage3 = ({form, setForm, next, backPage}) => {\n  const {USText} = useChecked()\n  const {message} = useMessage();\n\n  const updata = (key, value)=>{\n    setForm({...form, [key]:value})\n  }\n\n  const nextPage = ()=>{\n    if(!form.name || !USText(form.systemName)){\n      message(\"некоректные данные\",\"error\")\n      return\n    }\n    next()\n  }\n\n  return(\n    <div className=\"allFon\">\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"name\" type=\"text\" value={form.name}></input>\n        <label>Name</label>\n      </div>\n    </div>\n    <div className=\"configElement\">\n      <div className=\"input-data\">\n        <input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"systemName\" type=\"text\" value={form.systemName}></input>\n        <label>System name</label>\n      </div>\n    </div>\n      <div className=\"buttons\">\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n        <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={nextPage}>Next</button>\n      </div>\n    </div>\n  )\n}\n","import React,{useContext, useEffect, useState} from 'react'\nimport {useMessage} from '../../hooks/message.hook'\nimport {IconChoose} from '../../components/iconChoose'\nimport { TypeDeviceContext } from '../../components/typeDevices/typeDevicesContext';\n\nconst getConfig = (configs, name)=>{\n\tif (Array.isArray(configs))\n\t{\n\t\tlet filterdata = configs.filter((item)=>item.title === name)\n\t\tif (filterdata.length > 0)\n\t\t\treturn filterdata[0].addConfig\n\t}\n}\n\nexport const AddDevicesPage2 = ({form, setForm, next,backPage, begining = []}) => {\n  const {message} = useMessage();\n  const [fields, setFields] = useState(begining)\n  const types = useContext(TypeDeviceContext)\n  const [config] = useState(getConfig(types.type, form.typeConnect))\n\n  const updata = (key, value)=>{\n    setForm({...form, [key]:value})\n  }\n\n  useEffect(()=>{\n\tconsole.log(config)\n\tlet formc = {...form}\n\tif (![null, undefined].includes(config.address))\n\t\tformc.address = config.address\n\tif (![null, undefined].includes(config.token))\n\t\tformc.token = config.token\n\tif (![null, undefined].includes(config.valueType))\n\t\tformc.valueType = config.valueType\n  },[config])\n\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeHandlerFieldChek = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.checked }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const removeField = (index)=>{\n    setFields(fields.filter((item, index2)=>index2 !== index))\n  }\n\n  const validFields = ()=>{\n    let arrType = []\n    if(!form.address){\n      message(\"нет адреса\",\"error\")\n      return false\n    }\n    if(config?.fields && !fields[0]){\n      message(\"нет полей\",\"error\")\n      return false\n    }\n\tif(config?.fields && fields[0])\n\t{\n\t\tfor (var item of fields) {\n\t\t\tif(!item.address || !item.name){\n\t\t\t  message(\"некоректное поле\",\"error\")\n\t\t\t  return false\n\t\t\t}\n\t\t\tfor (var item2 of arrType) {\n\t\t\t  if(item.name === item2){\n\t\t\t\tmessage(\"повторяющиеся поля\",\"error\")\n\t\t\t\treturn false\n\t\t\t  }\n\t\t\t}\n\t\t\tarrType.push(item.name)\n\t\t}\n\t}\n    return true\n  }\n\n  const addField = ()=>{\n    let arr = fields.slice()\n    arr.push({\n      address:\"\",\n      name:\"\",\n      type:\"text\",\n      low:\"0\",\n      high:\"100\",\n      values:\"\",\n      control:true,\n      icon:\"fas fa-circle-notch\",\n      unit:\"\"\n    })\n    setFields(arr)\n  }\n\n  const nextPage = ()=>{\n    updata(\"fields\",fields)\n    if(validFields())\n      next()\n  }\n\n  const informationParse = (str)=>str.split(\"\\n\")\n\n  return(\n    <div className=\"allFon\">\n\t\t{\n\t\t\t(config.information)?\n\t\t\t<div className=\"configElement block\">\n\t\t\t\t{\n\t\t\t\t\tinformationParse(config.information).map((item, index)=>(<p key={index}>{item}</p>))\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t:null\n\t\t}\n\t\t{\n\t\t\t([null, undefined].includes(config?.address))?\n\t\t\t<div className=\"configElement\">\n      \t\t\t<div className=\"input-data\">\n        \t\t\t<input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"address\" type=\"text\" value={form.address}></input>\n        \t\t\t<label>Address</label>\n     \t\t\t</div>\n    \t\t</div>:\n\t\t\tnull\n\t\t}\n\t\t{\n\t\t\t([null, undefined].includes(config?.valueType))?\n\t\t\t<div className=\"configElement\">\n      \t\t\t<div className=\"input-data\">\n        \t\t\t<select className = \"textInput\" name=\"valueType\" value={form.valueType} onChange={(e)=>updata(e.target.name, e.target.value)}>\n          \t\t\t\t<option value=\"json\">json</option>\n          \t\t\t\t<option value=\"value\">value</option>\n        \t\t\t</select>\n        \t\t\t<label>Type value</label>\n      \t\t\t</div>\n    \t\t</div>:\n\t\t\tnull\n\t\t}\n\t\t{\n\t\t\t([null, undefined].includes(config?.token))?\n\t\t\t<div className=\"configElement\">\n      \t\t\t<div className=\"input-data\">\n\t\t\t\t  \t<input onChange={(e)=>updata(e.target.name, e.target.value)} required name=\"token\" type=\"text\" value={form.token}></input>\n        \t\t\t<label>Token</label>\n      \t\t\t</div>\n    \t\t</div>:\n\t\t\tnull\n\t\t}\n      <div className=\"fieldsConteiner\">\n      {\n\t\t(config?.fields)?\n        fields?.map((item, index)=>{\n          return(\n            <div key={index} className=\"fieldConteiner\">\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} onChange={changeHandlerField} required name=\"name\" type=\"text\" value={item.name}></input>\n                <label>name field</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <input data-id={index} onChange={changeHandlerField} required name=\"address\" type=\"text\" value={item.address}></input>\n                <label>address field</label>\n              </div>\n            </div>\n            <div className=\"configElement\">\n              <div className=\"input-data\">\n                <select className = \"textInput\" data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                  <option value=\"binary\">binary</option>\n                  <option value=\"text\">text</option>\n                  <option value=\"number\">number</option>\n                  <option value=\"enum\">enum</option>\n                </select>\n                <label>type</label>\n              </div>\n            </div>\n            <div className=\"configElement\" style={{justifyContent:\"center\"}}>\n              <div className=\"checkbox-btn\">\n                <input data-id={index} type=\"checkbox\" placeholder=\"unit\" name=\"control\" checked={Boolean(item.control)} onChange={changeHandlerFieldChek} required/>\n                <div><span className=\"slide\"></span></div>\n              </div>\n            </div>\n            {\n              (item.type===\"number\"||item.type===\"binary\")?\n              <>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"number\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                  <label>min</label>\n                </div>\n              </div>\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type={(item.type===\"number\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                  <label>max</label>\n                </div>\n              </div>\n              </>:\n              (item.type===\"enum\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                  <label>enum</label>\n                </div>\n              </div>\n              :null\n            }\n            <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n            {\n              (item.type===\"number\")?\n              <div className=\"configElement\">\n                <div className=\"input-data\">\n                  <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                  <label>unit</label>\n              </div>\n            </div>:null\n            }\n            <div className=\"buttons\">\n              <button className=\"normalSelection button\" onClick={()=>removeField(index)}>delete field</button>\n            </div>\n            </div>\n          )\n        }):\n\t\tnull\n      }\n      <div className=\"buttons\">\n\t\t{\n\t\t\t(config?.fields)?\n\t\t\t<button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={addField}>add field</button>\n\t\t\t:null\n\t\t}\n        <button style={{marginLeft:\"10px\"}} className=\"normalSelection button\" onClick={backPage}>Back</button>\n        <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={nextPage}>Next</button>\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React,{useContext,useState,useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {AddDevicesPage1} from './AddDeviceComponents/page1'\nimport {AddDevicesPage2MQTT} from './AddDeviceComponents/page2Mqtt'\nimport {AddDevicesPage2Yeelight} from './AddDeviceComponents/page2Yeelight'\nimport {AddDevicesPage2Zigbee} from './AddDeviceComponents/page2Zigbee'\nimport {AddDevicesPage2Variable} from './AddDeviceComponents/page2Variable'\nimport {AddDevicesPage3} from './AddDeviceComponents/page3'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport { AddDevicesPage2 } from './AddDeviceComponents/page2.js'\n\nexport const AddDevicesPage = () => {\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const history = useHistory()\n  const {clearMessage} = useMessage();\n  const {request} = useHttp();\n  const [page, setPage] = useState(1)\n  const [form, setForm] = useState({\n    typeConnect: '',\n    type: '',\n    valueType: 'json',\n    name: '',\n    address:'',\n    systemName:'',\n    fields:[],\n    token:''\n  });\n\n  useEffect(()=>{\n    setData(\"Add device\")\n  },[setData])\n\n  useEffect(()=>{\n    console.log(form);\n  },[form])\n\n  const next = ()=>setPage(prev=>prev + 1)\n\n  const outHandler = async () => {\n    try {\n      clearMessage();\n      const data = await request('/api/device/add', 'POST', {...form},{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        history.push('/devices')\n      }\n    } catch (e) {\n\n    }\n  }\n\n  const backPage = ()=>setPage(prev=>prev - 1)\n\n  return(\n    <div className = {`fullScrinContainer bottom ${(page === 1)?\"addDevice\":\"\"}`}>\n    {\n      (page === 1)?\n      <AddDevicesPage1 form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 2)?\n      <AddDevicesPage2 form={form} setForm={setForm} backPage={backPage} next={next}/>:\n      (page === 3)?\n      <AddDevicesPage3 form={form} setForm={setForm} backPage={backPage} next={outHandler}/>:\n      null\n    }\n    </div>\n  )\n}\n","import React,{useState,useRef,useEffect,useCallback,useContext} from 'react'\nimport {useHistory,useParams} from 'react-router-dom'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useStorage} from '../../hooks/storage.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\n\nexport const AddMoviePage = ({type=\"movie\",edit=false}) => {\n  const storegeName = (type===\"movie\")?\"Moviestorage\":\"Serialstorage\"\n  const {id} = useParams()\n  const def = {\n    title:'',\n    tagline:'',\n    discription:'',\n    year:2019,\n    country:\"\",\n    regisers:[],\n    actors:[],\n    ganres:[],\n    date:'',\n    budget:0,\n    fees_in_usa:0,\n    fees_in_world:0,\n    category:'',\n    url:'',\n    urlLocal:'',\n    loaded:false,\n    quality:'',\n    count_seasons:0,\n    closed:false,\n    save_seasons:0,\n  }\n  const auth = useContext(AuthContext)\n  const history = useHistory()\n  const {setData,removeData,getData} = useStorage()\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const imgPoster = useRef(null)\n  const divPoster = useRef(null)\n  const poster = useRef()\n  const [actors,setActors] = useState([])\n  const [ganres,setGanres] = useState([])\n  const [categorys,setCategorys] = useState([])\n  const [form,setForm] = useState(def)\n\n  const out = async()=>{\n    var data = new FormData();\n    removeData(storegeName)\n    if(poster.current){\n      let file = poster.current\n      data.append(\"poster\",file)\n    }\n    for (var key in form) {\n      data.append(key,form[key])\n    }\n    if(type===\"movie\"&&!edit)\n      await request(`/api/files/movies/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    if(type===\"serial\"&&!edit)\n      await request(`/api/files/serials/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    if(type===\"movie\"&&edit)\n      await request(`/api/files/movies/edit/${id}`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    if(type===\"serial\"&&edit)\n      await request(`/api/files/serials/edit/${id}`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    history.push(`/files/${type}s`)\n  }\n\n\n  const giveData = useCallback(async()=>{\n    const allactors = await request('/api/files/actors/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    const allganres = await request('/api/files/ganres/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    const allcategorys = await request('/api/files/category/all', 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(allactors){\n      setActors(allactors.actors)\n    }\n    if(allganres){\n      setGanres(allganres.ganres)\n    }\n    if(allcategorys){\n      setCategorys(allcategorys.category)\n    }\n  },[auth.token,request])\n\n  function handleFiles(event) {\n    const files = event.target.files\n    window.URL = window.URL || window.webkitURL;\n    var fileList = divPoster.current\n    poster.current = event.target.files[0]\n\n  if (!files.length) {\n    fileList.innerHTML = \"<p>No files selected!</p>\";\n    return;\n  }\n\n  var img = imgPoster.current\n  img.src = window.URL.createObjectURL(files[0]);\n  img.onload = function() {\n    window.URL.revokeObjectURL(this.src);\n  }\n}\n\nfunction getSelectValues(select) {\n  var result = [];\n  var options = select && select.options;\n  var opt;\n\n  for (var i=0, iLen=options.length; i<iLen; i++) {\n    opt = options[i];\n\n    if (opt.selected) {\n      result.push(Number(opt.value)||opt.value);\n    }\n  }\n  return result;\n}\n\nconst changeSelect = (event)=>{\n  setForm({...form,[event.target.name]:getSelectValues(event.target)})\n}\n\nconst changeHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.value})\n}\n\nconst checkedHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.checked})\n}\n\nconst getMovieData = useCallback(async()=>{\n  const data = await request(`/api/files/movie/${id}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n  if(data&&data[type]){\n    let item = data[type]\n    setForm((prev)=>{return{\n      ...prev,\n      title:item.title,\n      tagline:item.tagline,\n      discription:item.discription,\n      year:item.year,\n      country:item.country,\n      regisers:item.directors && item.directors.map((item2)=>item2.id),\n      actors:item.actors && item.actors.map((item2)=>item2.id),\n      ganres:item.genres && item.genres.map((item2)=>item2.id),\n      date:item.world_premiere,\n      budget:item.budget,\n      fees_in_usa:item.fees_in_usa,\n      fees_in_world:item.fees_in_world,\n      category:item.category.id,\n      url:item.url,\n      urlLocal:item.localUrl,\n      loaded:item.loaded,\n      quality:item.grade,\n      count_seasons:item.count_seasons||0,\n      closed:item.closed||false,\n      save_seasons:item.save_seasons||0,\n    }})\n    var img = imgPoster.current\n    img.src = item.poster\n  }\n},[request,auth.token,id,type])\n\nuseEffect(()=>{\n  giveData()\n},[giveData])\n\nuseEffect(()=>{\n  if(edit){\n    getMovieData()\n  }\n},[edit,getMovieData])\n\nuseEffect(()=>{\n  const d = getData(storegeName)\n  if(d)\n    setForm(d)\n},[getData,storegeName])\n\nuseEffect(()=>{\n  setData(storegeName,form)\n},[form,setData,storegeName])\n\nuseEffect(()=>{\n  message(error, 'error');\n  clearError();\n},[error, message, clearError])\n\n  return(\n    <div className = \"whiteBacground no-pg-top opacity newMovie\">\n      <p>Название фильма</p>\n      <input value={form.title} type=\"text\" name=\"title\" onChange={changeHeandler}/>\n      <p>Слоган</p>\n      <input value={form.tagline} type=\"text\" name=\"tagline\" onChange={changeHeandler}/>\n      <p>страна</p>\n      <input value={form.country} type=\"text\" name=\"country\" onChange={changeHeandler}/>\n      <p>описание</p>\n      <textarea value={form.discription} name=\"discription\" id=\"\" cols=\"30\" rows=\"10\" onChange={changeHeandler}></textarea>\n      <div className=\"imageInput\">\n        <label>\n          <p>Poster</p>\n          <input type=\"file\" name=\"poster\" id=\"fileElem\" accept=\"image/*\" onChange={handleFiles}/>\n          <div ref={divPoster} className=\"fileList\">\n            <img ref={imgPoster} className=\"inputImg\" alt=\"poster\"/>\n          </div>\n        </label>\n      </div>\n      <p>год выхода</p>\n      <input value={form.year} type=\"number\" name=\"year\" onChange={changeHeandler}/>\n      <p>режисер</p>\n      <div className=\"selected-div\">\n        <select value={form.regisers} className=\"actor-ganre-select\" name=\"regisers\" multiple={true} onChange={changeSelect}>\n        {\n          actors.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/actor/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      <p>актеры</p>\n      <div className=\"selected-div\">\n        <select value={form.actors} className=\"actor-ganre-select\" name=\"actors\" multiple={true} onChange={changeSelect}>\n        {\n          actors.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/actor/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      <p>жанр</p>\n      <div className=\"selected-div multi\">\n        <select value={form.ganres} className=\"actor-ganre-select\" name=\"ganres\" multiple={true} onChange={changeSelect}>\n        {\n          ganres.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/ganre/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      <p>дата выхода</p>\n      <input value={form.date} onChange={changeHeandler} type=\"date\" name=\"date\"/>\n      <p>бюджет</p>\n      <input value={form.budget} min={0} onChange={changeHeandler} type=\"number\" name=\"budget\"/>\n      <p>сборы в США</p>\n      <input value={form.fees_in_usa} onChange={changeHeandler} type=\"number\" name=\"fees_in_usa\"/>\n      <p>сборы в мире</p>\n      <input value={form.fees_in_world} onChange={changeHeandler} type=\"number\" name=\"fees_in_world\"/>\n      <p>категория</p>\n      <div className=\"selected-div\">\n        <select value={form.category} onChange={changeHeandler} name=\"category\">\n          <option value={\"\"}></option>\n        {\n          categorys.map((item,index)=>{\n            return(\n              <option key={index} value={item.id}>{item.name}</option>\n            )\n          })\n        }\n        </select>\n        <button onClick={()=>history.push(\"/category/add\")} className=\"actor-ganre-add-btn\"><i className=\"fas fa-plus\"></i></button>\n      </div>\n      {\n        (type===\"serial\")?\n        <>\n        <p>количество сезонов</p>\n        <input value={form.count_seasons} min={0} onChange={changeHeandler} type=\"number\" name=\"count_seasons\"/>\n        <p>закрыт</p>\n        <input value={form.closed} onChange={checkedHeandler} type=\"checkbox\" name=\"closed\"/>\n        <p>количество загруженных сезонов</p>\n        <input value={form.save_seasons} min={0} onChange={changeHeandler} type=\"number\" name=\"save_seasons\"/>\n        </>\n        :null\n      }\n      <p>ссылка на сайт</p>\n      <input value={form.url} onChange={changeHeandler} type=\"url\" name=\"url\"/>\n      <p>Скачено</p>\n      <input value={form.loaded} onChange={checkedHeandler} type=\"checkbox\" name=\"loaded\"/>\n      {\n        (form.loaded)?\n        <>\n        <p>ссылка на скаченный файл</p>\n        <input value={form.urlLocal} onChange={changeHeandler} type=\"text\" name=\"urlLocal\"/>\n        <p>качество скаченного файла</p>\n        <input value={form.quality} onChange={changeHeandler} type=\"text\" name=\"quality\"/>\n        </>\n        :null\n      }\n      <button onClick={out}>Отправить</button>\n      {\n        (!edit)?\n        <button onClick={()=>{\n          removeData(storegeName)\n          setForm(def)\n        }}>Очистить</button>\n        :null\n      }\n    </div>\n  )\n}\n","import {useCallback} from 'react'\n\nexport const useStorage = () => {\n  const setData = useCallback((storegeName,data)=>{\n    localStorage.setItem(storegeName, JSON.stringify(data))\n  },[])\n\n  const getData = useCallback((storegeName)=>{\n    return JSON.parse(localStorage.getItem(storegeName))\n  },[])\n\n  const removeData = useCallback((storegeName)=>{\n    localStorage.removeItem(storegeName)\n  },[])\n\n  return {setData,getData,removeData}\n}\n","import React,{useState,useRef,useEffect,useContext} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\n\nexport const AddActorPage = () => {\n  const auth = useContext(AuthContext)\n  const {goBack} = useHistory()\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const imgPoster = useRef(null)\n  const divPoster = useRef(null)\n  const poster = useRef()\n  const [form,setForm] = useState({\n    name:'',\n    date_of_birth:'',\n    discription:'',\n    url:'',\n  })\n\n  const out = async()=>{\n    let file = poster.current\n    var data = new FormData();\n    data.append(\"image\",file)\n    for (var key in form) {\n      data.append(key,form[key])\n    }\n\n    await request(`/api/files/actor/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    goBack()\n  }\n\n\n  function handleFiles(event) {\n    const files = event.target.files\n    window.URL = window.URL || window.webkitURL;\n    var fileList = divPoster.current\n    poster.current = event.target.files[0]\n\n  if (!files.length) {\n    fileList.innerHTML = \"<p>No files selected!</p>\";\n    return;\n  }\n\n  var img = imgPoster.current\n  img.src = window.URL.createObjectURL(files[0]);\n  img.onload = function() {\n    window.URL.revokeObjectURL(this.src);\n  }\n}\n\nconst changeHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.value})\n}\n\nuseEffect(()=>{\n  message(error, 'error');\n  clearError();\n},[error, message, clearError])\n\n  return(\n    <div className = \"whiteBacground no-pg-top opacity newMovie\">\n      <p>Имя</p>\n      <input value={form.name} type=\"text\" name=\"name\" onChange={changeHeandler}/>\n      <p>дата рождения</p>\n      <input value={form.date_of_birth} type=\"date\" name=\"date_of_birth\" onChange={changeHeandler}/>\n      <p>описание</p>\n      <textarea value={form.discription} name=\"discription\" id=\"\" cols=\"30\" rows=\"10\" onChange={changeHeandler}></textarea>\n      <div className=\"imageInput\">\n        <label>\n          <p>Image</p>\n          <input type=\"file\" name=\"poster\" id=\"fileElem\" accept=\"image/*\" onChange={handleFiles}/>\n          <div ref={divPoster} className=\"fileList\">\n            <img ref={imgPoster} className=\"inputImg\" alt=\"photoActors\"/>\n          </div>\n        </label>\n      </div>\n      <p>ссылка на сайт</p>\n      <input value={form.url} onChange={changeHeandler} type=\"url\" name=\"url\"/>\n      <button onClick={out}>Отправить</button>\n    </div>\n  )\n}\n","import React,{useState,useEffect,useContext} from 'react'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\n\nexport const AddGanrePage = ({type=\"ganre\"}) => {\n  const auth = useContext(AuthContext)\n  const {goBack} = useHistory()\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [form,setForm] = useState({\n    name:'',\n    discription:'',\n    url:'',\n  })\n\n  const out = async()=>{\n    var data = new FormData();\n    for (var key in form) {\n      data.append(key,form[key])\n    }\n\n    await request(`/api/files/${type}/add`, 'POST',data,{Authorization: `Bearer ${auth.token}`},true)\n    goBack()\n  }\n\nconst changeHeandler = (event)=>{\n  setForm({...form,[event.target.name]:event.target.value})\n}\n\nuseEffect(()=>{\n  message(error, 'error');\n  clearError();\n},[error, message, clearError])\n\n  return(\n    <div className = \"whiteBacground no-pg-top opacity newMovie\">\n      <p>Название</p>\n      <input value={form.name} type=\"text\" name=\"name\" onChange={changeHeandler}/>\n      <p>описание</p>\n      <textarea value={form.discription} name=\"discription\" id=\"\" cols=\"30\" rows=\"10\" onChange={changeHeandler}></textarea>\n      <p>ссылка на сайт</p>\n      <input value={form.url} onChange={changeHeandler} type=\"url\" name=\"url\"/>\n      <button onClick={out}>Отправить</button>\n    </div>\n  )\n}\n","import React,{useState} from 'react'\n\nexport const Header = ({search,name,children})=>{\n  const [searcht, setSearch] = useState('');\n  const [searchtVisible, setSearchVisible] = useState(false);\n\n  const searchHandler = event => {\n    setSearch(event.target.value)\n  }\n\n  const keyd = (e)=>{\n    if(e.keyCode===13&&typeof(search)===\"function\"){\n      search(searcht)\n    }\n  }\n\n  return(\n    <header>\n      {\n        (search)?\n        <>\n        <div className={`btn ${(searchtVisible)?\"active\":\"\"}`} onClick={()=>setSearchVisible(prev=>!prev)}>\n          <i className=\"fas fa-search\"></i>\n        </div>\n        <div className={`search ${(searchtVisible)?\"show\":\"hide\"}`}>\n          <input type=\"search\" name=\"search\" onChange={searchHandler} onKeyDown={keyd} value={searcht}/>\n          <button onClick={()=>search(searcht)} className=\"searchBtn\">Search</button>\n        </div>\n        </>:null\n      }\n      <div className=\"controls\">\n      {children}\n      </div>\n      <h1>{name}</h1>\n    </header>\n  )\n}\n","\n\nfunction lineDatatoNumber(data) {\n  let n = []\n  for (var item of data) {\n    let g = []\n    for (var i = 0; i < item.length; i++) {\n      if(i===0)g.push(item[i])\n      else if(item[i]===null)g.push(0)\n      else g.push(Number(item[i]))\n    }\n    n.push(g)\n  }\n  return n\n}\n\nconst colorLine = [\n  '#f00',\n  '#0f0',\n  '#20B2AA',\n  '#FFA500',\n  '#DA70D6',\n  '#0000FF'\n]\n\nexport const generateDatabyDevice=(data,device)=>{\n  let newData = {\n    columns:[],\n    types:{},\n    names:{},\n    colors:{}\n  }\n  let count = 0\n\n  newData.columns.push(['x'].concat(data.time_line))\n  newData.types.x=\"x\"\n\n  let dev = data.lines[device]\n  if(!dev) return null\n  for (var key in dev) {\n    let line = dev[key]\n    if(!line) continue\n    const linemet = `y${count++}`\n    newData.columns.push([linemet].concat(line))\n    newData.types[linemet]=\"line\"\n    newData.names[linemet] = key\n    newData.colors[linemet] = colorLine[((count-1)>=colorLine.length)?(count-1)-colorLine.length:(count-1)]||'#f00'\n  }\n  newData.columns = lineDatatoNumber(newData.columns)\n  return newData\n}\n\n// function castomZip(arr1, arr2) {\n//   const min = (arr1.length<arr2.length)?arr1.length:arr2.length\n//   let arrdict = []\n//   for (var i = 0; i < min; i++) {\n//     arrdict[i] = { x: new Date(arr1[i]), y: arr2[i] }\n//   }\n//   return arrdict\n// }\n\nexport function toDate(timestamp) {\n  const shortMonths = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ]\n  const date = new Date(timestamp)\n  return `${date.getFullYear()}-${shortMonths[date.getMonth()]}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n}\n\nconst typeFieldToTypeChart = {\n  number:\"area\",\n  binary:\"stepArea\"\n}\n\nexport function getOption(data) {\n  let baseConf = {\n\t\t\ttheme: \"light2\",\n\t\t\tanimationEnabled: true,\n\t\t\t// exportEnabled: true,\n      backgroundColor: \"#333\",\n\t\t\ttitle:{\n\t\t\t\ttext: `${data.deviceName}-${data.name}`,\n\t\t\t},\n\t\t\taxisY:{\n\t\t\t\ttitle: data.valueName||\"Value\",\n\t\t\t},\n      axisX:{\n        valueFormatString: \"DD-MM-YY HH:mm:ss\",\n        margin:5,\n      },\n\t\t\tdata: [{\n\t\t\t\ttype: typeFieldToTypeChart[data.type],\n\t\t\t\txValueFormatString: \"DDD HH:mm:ss\",\n\t\t\t\tmarkerSize: 5,\n\t\t\t\tdataPoints: data.data\n\t\t\t}]\n\t\t}\n  if(data.type===\"binary\"){\n    baseConf.axisY.interval = 1\n    baseConf.axisY.minimum = -0.02\n    baseConf.axisY.maximum = 1.02\n  }\n  return baseConf\n}\n","import React from 'react'\n\nexport const NoContent = ()=>{\n  return (\n    <div className=\"NoContent\">\n      <p>HistoryEmpty</p>\n    </div>\n  )\n}\n","import React from 'react'\nimport {toDate} from '../utils'\n\nexport const HistoryList = ({data,device})=>{\n  return (\n    <div className=\"historyList\">\n      <div className=\"title\">{`${data.deviceName}-${data.name}`}</div>\n      {\n        data.data.map((item)=>{\n          return(\n            <div className=\"historyItem\">\n              <div className=\"date\">{toDate(item.x)}</div>\n              <div className=\"value\">{item.y}</div>\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n","import React,{useState} from 'react'\nimport {getOption} from './utils'\nimport {NoContent} from './scrins/noContent'\nimport {HistoryList} from './scrins/HistoryList'\n\nimport {CanvasJSChart} from 'canvasjs-react-charts'\n\n\nexport const DeviceHistory = ({data,device})=>{\n  const [chartData,setChartData] = useState({})\n\n  // <CanvasJSChart/>\n  function lookforField(fields,name) {\n    for (var item of fields) {\n      if(item.name===name)\n        return item\n    }\n  }\n\n  function stringArreyToNumberArrey(arr) {\n    try {\n      let newArr = []\n      for (var item of arr) {\n        newArr.push({x:new Date(item.date), y:Number(item.value)})\n      }\n      return newArr\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function stringArrey(arr) {\n    try {\n      let newArr = []\n      for (var item of arr) {\n        newArr.push({x:new Date(item.date), y:item.value})\n      }\n      return newArr\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function clickField(event) {\n    const d = data[device.DeviceSystemName][event.target.dataset.name]\n    const field = lookforField(device?.DeviceConfig,event.target.dataset.name)\n    if(!d||!field){\n      setChartData({\n        name:field.name,\n        type:null,\n      })\n      return;\n    }\n    if(d&&(field.type===\"binary\"||field.type===\"number\")){\n      setChartData({\n        name:field.name,\n        deviceName:device?.DeviceName,\n        type:field.type,\n        data:stringArreyToNumberArrey(d)\n      })\n    }\n    else{\n      setChartData({\n        name:field.name,\n        deviceName:device?.DeviceName,\n        type:field.type,\n        data:stringArrey(d)\n      })\n    }\n  }\nconsole.log(data);\n\n  if(!data[device.DeviceSystemName])\n  return null\n\n  return (\n    <div className=\"device-chart-card\">\n      <div className=\"content\">\n      <div className=\"canvasConteiner\">\n      {\n        (chartData.type===\"binary\"||chartData.type===\"number\")?\n        <CanvasJSChart options={getOption(chartData)}/>:\n        (chartData.type)?\n        <HistoryList data={chartData}/>:\n        <NoContent/>\n      }\n      </div>\n      <div className=\"controlCanvasConteiner\">\n        <h2>{device.DeviceName}</h2>\n        <ul className=\"ChartZoom\">\n          <li>All</li>\n          <li>Year</li>\n          <li>Mount</li>\n          <li>Day</li>\n        </ul>\n        {\n          device?.DeviceConfig?.map((item,index)=>(\n            <div className=\"field\" key={index}>\n              <button className={`${(chartData.name === item.name)?'active':''}`} onClick={clickField} data-name={item.name}>{item.name}</button>\n            </div>\n          ))\n        }\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext,useEffect,useState,useCallback} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {Header} from '../components/header'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {SocketContext} from '../context/SocketContext'\nimport {DeviceHistory} from  '../components/history/DeviceHistory'\n\n// const corectedData=(data)=>{\n//   let datetimes = data.charts.time_line.slice()\n//   let oldDate = null\n//   for (var i = 0; i < datetimes.length; i++) {\n//     if(oldDate&&datetimes[i] - oldDate !== 500){\n//       let newTime = datetimes[i]\n//       newTime=newTime-500\n//       let index = data.charts.time_line.indexOf(datetimes[i])\n//       for (var key in data.charts.lines) {\n//         for (var key2 in data.charts.lines[key]) {\n//           let el = data.charts.lines[key][key2][index-1]\n//           data.charts.lines[key][key2].splice(index,0,el)\n//         }\n//       }\n//       data.charts.time_line.splice(index,0,newTime)\n//     }\n//     oldDate = datetimes[i]\n//   }\n//   return data.charts\n// }\n\nexport const ChartsPage = () => {\n  const {setData} = useContext(MenuContext)\n  const {devices} = useContext(SocketContext)\n  const auth = useContext(AuthContext)\n  const {request} = useHttp();\n  const [charts,setCharts] = useState()\n\n  const importCharts = useCallback(async()=>{\n    try {\n      const data = await request(`/api/charts/get`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n      setCharts(data.charts)\n    } catch (e) {\n      console.error(e);\n    }\n  },[request,auth.token])\n\n  useEffect(()=>{\n    setData(\"Add user\")\n  },[setData])\n\n  useEffect(()=>{\n    importCharts()\n  },[importCharts])\n\n  const searchout = (data)=>{\n\n  }\n\n  if(!charts){\n    return null;\n  }\n\n  return(\n      <div className = \"conteiner top bottom\">\n        <Header search={searchout} name=\"Charts\">\n        </Header>\n        <div className = \"Charts\">\n          {\n            (devices)?\n            devices.map((item,index)=>{\n              return <DeviceHistory data={charts} device={item} key={index}/>\n            })\n            :null\n          }\n        </div>\n      </div>\n  )\n}\n","import React,{useEffect,useState,useContext,useCallback} from 'react'\nimport {useParams,Link} from 'react-router-dom'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {AuthContext} from '../../context/AuthContext.js'\n\nexport const MovieDitail = ({type=\"movie\"})=>{\n  const auth = useContext(AuthContext)\n  const {id} = useParams();\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [movie, setMovie] = useState({})\n\n  const getData = useCallback(async()=>{\n    const data = await request(`/api/files/movie/${id}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(data){\n      setMovie(data.movie)\n    }\n  },[request,auth.token,id])\n\n  useEffect(()=>{\n    getData()\n  },[getData])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return (\n    <>\n    <div className=\"z-0 backForm \"></div>\n    <div className=\"conteiner movie-ditail\">\n      <div className=\"base\">\n      <div className=\"div-poster\">\n        <img src={movie.poster} alt=\"poster\"/>\n      </div>\n      <div className=\"div-vertical-separator\"></div>\n      <div className=\"div-movie-info\">\n        <div className=\"discription\">\n          <h2>{movie.title}</h2>\n          <p>{movie.discription}</p>\n        </div>\n        <div className=\"control\">\n          <button className=\"btn\">открыть</button>\n          <Link className=\"btn\" to={`/${type}/edit/${id}`}>Изменить</Link>\n        </div>\n        <div className=\"about-the-film\">\n          <div className=\"paragraph\">\n            <div className=\"name\">год производства</div>\n            <div className=\"value\">{movie.year}</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">страна</div>\n            <div className=\"value\">{movie.country}</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">жанр</div>\n            <div className=\"value\">{\n              (movie&&movie.genres)?\n              movie.genres.map((item,index,arr)=>{\n                return (\n                  <div className=\"d-in\" key={index}>\n                    <a href={(item.url&&item.url!==\"-\")?item.url:null}>{item.name}</a>\n                    {(arr.length-1!==index)?<span>, </span>:null}\n                  </div>\n                )\n              }):null\n            }</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">слоган</div>\n            <div className=\"value\">{movie.tagline}</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">режисеры</div>\n            <div className=\"value flex div-slider\">{\n              (movie&&movie.directors)?\n              movie.directors.map((item,index)=>{\n                return (\n                  <div className=\"director-or-actor-card\" key={index}>\n                    <div className=\"photo-img\">\n                      <img src={item.image} alt={item.name}/>\n                    </div>\n                    <p>{item.name}</p>\n                  </div>\n                )\n              })\n              :null\n            }</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">бютжет</div>\n            <div className=\"value\">{movie.budget}$</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">сборы в США</div>\n            <div className=\"value\">{movie.fees_in_usa}$</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">сборы в мире</div>\n            <div className=\"value\">{movie.fees_in_world}$</div>\n          </div>\n          <div className=\"paragraph\">\n            <div className=\"name\">премьера в мире</div>\n            <div className=\"value\">{movie.world_premiere}</div>\n          </div>\n        </div>\n      </div>\n      </div>\n      <div className=\"actors\">\n        <h3>Актеры</h3>\n        <div className=\"flex div-slider\">{\n          (movie&&movie.actors)?\n          movie.actors.map((item,index)=>{\n            return (\n              <div className=\"director-or-actor-card\" key={index}>\n                <div className=\"photo-img\">\n                  <img src={item.image} alt={item.name}/>\n                </div>\n                <p>{item.name}</p>\n              </div>\n            )\n          })\n          :null\n        }</div>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React,{useContext} from 'react'\nimport {FormContext} from '../Form/formContext'\nimport {TypeDeviceContext} from '../typeDevices/typeDevicesContext.js'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\n\nconst baseAddressList = {\n  state:\"state\",\n  power:\"state\",\n  dimmer:\"brightness\",\n  brightness:\"brightness\",\n  color: \"color\",\n  temp: \"temp\",\n  color_temp: \"temp\",\n  mode: \"mode\"\n}\nconst baseMinMax = {\n  base:{\n    min:\"0\",\n    max:\"255\",\n    icon:'',\n    type:\"text\",\n\n  },\n  state:{\n    min:\"0\",\n    max:\"1\",\n    icon:\"\",\n    type:\"binary\"\n  },\n  brightness:{\n    min:\"0\",\n    max:\"100\",\n    icon:'',\n    type:\"range\"\n  },\n  color:{\n    min:\"1600\",\n    max:\"3600\",\n    icon:\"\",\n    type:\"range\",\n  },\n  temp:{\n    min:\"0\",\n    max:\"40\",\n    icon:\"\",\n    type:\"range\",\n  },\n  mode:{\n    min:\"0\",\n    max:\"2\",\n    icon:'',\n    type:\"number\"\n  }\n}\n\n\nexport const MQTTElement = ({data, onClickMessage}) =>{\n  const {show} = useContext(DialogWindowContext)\n  const types = useContext(TypeDeviceContext)\n  const form = useContext(FormContext)\n\n  const typeList = ()=>types?.type?.map(item=>{\n    return {\n      title: item.title,\n      data: item.title,\n    }\n  })\n\n  function dictToList(dict) {\n    let arr = []\n    for (var key in dict) {\n      let val = dict[key]\n      if(typeof(dict[key])===\"object\"||typeof(dict[key])===\"boolean\"){\n        val = JSON.stringify(val)\n      }\n      if(val.length>100){\n        val = \"...\"\n      }\n      arr.push({name:key,value:val})\n    }\n    return arr\n  }\n\n  let message\n  let typeMessage = 'value'\n  let mes = data.message\n  try {\n    mes = JSON.parse(mes)\n    typeMessage = 'json'\n  }catch(e){}\n  if(typeof(mes)===\"object\"){\n    message = dictToList(mes)\n  }else{\n    if(typeof(mes)===\"boolean\"){\n      mes = JSON.stringify(mes)\n    }\n    let topicComponents = data.topic.split('/')\n    let field = topicComponents.pop()\n    message = [{name:field,value:mes}]\n  }\n\n  function Decice() {\n    let devices = []\n    if(data.lincs){\n      for (var item of data.lincs) {\n        let dev = item.device\n        let field\n        if(dev.valueType!==\"json\" && item.field){\n          field = item.field.name\n        }\n        devices.push(`${dev.systemName}${(field)?`.${field}`:''}`)\n      }\n      return devices\n    }\n    return []\n  }\n\n  function lincDecice() {\n    show(\"confirmation\",{\n      title:\"Types\",\n      items:typeList(),\n      active:(ret)=>{\n        let topicComponents = data.topic.split('/')\n        if(topicComponents[topicComponents.length-1]===\"set\")\n          topicComponents.pop()\n        if(typeMessage===\"value\"){\n          topicComponents.pop()\n        }\n        let address = topicComponents.join('/')\n        let conf = []\n        let typeControl = \"text\"\n        for (var item of message) {\n          let ctype = baseAddressList[item.name]\n          if(!ctype)\n            ctype = item.name\n          let cMinMax = baseMinMax[ctype]\n          if(!cMinMax){\n            cMinMax = baseMinMax[\"base\"]\n          }\n          let caddress = item.name\n          let clow = cMinMax.min\n          let chigh = cMinMax.max\n          let cicon = cMinMax.icon\n          typeControl = cMinMax.type||typeControl\n          let confel = {\n            name:ctype,\n            address:caddress,\n            low:clow,\n            high:chigh,\n            icon:cicon||\"\",\n            type:typeControl,\n            control:(ret!==\"sensor\")\n          }\n          conf.push(confel)\n        }\n        form.show(\"LinkDevices\",null,{\n          typeConnect: \"Mqtt_MQTTDevice\",\n          type: ret,\n          address: address,\n          valueType: typeMessage,\n          fields: conf\n        })\n      }\n    })\n  }\n\n  return(\n    <>\n      <td>{data.topic}</td>\n      <td onClick={(e)=>onClickMessage({...e,typeMessage})}>{\n        message.map((item,index)=>{\n          return <span className=\"mqttMessageStr\" key={index}>{item.name}: {item.value}, </span>\n        })\n      }</td>\n      <td>{\n        (!Decice()||!Decice()[0])?\n        \"NuN\":\n        Decice().map((item,index)=>{\n          return <p className=\"mqttMessageStr\" key={index}>{item}</p>\n        })\n      }</td>\n      <td><button onClick={lincDecice} className=\"iconbutton\" title=\"связать\"><i className=\"fas fa-link\"></i></button></td>\n    </>\n  )\n}\n","import React,{useEffect,useState,useCallback,useContext} from 'react'\nimport {Loader} from '../components/Loader'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {MQTTElement} from '../components/mqttCards/mqttCard'\nimport {SocketContext} from '../context/SocketContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {BackForm} from '../components/backForm'\n\nexport const MqttPage = ()=>{\n  const auth = useContext(AuthContext)\n  const [deviceMqtt,setDeviceMqtt] = useState([])\n  const [allDeviceMqtt, setAllDeviceMqtt] = useState([])\n  const [searchTopik, setSearchTopik] = useState(\"\")\n  const [searchDevice, setSearchDevice] = useState(\"\")\n  const [ditail, setDitail] = useState(null)\n  const {loading, request, error, clearError} = useHttp();\n  const socket = useContext(SocketContext)\n  const {message} = useMessage();\n  const {setData} = useContext(MenuContext)\n\n  const getDev = useCallback(async () => {\n    try {\n      let data = await request('/api/module/mqtt/get', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n      if(data){\n        setDeviceMqtt(data)\n        setAllDeviceMqtt(data)\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  },[request,auth.token])\n\n  function Decice(data) {\n    let devices = []\n    if(data.lincs){\n      for (var item of data.lincs) {\n        let dev = item.device\n        let field\n        if(dev.valueType!==\"json\" && item.field){\n          field = item.field.name\n        }\n        devices.push(`${dev.systemName}${(field)?`.${field}`:''}`)\n      }\n      return devices\n    }\n    return []\n  }\n\n  useEffect(()=>{\n    let array = allDeviceMqtt\n    if(searchTopik!==\"\"){\n      array = array.filter(item => item.topic.indexOf(searchTopik)!==-1)\n    }\n    if(searchDevice!==\"\"){\n      array = array.filter(item => {\n        let lincs = Decice(item)\n        for (var item2 of lincs) {\n          if(item2.indexOf(searchDevice)!==-1)\n            return true\n        }\n        return false\n      })\n    }\n    setDeviceMqtt(array)\n  },[searchTopik,allDeviceMqtt,searchDevice])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  useEffect(()=>{\n    getDev()\n  },[getDev])\n\n  useEffect(()=>{\n    if(socket.message.type===\"mqtt\") {\n      setAllDeviceMqtt(socket.message.data)\n    }\n  },[socket.message])\n\n  const clearMqtt = useCallback(()=>{\n    request('/api/module/mqtt/clear', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n    getDev()\n  },[request,auth.token, getDev])\n\n  useEffect(()=>{\n    setData(\"MQTT\",{\n      dopmenu: [\n        {\n          title:\"clear\",\n          onClick:clearMqtt\n        },\n        {\n          title:\"update\",\n          onClick:getDev\n        }\n      ]\n    })\n  },[setData, getDev, clearMqtt])\n\n//   function syntaxHighlight(json) {\n//     json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n//     return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n//         var cls = 'number';\n//         if (/^\"/.test(match)) {\n//             if (/:$/.test(match)) {\n//                 cls = 'key';\n//             } else {\n//                 cls = 'string';\n//             }\n//         } else if (/true|false/.test(match)) {\n//             cls = 'boolean';\n//         } else if (/null/.test(match)) {\n//             cls = 'null';\n//         }\n//         return '<span class=\"' + cls + '\">' + match + '</span>';\n//     });\n// }\n\n  return (\n    <div className=\"conteiner bottom\">\n    {\n      (ditail)?\n      <BackForm onClick={()=>setDitail(null)}>\n        <div className=\"infoCard\">\n          <div className=\"field\">{ditail.topic}</div>\n          <div className=\"field\">\n            <pre>\n              {\n                (ditail?.event?.typeMessage===\"json\")?\n                JSON.stringify(JSON.parse(ditail.item.message), undefined, 4):\n                ditail.item.message\n              }\n            </pre>\n          </div>\n          <div className=\"field\">{Decice(ditail)}</div>\n        </div>\n      </BackForm>:\n      null\n    }\n      {\n        (loading||!deviceMqtt)?\n        <Loader/>:\n        <div>\n          <div className=\"mqttTableDiv\">\n            <table className=\"mqttTable\">\n              <thead>\n                <tr>\n                  <th>\n                    <div className=\"input-data\">\n                      <input onChange={(e)=>setSearchTopik(e.target.value)} value={searchTopik} required name=\"adress\" type=\"text\"></input>\n                      <label>Adress</label>\n                    </div>\n                  </th>\n                  <th>Message</th>\n                  <th>\n                    <div className=\"input-data\">\n                      <input onChange={(e)=>setSearchDevice(e.target.value)} value={searchDevice} required name=\"device\" type=\"text\"></input>\n                      <label>Linc device</label>\n                    </div>\n                  </th>\n                  <th>Control</th>\n                </tr>\n              </thead>\n              <tbody>\n              {\n                deviceMqtt.map((item,index)=>{\n                  return (\n                    <tr key={index}>\n                      <MQTTElement data = {item} onClickMessage={(event)=>setDitail({event,item})}/>\n                    </tr>\n                  )\n                })\n              }\n              </tbody>\n            </table>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n","import React,{useContext} from 'react'\nimport {FormContext} from '../Form/formContext'\nimport {RunText} from '../runText'\nimport {Menu} from '../Menu/dopmenu/menu'\nimport {TypeDeviceContext} from '../typeDevices/typeDevicesContext.js'\nimport {DialogWindowContext} from '../dialogWindow/dialogWindowContext'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\n\n\nexport const ZigbeeElement = ({data}) =>{\n  const auth = useContext(AuthContext)\n  const {request} = useHttp();\n  const form = useContext(FormContext)\n  const types = useContext(TypeDeviceContext)\n  const {show, hide} = useContext(DialogWindowContext)\n\n  const rename = (newName) => {\n    request('/api/module/zigbee2mqtt/device/rename', 'POST',{name:data.name,newName},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const deleteDevice = () => {\n    request(`/api/module/zigbee2mqtt/device/delete/${data.address}`, 'GET', null, {Authorization: `Bearer ${auth.token}`})\n  }\n\n  const convertForm = (exposes)=>{\n    let newArr = []\n    for (var item of exposes) {\n      if(item.features)\n      {\n        for (var item2 of item.features) {\n          item2.name = item2.endpoint\n          item2.control = true\n          newArr.push(item2)\n        }\n      }\n      else {\n        newArr.push(item)\n      }\n    }\n    return newArr;\n  }\n\n  const dupCorrekt = (arr)=>{\n    let arr2 = []\n    let flag = true\n    for (var item of arr) {\n      flag = true\n      if(item.endpoint && item.endpoint !== item.name)\n        item.name = item.name + \"_\" + item.endpoint\n      for (var item2 of arr2) {\n        if(item.name === item2)\n          flag = false\n      }\n      if(flag)\n        arr2.push(item.name)\n      else {\n        item.name = item.name + \"_\" + arr2.indexOf(item.name)\n        arr2.push(item.name)\n      }\n    }\n    return arr\n  }\n\n  const typeList = ()=>types?.type?.map(item=>{\n    return {\n      title: item.title,\n      data: item.title,\n    }\n  })\n\n  const valmaxmin=(val, def)=>{\n    if(val === 0)\n      return 0\n    if(val === false)\n      return false\n    return val||def\n  }\n\n  const linc = ()=>{\n    let conf = []\n    for (var item of dupCorrekt(convertForm(data.exposes))) {\n      let type = item.type\n      if(item.type===\"numeric\")\n        type=\"number\"\n      let values = \"\"\n      if(item.values){\n        values = item.values.join(\", \")\n      }\n      let confel = {\n        name:item.name,\n        address:item.property,\n        low:valmaxmin(item.value_min||item.value_off,0),\n        high:valmaxmin(item.value_max||item.value_on,1000000),\n        icon:\"\",\n        type:type,\n        unit:item.unit,\n        values:values,\n        control:item.endpoint||false\n      }\n      conf.push(confel)\n    }\n    show(\"confirmation\",{\n      title:\"Types\",\n      items:typeList(),\n      active:(d)=>addDev(d,conf)\n    })\n  }\n\n  function addDev(data1,conf) {\n    console.log(\"dfg\");\n    form.show(\"LinkDevices\",null,{\n      typeConnect: \"Zigbee_ZigbeeDevice\",\n      type: data1,\n      address: data.allAddress,\n      valueType: \"json\",\n      fields: conf\n    })\n    hide()\n  }\n\n  function buttons() {\n    let arr = []\n    if(data.exposes){\n      arr.push({\n        title:\"linc\",\n        onClick:linc\n      })\n    }\n    if(data.type!==\"Coordinator\"){\n      arr.push({\n        title:\"rename\",\n        onClick:()=>show(\"text\",{\n          title:\"Rename\",\n          text:\"input new name\",\n          placeholder:\"new name\",\n          active:rename\n        })\n      })\n      arr.push({\n        title:\"delete\",\n        onClick:()=>show(\"alert\",{\n          title:\"Delete\",\n          text:\"Delete device\",\n          buttons:[\n            {\n              title:\"cancel\"\n            },\n            {\n              title:\"ok\",\n              action:deleteDevice\n            }\n          ]\n        })\n      })\n    }\n    return arr\n  }\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <div className = {`typeConnect zigbee`}>\n          <p>zigbee</p>\n        </div>\n        <div className = {`typeConnect zigbee`}>\n          <p>{data.address}</p>\n        </div>\n        <RunText className=\"DeviceName\" id={data.name} text={data.name||\"NuN\"}/>\n        <Menu buttons={buttons()}/>\n      </div>\n      {\n        (data.exposes)?\n        <div className=\"dividers\"></div>\n        :null\n      }\n      <div className = \"NewCardBody\">\n        <ul>\n        {(data.exposes)?\n          convertForm(data.exposes).map((item,index)=>{\n            return(\n              <li className=\"DeviceControlLi\" key={index}>\n                <div className=\"DeviceControlLiName\">\n                  <p>{item.name}</p>\n                </div>\n                <div className=\"DeviceControlLiContent\">\n                  <div className=\"DeviceControlLiValue\">\n                    <p>{item.type}</p>\n                  </div>\n                </div>\n              </li>\n            )\n          }):null\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React,{useEffect,useState,useCallback,useContext} from 'react'\nimport {Loader} from '../components/Loader'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHttp} from '../hooks/http.hook'\nimport {SocketContext} from '../context/SocketContext'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {ZigbeeElement} from '../components/zigbeeCard/Card'\n\nexport const ZigbeePage = ()=>{\n  const auth = useContext(AuthContext)\n  const {message} = useContext(SocketContext)\n  const [device,setDevice] = useState([])\n  const [allDevice,setAllDevice] = useState([])\n  const [searchtest,setSearchtest] = useState(\"\")\n  const [permitJoin,setPermitJoin] = useState(false)\n  const {setData} = useContext(MenuContext)\n  const {loading, request} = useHttp();\n\n  const rebootStik = useCallback(() => {\n    request('/api/module/zigbee2mqtt/reboot', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n  },[request,auth.token])\n\n  const pairing = useCallback((state) => {\n    setPermitJoin(state)\n    request('/api/module/zigbee2mqtt/permit_join/set', 'POST',{state},{Authorization: `Bearer ${auth.token}`})\n  },[request, auth.token])\n\n  const zigbeeDevice = useCallback(async () => {\n    try {\n      let data = await request('/api/module/zigbee2mqtt/device/all', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n      console.log(data);\n      if(data){\n        setAllDevice(data)\n      }\n      let data2 = await request('/api/module/zigbee2mqtt/permit_join/get', 'GET',null,{Authorization: `Bearer ${auth.token}`})\n      setPermitJoin(data2.state)\n    } catch (e) {}\n  },[request,auth.token])\n\n  useEffect(()=>{\n    zigbeeDevice()\n  },[zigbeeDevice])\n\n  useEffect(()=>{\n    if(message.type===\"zigbee\")\n    {\n      console.log(message);\n      setAllDevice(message.data)\n    }\n  },[message])\n\n  useEffect(()=>{\n    if(searchtest===\"\"){\n      setDevice(allDevice)\n      return\n    }\n    let array = allDevice.filter(item => item&&item.name.toLowerCase().indexOf(searchtest.toLowerCase())!==-1)\n    setDevice(array)\n  },[allDevice,searchtest])\n\n  const searchout = useCallback((data)=>{\n    setSearchtest(data)\n  },[])\n\n  useEffect(()=>{\n    setData(\"Zigbee\",{\n      search: searchout,\n      dopmenu: [\n        {\n          title:\"update\",\n          onClick:zigbeeDevice\n        },\n        {\n          title:\"reboot\",\n          onClick:rebootStik\n        },\n        {\n          title:\"pairing mode\",\n          active:permitJoin,\n          onClick:()=>pairing(!permitJoin)\n        },\n      ]\n    })\n  },[setData,zigbeeDevice,permitJoin,rebootStik,pairing,searchout])\n\n  return (\n    <div className=\"conteiner bottom\">\n      {\n        (loading)?\n        <Loader/>:\n        <div className = \"Devices\">\n        <div className = \"CardConteiner\">\n        {\n          device.map((item,index)=>{\n            return(\n              <ZigbeeElement key={index} data={item}/>\n            )\n          })\n        }\n        </div>\n        </div>\n      }\n    </div>\n  )\n}\n","import {useCallback} from 'react'\n\nexport const useDecodePath = () => {\n  const gettext = useCallback((root, path)=>{\n    try {\n      let p = path.split('.').slice(1)\n      let content = root\n      for (var item of p) {\n        if(item === \"\")\n          continue;\n        content = content[item]\n      }\n      return content\n    } catch (e) {\n      return null\n    }\n  },[])\n\n  const getfields = useCallback((field, root)=>{\n    if(field.type===\"text\")\n      return field.value\n    else if(field.type===\"path\")\n      return gettext(root, field.path)\n    else\n      return \"non\"\n  },[gettext])\n\n  return {gettext, getfields}\n}\n","import {useCallback, useContext, useEffect} from 'react'\nimport {useDecodePath} from './pathDecodhook'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {useParams} from 'react-router-dom'\nimport {FormContext} from '../../components/Form/formContext'\nimport {TypeDeviceContext} from '../../components/typeDevices/typeDevicesContext.js'\nimport {DialogWindowContext} from '../../components/dialogWindow/dialogWindowContext'\n\nexport const useMenuModuls = () => {\n  const {getfields} = useDecodePath()\n  const {show} = useContext(DialogWindowContext)\n  const types = useContext(TypeDeviceContext)\n  const form = useContext(FormContext)\n  let {name} = useParams();\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  const typeList = useCallback(()=>types?.type?.map(item=>{\n    return {\n      title: item.title,\n      data: item.title,\n    }\n  }),[types])\n\n  const clickmenu = useCallback(async(config, root, update)=>{\n    console.log(config,name);\n    for (let item of config) {\n      if(item.type === \"update\")\n        update()\n      else if(item.type === \"request\"){\n        await request(item.address, item.method, item.body,{Authorization: `Bearer ${auth.token}`})\n      }\n      else if(item.type === \"linc\" && name && root){\n        const device = await request(`/api/page/linc/device/${name}`, \"POST\", {device:root},{Authorization: `Bearer ${auth.token}`})\n        show(\"confirmation\",{\n          title:\"Types\",\n          items:typeList(),\n          active:(ret)=>{\n            form.show(\"LinkDevices\",null,{...device, type: ret})\n          }\n        })\n      }\n      else{}\n    }\n  },[auth.token,request,name,typeList,show,form])\n\n  const getmenu = useCallback((config, root, update)=>{\n    if(!(config?.menu)) return ;\n    let arr = []\n    for (let item of config.menu) {\n      arr.push({\n        title:getfields(item.title,root),\n        onClick:()=>clickmenu(item.action, root, update),\n        active:false\n      })\n    }\n    return arr\n  },[clickmenu,getfields])\n\n  return {getmenu}\n}\n","import React from 'react'\nimport {RunText} from '../../components/runText'\nimport {useDecodePath} from './pathDecodhook'\n\nexport const Card = ({conf={}, data={}}) =>{\n  const {getfields} = useDecodePath()\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <RunText className=\"DeviceName\" id={getfields(conf?.title, data)} text={getfields(conf?.title, data)}/>\n      </div>\n      <div className=\"dividers\"></div>\n      <div className = \"NewCardBody\">\n        <ul>\n        {\n          conf?.fields?.map((item,index)=>{\n            return(\n              <li className=\"DeviceControlLi\" key={index}>\n                <div className=\"DeviceControlLiName\">\n                  <p>{getfields(item.title, data)}</p>\n                </div>\n                <div className=\"DeviceControlLiContent\">\n                  <div className=\"DeviceControlLiValue\">\n                    <p>{getfields(item.value, data)}</p>\n                  </div>\n                </div>\n              </li>\n            )\n          })\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {Menu} from '../../components/Menu/dopmenu/menu'\nimport {useDecodePath} from './pathDecodhook'\nimport {useMenuModuls} from './menuModuls'\n\nexport const Table = ({data=[], conf}) => {\n  const {getmenu} = useMenuModuls()\n  const {getfields} = useDecodePath()\n\n  // const clickmenu = (item, datael)=>{\n  //   console.log(item,datael);\n  //\n  // }\n\n  // const getMenubtns = (menu,datael)=>{\n  //   let arr = []\n  //   for (let item of menu) {\n  //     arr.push({\n  //       title:getfields(item.title,datael),\n  //       onClick:()=>clickmenu(item,datael)\n  //     })\n  //     return arr\n  //   }\n  // }\n\n  return (\n    <div className=\"mqttTableDiv\">\n      <table className=\"mqttTable\">\n        <thead>\n          <tr>\n          {\n            conf?.fields.map((item, index)=>{\n              return(\n                <th key={index}>\n                  {item.title}\n                </th>\n              )\n            })\n          }\n          {\n            (conf.menu)?\n            <th className=\"menu\">\n            </th>\n            :null\n          }\n          </tr>\n        </thead>\n        <tbody>\n        {\n          data?.map((item, index)=>{\n            return(\n              <tr key={index}>\n                {\n                  conf.fields.map((item2, index2)=>{\n                    return(\n                      <td key={index2}>\n                        {getfields(item2.value, item)}\n                      </td>\n                    )\n                  })\n                }\n                {\n                  (conf.menu)?\n                  <td className=\"menu\">\n                  <Menu className=\"table\" buttons={getmenu(conf, item, ()=>{})}/>\n                  </td>\n                  :null\n                }\n              </tr>\n            )\n          })\n        }\n        </tbody>\n      </table>\n    </div>\n  )\n}\n","import React,{useState, useEffect, useCallback, useContext} from 'react'\nimport {AuthContext} from '../../context/AuthContext.js'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\nimport {SocketContext} from '../../context/SocketContext'\nimport {useDecodePath} from './pathDecodhook'\nimport {useMenuModuls} from './menuModuls'\nimport {Card} from './Card'\nimport {Table} from './table'\n\nexport const Page = ({data={}, updateMenu}) => {\n  const auth = useContext(AuthContext)\n  const socket = useContext(SocketContext)\n  const {getfields, gettext} = useDecodePath()\n  const {getmenu} = useMenuModuls()\n  const [dataPage, setDataPage] = useState([])\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const getData = useCallback(async()=>{\n    if(!(data?.src)) return ;\n    const data1 = await request(data?.src, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    setDataPage(data1)\n    return data1\n  },[request,auth.token,data])\n\n  useEffect(()=>{\n    if(!(data?.ws_src)) return ;\n    if(socket.message.type===data?.ws_src) {\n      setDataPage(socket.message.data)\n    }\n  },[socket.message,data?.ws_src])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  useEffect(()=>{\n    getData()\n  },[getData])\n\n  useEffect(()=>{\n    if (!(data?.menu)) return ;\n    updateMenu(getmenu(data, dataPage, getData))\n  },[dataPage,data,getfields,updateMenu,getData,getmenu])\n\n  return (\n    <div className={`conteiner ${(data?.content?.typeContent === \"table\")?\"color-normal\":\"\"}`}>\n      {\n        (data?.content?.typeContent === \"cards\")?\n        <div className=\"Devices\">\n        <div className=\"CardConteiner\">\n        {\n          gettext(dataPage, data.content.rootField)?.map((item, index)=>{\n            return(\n              <Card key={index} data={item} conf={data.content.items}/>\n            )\n          })\n        }\n        </div>\n        </div>:\n        (data?.content?.typeContent === \"table\")?\n        <Table data={gettext(dataPage, data.content.rootField)} conf={data.content.items}/>\n        :null\n      }\n    </div>\n  )\n}\n","import React,{useState, useEffect, useCallback, useContext} from 'react'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useMessage} from '../hooks/message.hook'\nimport {useHttp} from '../hooks/http.hook'\nimport {useParams} from 'react-router-dom'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {Page} from './modulsPageComponents/page'\n\nexport const ModulsPage = () => {\n  const auth = useContext(AuthContext)\n  let {name} = useParams();\n  const [dataPage, setDataPage] = useState({})\n  const [dataActivePage, setDataActivePage] = useState({})\n  const {message} = useMessage();\n  const {setData} = useContext(MenuContext)\n  const {request, error, clearError} = useHttp();\n\n  const getData = useCallback(async()=>{\n    const data = await request(`/api/page/get/${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    console.log(data,data?.pages[0]);\n    setDataPage(data)\n    setDataActivePage(data?.pages[0])\n  },[request,name,auth.token])\n\n  const updateMenu = useCallback(async(menu)=>{\n    setData(dataPage?.name,{\n      dopmenu: menu\n    })\n  },[setData, dataPage?.name])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  useEffect(()=>{\n    getData()\n  },[getData])\n\n  useEffect(()=>{\n    setData(dataPage?.name)\n  },[setData,dataPage])\n\n  return (\n    <Page data={dataActivePage} updateMenu={updateMenu}/>\n  )\n}\n","import {createContext} from 'react'\n\nexport const GroupFormContext = createContext()\n","import React, {useContext,useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {RunText} from './runText'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {Power} from './controlComponents/power'\nimport {Dimmer} from './controlComponents/dimmer'\nimport {Mode} from './controlComponents/mode'\nimport {Enum} from './controlComponents/enum'\nimport {Text} from './controlComponents/text'\nimport {Menu} from './Menu/dopmenu/menu'\nimport {GroupFormContext} from './groupForm/groupFormContext'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const GroupCard = ({group, updata}) =>{\n  const history = useHistory()\n  const {devices, updateDevice} = useContext(SocketContext)\n  const form = useContext(GroupFormContext)\n  const auth = useContext(AuthContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const detailDevice = ()=>{\n    if(group?.status === \"online\" && group?.value)\n      history.push(`/group/ditail/${group.systemName}`)\n  }\n\n  const getdevice = (names) => devices.filter((item)=>names.includes(item.systemName))\n\n  const getValue = (name, type=null)=>{\n    let val = 0\n    let arr = getdevice(group?.devices?.map(item=>item.name))\n    for (var item of arr) {\n      for (var item2 of item.fields) {\n        if(item2.name === name && item2.type === type)\n          return item?.value[name]\n      }\n    }\n    return val\n  }\n\n  const getFields = ()=>{\n    return group?.fields?.map(item=>({...item, value:getValue(item.name, item.type)}))\n  }\n\n  const outValue = async(systemName, type, v)=>{\n    await request('/api/group/value/set', 'POST', {systemName: systemName,type:type,status:v},{Authorization: `Bearer ${auth.token}`})\n  }\n\n  const editDevices = ()=>{\n    form.show(\"deviceInGroup\", group, async(_, group)=>{\n      await request(`/api/group/device/edit/${group.systemName}`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n      if(typeof(updata) === \"function\")\n        updata()\n    })\n  }\n\n  const editFields = ()=>{\n    form.show(\"fieldInGroup\", group, async(_, group)=>{\n      await request(`/api/group/field/edit/${group.systemName}`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n      if(typeof(updata) === \"function\")\n        updata()\n    })\n  }\n\n  const deleteGroup = async()=>{\n    await request(`/api/group/delete/${group.systemName}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(typeof(updata) === \"function\")\n      updata()\n  }\n\n  if(!group){\n    return null\n  }\n\n  return(\n    <div className = \"NewCardElement\">\n      <div className = \"NewCardHeader\">\n        <RunText onClick={detailDevice} className=\"DeviceName\" id={group.systemName} text={group.name||\"NuN\"}/>\n        {\n          (auth.userLevel >= 3)?\n          <Menu buttons={[\n            {\n              title:\"edit\",\n              onClick:()=>history.push(`/groups/edit/${group.systemName}`)\n            },\n            {\n              title:\"device\",\n              onClick:editDevices\n            },\n            {\n              title:\"edit fields\",\n              onClick:editFields\n            },\n            {\n              title:\"delete\",\n              onClick:deleteGroup\n            }\n          ]}/>\n          :null\n        }\n      </div>\n      <div className=\"dividers\"></div>\n      <div className = \"NewCardBody\">\n        <ul>\n        {\n          getFields().map((item,index)=>{\n            if(item.type===\"binary\" && item.control){\n              return <Power outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={(String(item.value)===\"1\")?true:false} type={item.name}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Dimmer outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={Number(item.value)} type={item.name} title = {item.name} conf={{min:item.low,max:item.high}}/>\n            }\n            if(item.type===\"number\"&& item.control){\n              return <Mode outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={Number(item.value)} type={item.name} conf={Number(item.high)}/>\n            }\n            if(item.type===\"enum\"&& item.control){\n              return <Enum outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={item.value} type={item.name} conf={item.values}/>\n            }\n            if(item.type===\"text\"&& item.control){\n              return <Text outValue={outValue} key={index} updata = {updateDevice} systemName={group.systemName} value={item.value} type={item.name} conf={item.values} title={item.name}/>\n            }\n            if(!item.control){\n              return(\n                <li className=\"DeviceControlLi\" key={index}>\n                  <div className=\"DeviceControlLiName\">\n                    <p>{item.name}</p>\n                  </div>\n                  <div className=\"DeviceControlLiContent\">\n                    <div className=\"DeviceControlLiValue\">\n                      <p>{getValue(item.name, item.type)}</p>\n                    </div>\n                  </div>\n                </li>\n              )\n            }\n            return null\n          })\n        }\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import {SHOW_GROUP, HIDE_GROUP} from '../types'\n\nconst handlers={\n  [SHOW_GROUP]:(state,{payload}) => ({...payload, visible:true}),\n  [HIDE_GROUP]:state => ({...state, visible:false}),\n  DEFAULT: state => state\n}\n\nexport const formReducer = (state, action)=>{\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React, {useState} from 'react'\n\nconst foo = (v) => {}\n\nexport const Switch = ({value, onClick = foo}) =>{\n  const [newvalue, setValue]=useState(value||false)\n\n  const clickHandler = event =>{\n    setValue(event.target.checked)\n    onClick(event.target.checked)\n  }\n\n  return(\n    <div className=\"switchContainer\">\n    <label className=\"switch\">\n      <input onChange={clickHandler} name=\"auteStyle\" type=\"checkbox\" checked={newvalue}></input>\n      <span></span>\n      <i className=\"indicator\"></i>\n    </label>\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport {Switch} from '../../switch'\n\nexport const Device = ({device, onClick, setGroupDevice, groupDevice, added=false, field=false})=>{\n  const [visible, setVisible] = useState(false)\n\n  const togle = (event)=>{\n    if(event.target.className.split(\" \")[0]!==\"hidingLi\"&&event.target.parentNode.className.split(\" \")[0]!==\"hidingLi\") return;\n    setVisible(!visible)\n  }\n\n  const clickHandler = (val, name, type)=>{\n    let arr = groupDevice.fields.slice();\n    if (!val)\n      arr = arr.filter((item)=>item.name !== name)\n    if (val)\n      arr.push({name, type})\n    setGroupDevice({...groupDevice, fields:arr})\n  }\n\n  const isField = namef => groupDevice.fields.filter(item => item.name === namef).length !== 0\n\n  return(\n    <li name = \"HidingLi\" className={`hidingLi ${(visible)?\"show\":\"hide\"}`}>\n      <h3 value = \"HidingLi\" className=\"LiTitle\">{device?.name} {device?.systemName}</h3>\n      {\n        (field)?\n        <i value = \"HidingLi\" className=\"iconOpenField fas fa-chevron-down\" onClick={togle}></i>\n        :null\n      }\n      <i value = \"HidingLi\" className={`iconAdded ${(added)?\"added\":\"\"} fas fa-plus`} onClick={onClick}></i>\n      {\n        (field)?\n        <div className=\"LiContent\">\n          {\n            device?.fields?.map((item, index)=>{\n              return(\n                <div className=\"devEl\" key={index}>\n                <p>{item.name}</p>\n                <Switch onClick={(v)=>clickHandler(v, item.name, item.type)} value={isField(item.name)}/>\n                </div>\n              )\n            })\n          }\n        </div>\n        :null\n      }\n    </li>\n  )\n}\n","import React, {useContext, useState, useEffect} from 'react'\nimport {GroupFormContext} from '../groupFormContext'\nimport {Device} from './deviceEl'\nimport {SocketContext} from '../../../context/SocketContext'\n\nexport const AddDevice = ()=>{\n  const {form, hide} = useContext(GroupFormContext)\n  const {devices} = useContext(SocketContext)\n  const [groupDevice, setGroupDevice] = useState([])\n  const [fields, setFields] = useState([])\n\n  const dev = (systemName)=>devices.filter((item2)=>item2.systemName === systemName)[0]\n\n  const otherdev = ()=>{\n    let arr = devices\n    for (var item of groupDevice) {\n      let dev = item\n      arr = arr.filter((item2)=>item2.systemName !== dev.name)\n    }\n    return arr\n  }\n\n  useEffect(()=>{\n    setGroupDevice(form.group.devices)\n    setFields(form.group.fields)\n  },[form.group])\n\n  const outHandler = async()=>{\n    form.OK(groupDevice, {...form.group, devices:groupDevice, fields})\n    hide()\n  }\n\n  const getGroupDevice = (groupdevices) => devices.filter((item)=>groupdevices.includes(item.systemName))\n\n  const getfields  = (fieldsList, fields) => {\n    let arr = fieldsList.slice()\n    for (var item of fields) {\n      let field = item\n      if (arr.filter((item2)=>field.name === item2.name).length === 0)\n        arr.push(item)\n    }\n    return arr\n  }\n\n  const updataField = (groupdevices)=>{\n    let groupdev = getGroupDevice(groupdevices.map(item => item.name))\n    // let arr = fields.slice()\n    let arr = []\n    for (var item of groupdev) {\n      arr = getfields(arr, item.fields)\n    }\n    arr = arr.map(item => ({\n      name: item.name,\n      type: item.type,\n      low: item.low,\n      high: item.high,\n      values: item.values,\n      control: item.control,\n      icon: item.icon,\n      unit: item.unit,\n    }))\n    console.log(arr);\n    setFields(arr)\n  }\n\n  const add = (item)=>{\n    let arr = groupDevice.slice()\n    arr.push({\n      name:item.systemName,\n      fields:item.fields.map(\n        (item)=>({name:item.name, type:item.type})\n      )\n    })\n    setGroupDevice(arr)\n    updataField(arr)\n  }\n\n  const del = (item)=>{\n    let groupdevices = groupDevice.filter((item2)=>item2.name !==item.name)\n    setGroupDevice(groupdevices)\n    updataField(groupdevices)\n  }\n\n  const setDevice = (data)=>{\n    setGroupDevice(groupDevice.map(item => (item.name === data.name)?data:item))\n  }\n\n  return (\n    <div className=\"form\">\n      <div className=\"editDevicesForm\">\n        <h4 className=\"form-headline\">added device</h4>\n            {\n              (groupDevice.length === 0)?\n                <p>not element</p>\n              :\n              groupDevice.map((item,index)=>{\n                return(\n                  <Device key={index} device={dev(item.name)} onClick={()=>del(item)} groupDevice={item} setGroupDevice={setDevice} added={true}/>\n                )\n              })\n            }\n        <h4 className=\"form-headline\">other device</h4>\n            {\n              otherdev().map((item,index)=>{\n                return(\n                  <Device key={index} device={item} onClick={()=>add(item)}/>\n                )\n              })\n            }\n        <div className=\"controlForm\" >\n          <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, {useState,useEffect,useContext} from 'react'\nimport {HidingLi} from '../../hidingLi.js'\nimport {SocketContext} from '../../../context/SocketContext'\nimport {GroupFormContext} from '../groupFormContext'\nimport {IconChoose} from '../../iconChoose'\n\nexport const EditField = ()=>{\n  const {form, hide} = useContext(GroupFormContext)\n  const {getDevice} = useContext(SocketContext)\n  const [fields, setFields] = useState([])\n\n  useEffect(()=>{\n    setFields(form.group.fields)\n  },[form.group])\n\n  const gettypes = (name)=>{\n    let arr = []\n    for (var item of form.group.devices) {\n      let dev = getDevice(item.name)\n      for (var item2 of dev.fields) {\n        if(item2.name === name && !arr.includes(item2.type))\n          arr.push(item2.type)\n      }\n    }\n    return arr\n  }\n\n  const getcontrols = (name)=>{\n    for (var item of form.group.devices) {\n      let dev = getDevice(item.name)\n      for (var item2 of dev.fields) {\n        if(item2.name === name && item2.control)\n          return [true, false]\n      }\n    }\n    return [false]\n  }\n\n  const changeHandlerField = event => {\n    let index = event.target.dataset.id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], [event.target.name]: event.target.value }\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const changeIcon = (val, id) => {\n    let index = id\n    let arr = fields.slice()\n    let newcom = { ...arr[index], icon: val}\n    arr[index] = newcom\n    setFields(arr)\n  }\n\n  const outHandler = async()=>{\n    form.OK(fields, {...form.group, fields:fields})\n    hide()\n  }\n\n  return (\n    <div className=\"form\">\n      <div className=\"editDevicesForm\">\n        <ul className=\"editDevice\">\n          <li>\n            <label>\n              <h5>{`Name - ${form.group.name}`}</h5>\n              <h5>{`systemName - ${form.group.systemName}`}</h5>\n            </label>\n          </li>\n          {\n            fields.map((item,index)=>{\n              return(\n                <HidingLi key={index} title = {item.name}>\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <select data-id={index} name=\"type\" value={item.type} onChange={changeHandlerField}>\n                        {\n                          gettypes(item.name).map((item2, index2)=>{\n                            return (\n                              <option key={index2} value={item2}>{item2}</option>\n                            )\n                          })\n                        }\n                      </select>\n                    <label>type</label>\n                  </div>\n                </div>\n                <div className=\"configElement\">\n                  <div className=\"input-data\">\n                    <select data-id={index} name=\"control\" value={item.control} onChange={changeHandlerField}>\n                    {\n                      getcontrols(item.name).map((item2, index2)=>{\n                        return (\n                          <option key={index2} value={item2}>{String(item2)}</option>\n                        )\n                      })\n                    }\n                    </select>\n                  <label>control</label>\n                </div>\n              </div>\n                {\n                  (item.type===\"number\"||item.type===\"binary\")?\n                  <>\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"low\" value={item.low} onChange={changeHandlerField} required/>\n                      <label>min</label>\n                    </div>\n                  </div>\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} type={(item.type===\"range\")?\"number\":\"text\"} name=\"high\" value={item.high} onChange={changeHandlerField} required/>\n                      <label>max</label>\n                    </div>\n                  </div>\n                  </>:\n                  (item.type===\"enum\")?\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} type=\"text\" name=\"values\" value={item.values} onChange={changeHandlerField} required/>\n                      <label>enum</label>\n                    </div>\n                  </div>\n                  :null\n                }\n                <IconChoose dataId={index} value={item.icon} onChange={changeIcon}/>\n                {\n                  (item.type===\"number\")?\n                  <div className=\"configElement\">\n                    <div className=\"input-data\">\n                      <input data-id={index} name=\"unit\" value={item.unit} onChange={changeHandlerField} required/>\n                      <label>unit</label>\n                    </div>\n                  </div>:null\n                }\n                </HidingLi>\n              )\n            })\n          }\n          <div className=\"controlForm\" >\n            <button className=\"formEditBtn\" onClick={outHandler}>Save</button>\n          </div>\n        </ul>\n      </div>\n    </div>\n  )\n\n}\n","import React, {useContext} from 'react'\nimport {GroupFormContext} from './groupFormContext'\nimport {BackForm} from '../backForm'\nimport {AddDevice} from './addDeviceInGroup/addDeviceinGroup'\nimport {EditField} from './editfield/editField'\n\nexport const GroupForm = ()=>{\n  const {form, hide} = useContext(GroupFormContext)\n\n  if(!form.visible){\n    return null;\n  }\n\n  const hideAndApdata = (t=null) =>{\n    hide();\n    if(form.OK){\n      form.OK(t)\n    }\n  }\n\n  if(form.type === \"deviceInGroup\"){\n    return (\n      <BackForm onClick = {hide}>\n        <AddDevice hide = {hideAndApdata}/>\n      </BackForm>\n    )\n  }\n\n  if(form.type === \"fieldInGroup\"){\n    return (\n      <BackForm onClick = {hide}>\n        <EditField hide = {hideAndApdata}/>\n      </BackForm>\n    )\n  }\n\n  // if(form.type === \"editGroup\"){\n  //   return (\n  //     <BackForm onClick = {hide}>\n  //       <EditGroup hide = {hideAndApdata}/>\n  //     </BackForm>\n  //   )\n  // }\n}\n","import React, {useReducer} from 'react'\nimport {GroupFormContext} from './groupFormContext'\nimport {formReducer} from './groupFormReducer'\nimport {SHOW_GROUP, HIDE_GROUP} from '../types'\nimport {GroupForm} from './groupForm'\n\nexport const GroupFormState = ({children}) =>{\n  const [state, dispatch] = useReducer(formReducer,{visible:false})\n\n  const show = (type = \"deviceInGroup\", group, OK) =>{\n    dispatch({\n      type:SHOW_GROUP,\n      payload: {type,group,OK}\n    })\n  }\n\n  const hide = () =>{\n    dispatch({\n      type:HIDE_GROUP,\n    })\n  }\n\n  return(\n    <GroupFormContext.Provider\n    value={{show, hide, form: state}}>\n      <GroupForm/>\n      {children}\n    </GroupFormContext.Provider>\n  )\n}\n","import React, {useContext,useEffect,useState, useCallback} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {GroupCard} from '../components/groupCard'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {GroupsContext} from '../components/Groups/groupsContext'\nimport {GroupFormState} from '../components/groupForm/groupFormState'\n\nexport const GroupsPage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const {updata, groups} = useContext(GroupsContext)\n  const [allGroups, setAllGroups] = useState([]);\n  const {setData} = useContext(MenuContext)\n\n  const [groupsc, setGroups] = useState([]);\n\n  useEffect(()=>{\n    setAllGroups(groups)\n    setGroups(groups)\n  },[groups])\n\n  useEffect(()=>{\n    updata()\n  },[updata])\n\n  const searchout = useCallback((data)=>{\n    if(data===\"\"){\n      setGroups(allGroups)\n      return\n    }\n    let array = allGroups.filter(item => item&&item.name.toLowerCase().indexOf(data.toLowerCase())!==-1)\n    setGroups(array)\n  },[allGroups])\n\n  useEffect(()=>{\n    setData(\"Groups All\",{\n      specialAction:(auth.userLevel >= 3)?{\n        type: \"add\",\n        action:()=>history.push(\"/groups/add\")\n      }:null,\n      search: searchout\n    })\n  },[setData, history, searchout, auth.userLevel])\n\n  return(\n    <GroupFormState>\n      <div className = \"conteiner top bottom\">\n        <div className = \"Devices\">\n          {\n            (!groupsc||groupsc.length === 0)?\n            <h2 className=\"empty\">Not elements</h2>:\n            <div className = \"CardConteiner\">\n              {\n                groupsc.map((item,index)=>{\n                  return <GroupCard group={item} updata={updata} key={index}/>\n                })\n              }\n            </div>\n          }\n        </div>\n      </div>\n    </GroupFormState>\n  )\n}\n","import React, {useContext,useEffect,useState, useCallback} from 'react'\nimport {useHistory,useParams} from 'react-router-dom'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\n\nexport const GroupsAddPage = () => {\n  let {id} = useParams();\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const {setData} = useContext(MenuContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const [group, setGroup] = useState({\n    name:\"\",\n    systemName:\"\",\n    devices:[]\n  })\n\n  const updata = (event)=>{\n    setGroup({...group, [event.target.name]: event.target.value})\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  useEffect(()=>{\n    setData(\"Groups add\")\n  },[setData])\n\n  const getGroups = useCallback(async (name)=>{\n    let data = await request(`/api/group/get/${name}`, 'GET', null,{Authorization: `Bearer ${auth.token}`})\n    if(data)\n      setGroup({\n        name:data.name,\n        systemName:data.systemName,\n        devices:[]\n      })\n  },[auth.token, request])\n\n  useEffect(()=>{\n    if(id)\n    {\n      getGroups(id)\n    }\n  },[id, getGroups])\n\n  const create = async ()=>{\n    if(!group.name || !group.systemName) return ;\n    if(id)\n      await request(`/api/group/edit/${id}`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n    else\n      await request(`/api/group/add`, 'POST', group,{Authorization: `Bearer ${auth.token}`})\n    history.push(\"/groups\")\n  }\n\n  return(\n      <div className = \"fullScrinContainer color-normal\">\n        <div className=\"allFon\">\n        <div className=\"configElement\">\n          <div className=\"input-data\">\n            <input onChange={updata} required name=\"name\" type=\"text\" value={group.name}></input>\n            <label>Name</label>\n          </div>\n        </div>\n        <div className=\"configElement\">\n          <div className=\"input-data\">\n            <input onChange={updata} required name=\"systemName\" type=\"text\" value={group.systemName}></input>\n            <label>System name</label>\n          </div>\n        </div>\n          <div className=\"buttons\">\n            <button style={{marginLeft:\"10px\"}} className=\"highSelection button\" onClick={create}>Next</button>\n          </div>\n        </div>\n      </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/fon-base.e46203d1.jpg\";","import {useCallback} from 'react';\nimport defFon from '../img/fon-base.jpg'\n\nfunction LightenDarkenColor(col, amt) {\n    var usePound = false;\n    if (col[0] === \"#\") {\n        col = col.slice(1);\n        usePound = true;\n    }\n    var num = parseInt(col,16);\n    var r = (num >> 16) + amt;\n    if (r > 255) r = 255;\n    else if  (r < 0) r = 0;\n    var b = ((num >> 8) & 0x00FF) + amt;\n    if (b > 255) b = 255;\n    else if  (b < 0) b = 0;\n    var g = (num & 0x0000FF) + amt;\n    if (g > 255) g = 255;\n    else if (g < 0) g = 0;\n    return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nconst defbacground = ()=>{\n  document.body.style = `background: url(${defFon});\n    background-size: cover;\n    background-attachment: fixed;`;\n}\n\nconst defstyle = ()=>{\n  setColors({\n    c1:\"#303030\",\n    c2:\"#505050\",\n    c3:\"#707070\",\n    active:\"#1E90FF\",\n    ok:\"#00d22d\"\n  })\n}\n\nconst getimage = (images, name)=>{\n  try {\n    for (var item of images) {\n      if(name === item.type)\n        return item\n    }\n  } catch{\n    return\n  }\n}\n\nconst textColor = (fon)=>{\n  let color = \"gray\"\n  if (fon[0] === \"#\") {\n      fon = fon.slice(1);\n  }\n  var num = parseInt(fon,16);\n  var r = (num >> 16);\n  var b = ((num >> 8) & 0x00FF);\n  var g = (num & 0x0000FF);\n  if ((r < 200||g < 200||b < 200))\n  {\n    color=\"#fff\";\n  }\n\n  return color;\n}\n\nfunction setColors(data) {\n  document.body.style.setProperty('--color-base',(data.opasiryc1)?data.c1 + \"dd\":data.c1)\n  document.body.style.setProperty('--color-normal',(data.opasiryc2)?data.c2 + \"dd\":data.c2)\n  document.body.style.setProperty('--color-active',data.active)\n  document.body.style.setProperty('--color-error',data.error)\n  document.body.style.setProperty('--color-ok',data.ok)\n\n\n  document.body.style.setProperty('--btn-color-base',LightenDarkenColor(data.c1,25))\n  document.body.style.setProperty('--btn-color-normal',LightenDarkenColor(data.c2,25))\n  document.body.style.setProperty('--btn-color-active',LightenDarkenColor(data.active,25))\n\n// \"#5e6367\"\n  document.body.style.setProperty('--text-color-base-fon',textColor(data.c1))\n  document.body.style.setProperty('--text-color-normal-fon',textColor(data.c2))\n  document.body.style.setProperty('--text-color-active-fon',\"#fff\")\n\n\n  document.body.style.setProperty('--color-glass',data.c2 + \"90\")\n}\n\nconst backgroundType = function () {\n  let time = new Date().getHours();\n  let date = new Date().getMonth();\n  let nightTime = (date<3||date>8)?17:20;\n  let twilightTime = (date<3||date>8)?15:18;\n  let sunriseTime = (date<3||date>8)?5:3;\n  let dayTime = (date<3||date>8)?10:8;\n  if(time>=sunriseTime&&time<dayTime){\n    return \"sunrise\";\n  }else if (time>=dayTime&&time<twilightTime) {\n    return \"day\";\n  }else if (time>=twilightTime&&time<nightTime) {\n    return \"twilight\";\n  }else if ((time>=0&&time<sunriseTime)||time>=nightTime) {\n    return \"night\";\n  }\n  return \"sunrise\";\n}\n\nexport const useCastomStyle = () => {\n\n  const setStyle = useCallback((colors)=>{\n    if(!colors)\n      return defstyle()\n    if(!colors.c1)\n      colors.c1 = \"#333\";\n    if(!colors.c2)\n      colors.c2 = \"#555\";\n    if(!colors.c3)\n      colors.c3 = \"#777\";\n    if(!colors.active)\n      colors.active = \"#1E90FF\";\n    if(!colors.ok)\n      colors.ok = \"#00d22d\";\n    setColors(colors)\n  },[])\n\n  const setBackground = useCallback((url)=>{\n    if(!url)\n      return defbacground()\n    document.body.style = `background: url(${url});\n      background-size: cover;\n      background-attachment: fixed;`;\n  },[])\n\n  const adaptiveBackground = useCallback((images)=>{\n    if(!images)\n      return defbacground()\n    setBackground(getimage(images,backgroundType())?.image)\n  },[setBackground])\n\n  const avtoNightStyle = useCallback((style,nightStyle)=>{\n    if(!style || !nightStyle)\n      return defstyle()\n    if(backgroundType() === \"night\")\n      setStyle(nightStyle)\n    else\n      setStyle(style)\n  },[setStyle])\n\n  return {setStyle, setBackground, adaptiveBackground, avtoNightStyle}\n}\n","import React,{useState,useContext,useEffect} from 'react'\nimport {UserContext} from '../context/UserContext'\nimport {StyleContext} from '../components/UserStyle/StyleContext'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {useCastomStyle} from '../hooks/style.hook'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {useHistory} from 'react-router-dom'\nimport {HomePage} from './HomePage'\n\nconst getColors = (styles, name)=>{\n  try {\n    for (var item of styles) {\n      if(name === item.name)\n        return item\n    }\n  } catch{\n    return\n  }\n}\n\nexport const EditStylePage = () => {\n  const history = useHistory()\n  const auth = useContext(AuthContext)\n  const config = useContext(UserContext)\n  const {styles,updateConfig} = useContext(StyleContext)\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n  const {setStyle} = useCastomStyle()\n  const [style, setStyle1] = useState(getColors(styles,config.Style))\n\n  const colorHandler = (event)=>{\n    setStyle1({...style, [event.target.name]:event.target.value})\n    setStyle({...style, [event.target.name]:event.target.value})\n  }\n  const opasityHandler = (event)=>{\n    setStyle1({...style, [event.target.name]:event.target.checked})\n    setStyle({...style, [event.target.name]:event.target.checked})\n  }\n\n  const out = ()=>{\n    setStyle(getColors(styles,config.Style))\n    history.goBack();\n  }\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  const createStyle = async() =>{\n    if(!style.name)\n      return message(\"name empty\", \"error\");\n    await request(`/api/style/add`, 'POST', style,{Authorization: `Bearer ${auth.token}`})\n    updateConfig()\n    out()\n  }\n\n  return(\n    <>\n    <HomePage/>\n    <div className=\"backGlass\" onClick={out}></div>\n    <div className=\"editStylePanel\">\n      <div className=\"colors\">\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color 1</p>\n            <input type=\"color\" value={style?.c1} name=\"c1\" onChange={colorHandler}/>\n          </div>\n          <div className=\"opasityfield\">\n            <p>opasity</p>\n            <input type=\"checkbox\" checked={style?.opasiryc1} name=\"opasiryc1\" onChange={opasityHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color 2</p>\n            <input type=\"color\" value={style?.c2} name=\"c2\" onChange={colorHandler}/>\n          </div>\n          <div className=\"opasityfield\">\n            <p>opasity</p>\n            <input type=\"checkbox\" checked={style?.opasiryc2} name=\"opasiryc2\" onChange={opasityHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color active</p>\n            <input type=\"color\" value={style?.active} name=\"active\" onChange={colorHandler}/>\n          </div>\n          <div className=\"opasityfield\">\n            <p>opasity</p>\n            <input type=\"checkbox\" checked={style?.opasiryActive} name=\"opasiryActive\" onChange={opasityHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color ok</p>\n            <input type=\"color\" value={style?.ok} name=\"ok\" onChange={colorHandler}/>\n          </div>\n        </div>\n        <div className=\"boxFieldColor\">\n          <div className=\"colorfield\">\n            <p>color error</p>\n            <input type=\"color\" value={style?.error} name=\"error\" onChange={colorHandler}/>\n          </div>\n        </div>\n      </div>\n      <div className=\"nameField\">\n        <input type=\"text\" value={style?.name} placeholder=\"name\" name=\"name\" onChange={colorHandler}/>\n        <button onClick={createStyle}>create</button>\n      </div>\n    </div>\n    </>\n  )\n}\n","import React, {useState, useEffect,useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AlertContext} from '../components/alert/alertContext'\nimport {AuthContext} from '../context/AuthContext.js'\nimport {MenuContext} from '../components/Menu/menuContext'\n\nexport default function AddUser(){\n  const {setData} = useContext(MenuContext)\n  const auth = useContext(AuthContext)\n  const history = useHistory()\n  const {loading, request, error, clearError} = useHttp();\n  const {message} = useMessage();\n  const {show} = useContext(AlertContext);\n  const [form, setForm] = useState({\n    name: '', password: '', email: '', mobile: ''\n  });\n\n  useEffect(()=>{\n    setData(\"Add user\")\n  },[setData])\n\n  useEffect(()=>{\n    message(error, 'error');\n    clearError();\n  },[error, message, clearError])\n\n  const changeHandler = event => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/user/add', 'POST', {...form}, {Authorization: `Bearer ${auth.token}`})\n      if(data){\n        history.push('/')\n        show(\"user registered\",\"ok\")\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return(\n    <div className=\"conteiner top\">\n    <div className=\"title\">\n      <h1>Create user</h1>\n    </div>\n    <div className={`container-reg`}>\n      <form>\n        <div className={`main-reg clearfix`}>\n          <div className=\"left-reg\">\n            <div className=\"formBox-reg\">\n              <p>userName</p>\n              <input placeholder=\"UserName\" id=\"userName\" type=\"text\" name=\"name\" required onChange={changeHandler}/>\n              <p>password</p>\n              <input placeholder=\"•••••••\" id=\"password\" type=\"password\" name=\"password\" required onChange={changeHandler}/>\n            </div>\n          </div>\n          <div className=\"right-reg\">\n            <div className=\"formBox-reg\">\n              <p>Email</p>\n              <input placeholder=\"Email\" id=\"email\" type=\"email\" name=\"email\" onChange={changeHandler}/>\n              <p>Mobile</p>\n              <input placeholder=\"mobile\" id=\"mobile\" type=\"tel\" name=\"mobile\" maxleght=\"5\" onChange={changeHandler}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"footer-reg\">\n          <div className=\"formBox-reg\">\n            <input type=\"submit\" onClick={registerHandler} disabled={loading} value=\"Create\"/>\n          </div>\n        </div>\n      </form>\n    </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {Switch,Route,Redirect} from 'react-router-dom'\nimport {HomePage} from './Page/HomePage'\nimport {AuthPage} from './Page/AuthPage'\nimport {DitailDevicePage} from './Page/DitailDevicePage'\nimport {DevicesPage} from './Page/DevicesPage'\nimport {ProfilePage} from './Page/ProfilePage'\nimport {OptionsPage} from './Page/OptionsPage'\nimport {ScriptsPage} from './Page/ScriptsPage'\nimport {NewScriptsPage} from './Page/NewScriptsPage'\nimport {UsersPage} from './Page/UsersPage'\nimport {GalleryPage} from './Page/GalleryPage'\nimport {AddDevicesPage} from './Page/AddDevicePage'\nimport {AddMoviePage} from './Page/addFilesPages/NewMovie'\nimport {AddActorPage} from './Page/addFilesPages/NewActors'\nimport {AddGanrePage} from './Page/addFilesPages/NewGanre'\nimport {ChartsPage} from './Page/ChartPage'\nimport {MovieDitail} from './Page/filespage/movieDitail'\nimport {MqttPage} from './Page/MqttTopics'\nimport {ZigbeePage} from './Page/ZigbeePage'\nimport {ModulsPage} from './Page/ModulsPage'\nimport {GroupsPage} from './Page/GroupsPage'\nimport {GroupsAddPage} from './Page/addGroupPage'\nimport {EditStylePage} from './Page/EditStylePage'\nimport AddUser from './Page/AddUser'\n\nexport const useRoutes = (isAuthenticated,level)=>{\n  if(isAuthenticated){\n    return(\n      <Switch>\n        <Route path=\"/home\" exact>\n          <HomePage/>\n        </Route>\n        <Route path=\"/devices\" exact>\n          <DevicesPage/>\n        </Route>\n        <Route path=\"/scripts\" exact>\n          <ScriptsPage/>\n        </Route>\n        <Route path=\"/scripts/add\" exact>\n          <NewScriptsPage/>\n        </Route>\n        <Route path=\"/scripts/edit/:id\">\n          <NewScriptsPage edit={true}/>\n        </Route>\n        <Route path=\"/profile\">\n          <ProfilePage/>\n        </Route>\n        <Route path=\"/groups\" exact>\n          <GroupsPage/>\n        </Route>\n        <Route path=\"/groups/add\" exact>\n          <GroupsAddPage/>\n        </Route>\n        <Route path=\"/groups/edit/:id\" exact>\n          <GroupsAddPage/>\n        </Route>\n        <Route path=\"/config/style\" exact>\n          <EditStylePage/>\n        </Route>\n        <Route path=\"/config/users\" exact>\n        {\n          (level>=3)?\n          <OptionsPage/>:\n          <Redirect to=\"/config\"/>\n        }\n        </Route>\n        <Route path=\"/config/server\" exact>\n        {\n          (level>=3)?\n          <OptionsPage/>:\n          <Redirect to=\"/config\"/>\n        }\n        </Route>\n        <Route path=\"/config\">\n          <OptionsPage/>\n        </Route>\n        <Route path=\"/users\">\n          <UsersPage/>\n        </Route>\n        <Route path=\"/devices/add\" exact>\n          <AddDevicesPage/>\n        </Route>\n        <Route path=\"/user/add\" exact>\n          <AddUser/>\n        </Route>\n        <Route path=\"/gallery\">\n          <GalleryPage/>\n        </Route>\n        <Route path=\"/chart\">\n          <ChartsPage/>\n        </Route>\n\n        <Route path=\"/moduls/:name\">\n          <ModulsPage/>\n        </Route>\n\n        <Route path=\"/movie/add\" exact>\n          <AddMoviePage/>\n        </Route>\n        <Route path=\"/serial/add\" exact>\n          <AddMoviePage type=\"serial\"/>\n        </Route>\n        <Route path=\"/actor/add\" exact>\n          <AddActorPage/>\n        </Route>\n        <Route path=\"/ganre/add\" exact>\n          <AddGanrePage/>\n        </Route>\n        <Route path=\"/category/add\" exact>\n          <AddGanrePage type=\"category\"/>\n        </Route>\n\n\n        <Route path=\"/devices/ditail/:systemName\">\n          <DitailDevicePage/>\n        </Route>\n        <Route path=\"/mqtt\" exact>\n          <MqttPage/>\n        </Route>\n        <Route path=\"/zigbee2mqtt\" exact>\n          <ZigbeePage/>\n        </Route>\n\n        <Route path=\"/movie/edit/:id\">\n          <AddMoviePage edit={true}/>\n        </Route>\n        <Route path=\"/serial/edit/:id\">\n          <AddMoviePage type=\"serial\" edit={true}/>\n        </Route>\n        <Route path=\"/actor/edit/:id\">\n          <AddActorPage edit={true}/>\n        </Route>\n        <Route path=\"/ganre/edit/:id\">\n          <AddGanrePage edit={true}/>\n        </Route>\n        <Route path=\"/category/edit/:id\">\n          <AddGanrePage type=\"category\" edit={true}/>\n        </Route>\n\n        <Route path=\"/movie/:id\" exact>\n          <MovieDitail/>\n        </Route>\n        <Route path=\"/serial/:id\" exact>\n          <MovieDitail type=\"serial\"/>\n        </Route>\n        <Redirect to=\"/home\"/>\n      </Switch>\n    )\n  }\n  return(\n    <Switch>\n      <Route path=\"/\" exact>\n        <AuthPage/>\n      </Route>\n      <Redirect to=\"/\"/>\n    </Switch>\n  )\n}\n","import {useState, useCallback, useEffect} from 'react';\n\nconst storegeName = 'UserData';\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [userLevel, setUserLevel] = useState(null);\n  const [ready, setReady] = useState(false)\n\n\n  const login = useCallback(async(jwtToken, id,level)=>{\n    setToken(jwtToken);\n    setUserId(id);\n    setUserLevel(level);\n\n    await localStorage.setItem(storegeName, JSON.stringify({\n      userId: id, userLevel:level, token:jwtToken\n    }))\n  },[])\n\n  const logout = useCallback(()=>{\n    setToken(null);\n    setUserId(null);\n    setUserLevel(null);\n    localStorage.removeItem(storegeName)\n  },[])\n\n  useEffect(()=>{\n    const data = JSON.parse(localStorage.getItem(storegeName))\n\n    if(data&&data.token){\n      login(data.token, data.userId, data.userLevel)\n    }\n    setReady(true);\n  },[login])\n\n  return {login, logout, token, userId, userLevel,ready}\n}\n","import React,{useEffect,useState,useCallback,useContext} from 'react'\nimport {StyleContext} from './StyleContext'\nimport {UserContext} from '../../context/UserContext'\nimport {ServerConfigContext} from '../../context/ServerConfigContext'\nimport {SocketContext} from '../../context/SocketContext'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useCastomStyle} from '../../hooks/style.hook'\n\nexport const CastomizeStyle = ({children, token, ready}) =>{\n  const {request, error, clearError} = useHttp();\n  const {message} = useContext(SocketContext)\n  const [config, setConfig] = useState({})\n  const [serverConfig, setServerConfig] = useState({})\n  const [styles, setStyles] = useState([])\n  const [nawstyles, setNawStyles] = useState(null)\n  const [flag, setFlag] = useState(false)\n  const {setStyle, avtoNightStyle, adaptiveBackground, setBackground} = useCastomStyle()\n\n  const getColors = useCallback((styles, name)=>{\n    try {\n      for (var item of styles) {\n        if(name === item.name)\n          return item\n      }\n    } catch{\n      return\n    }\n  },[])\n\n  const getimage = (images, name)=>{\n    try {\n      for (var item of images) {\n        if(name === item.type)\n          return item\n      }\n    } catch{\n      return\n    }\n  }\n\n  const getData = useCallback(async()=>{\n    const dataStyles = await request(`/api/style/all`, 'GET', null,{Authorization: `Bearer ${token}`})\n    const dataUserConf = await request(`/api/user/config/get`, 'GET', null,{Authorization: `Bearer ${token}`})\n    setStyles(dataStyles)\n    setConfig(dataUserConf)\n    return {dataStyles, dataUserConf}\n  },[request,token])\n\n  const applicationStyle = useCallback((data)=>{\n    const style = getColors(data?.dataStyles, data?.dataUserConf?.Style)\n    setNawStyles(style)\n    if(!data?.dataUserConf?.staticBackground)\n      adaptiveBackground(data?.dataUserConf?.images)\n    else\n      setBackground(getimage(data?.dataUserConf?.images, \"base\")?.image)\n    if(data?.dataUserConf?.auteStyle)\n      avtoNightStyle(style, getColors(data?.dataStyles, \"night\"))\n    else\n      setStyle(style)\n  },[avtoNightStyle, setBackground, adaptiveBackground, getColors, setStyle])\n\n  const updataStyle = useCallback(async() => {\n    if(!token)\n    {\n      console.error(\"no authtorization\");\n      setBackground()\n      setStyle()\n      return\n    }\n    const data = await getData()\n    applicationStyle(data)\n  },[token,getData,applicationStyle,setStyle,setBackground])\n\n  const update = ()=>{\n    setFlag(true);\n    setTimeout(function () {\n      setFlag(false);\n    }, 400);\n  }\n\n  useEffect(()=>{\n    if(ready || flag){\n      updataStyle()\n    }\n  },[ready,updataStyle, flag])\n\n  useEffect(()=>{\n    if(error)\n      console.error(error);\n    return ()=>{\n      clearError();\n    }\n  },[error, clearError])\n\n  useEffect(()=>{\n    if(message.type===\"server\"){\n      setServerConfig(message.data)\n      applicationStyle({dataStyles:styles, dataUserConf:config})\n    }\n  },[message,applicationStyle,styles,config])\n\n  return(\n    <UserContext.Provider value={{...config,getData}}>\n      <ServerConfigContext.Provider value={{...serverConfig}}>\n        <StyleContext.Provider value={{styles:styles,updateConfig:update, nawstyle:nawstyles}}>\n          {children}\n        </StyleContext.Provider>\n      </ServerConfigContext.Provider>\n    </UserContext.Provider>\n  )\n}\n","import React, {useState, useCallback, useEffect} from 'react'\nimport {GroupsContext} from './groupsContext'\nimport {useHttp} from '../../hooks/http.hook'\nimport {useMessage} from '../../hooks/message.hook'\n\nexport const GroupsState = ({children, token}) =>{\n  const [groups, setGroups] = useState([])\n  const {message} = useMessage();\n  const {request, error, clearError} = useHttp();\n\n  const getGroups = useCallback(async()=>{\n    if (!token) return ;\n    let data = await request(`/api/group/all`, 'get', null,{Authorization: `Bearer ${token}`})\n    if (data)\n      setGroups(data)\n  },[request, token])\n\n  const getGroup = useCallback((name)=>{\n    return groups.filter(item=>item.systemName === name)[0]\n  },[groups])\n\n  useEffect(()=>{\n    getGroups()\n  },[getGroups])\n\n  useEffect(()=>{\n    message(error,\"error\")\n    return ()=>{\n      clearError();\n    }\n  },[error,message, clearError])\n\n  return(\n    <GroupsContext.Provider\n    value={{groups: groups, updata: getGroups, getGroup}}>\n      {children}\n    </GroupsContext.Provider>\n  )\n}\n","import React, {useState} from 'react'\n\nexport const Terminal = ()=>{\n  const [inputmes, setInputmes] = useState(\"\")\n\n\n  const changeHandler = (event) => setInputmes(event.target.value)\n\n  const output = (event)=>{\n    if(event.keyCode === 13){\n      if(!inputmes)return;\n      let area = document.getElementById('area')\n      area.value = area.value + `You:${inputmes}\\n`\n      setInputmes(\"\")\n      event.preventDefault();\n    }\n  }\n\n  const focus = () => document.getElementById('terminalInput').focus()\n\n  return(\n    <div className = \"terminal\">\n      <textarea id=\"area\" readOnly={true} onClick={focus}>\n      </textarea>\n      <div className = \"terminalInput\">\n        <input id=\"terminalInput\" type=\"text\" onKeyDown={output} onChange={changeHandler} value = {inputmes}/>\n      </div>\n    </div>\n  )\n}\n","import React, {useContext} from 'react'\nimport {TerminalContext} from './terminalContext'\nimport {Terminal} from './terminal'\nimport {ModalWindow} from '../modalWindow/modalWindow'\n\nexport const TerminalCart = ()=>{\n  const {terminal, hide} = useContext(TerminalContext)\n\n  if(!terminal.visible){\n    return null;\n  }\n\n  return(\n    <ModalWindow hide={hide} width={250} height={350} title=\"terminal\">\n      <Terminal/>\n    </ModalWindow>\n  )\n\n}\n","import React,{useEffect,useState,useCallback,useContext,useRef} from 'react'\nimport {SocketContext} from '../context/SocketContext'\nimport {AuthContext} from '../context/AuthContext.js'\n\nexport const SocketState = ({children}) =>{\n  const auth = useContext(AuthContext)\n  const [devices, setDevices] = useState([]);\n  const [message, setMessage] = useState({});\n  const socket = useRef(null);\n  const timerId = useRef(null);\n\n  const connect = useCallback(()=>{\n    try {\n\n      let path = `ws://${window.location.host}/ws/base`\n      // let path = `ws://localhost:5000/ws/base`\n      // let path\n      // console.log(process.env.REACT_APP_WS_HOST);\n      // if (process.env.REACT_APP_WS_HOST)\n      //   path = `ws://${process.env.REACT_APP_WS_HOST}/ws/base`\n      // else\n      //   path = `ws://localhost:5000/ws/base`\n\n      // console.log(process.env.REACT_APP_WS_HOST);\n\n      socket.current = new WebSocket(path)\n    } catch (e) {\n      setTimeout(function () {\n        connect()\n      }, 500);\n    }\n  },[])\n\n  const listenChanges = useCallback(() => {\n    if(!auth.isAuthenticated) return\n\n    connect()\n    if(!socket.current) return ;\n    socket.current.onopen = () => {\n      console.log(\"connect\");\n        clearInterval(timerId.current);\n\n        socket.current.onmessage = function(e) {\n              const data = JSON.parse(e.data);\n              console.log(data.message);\n              if(data.message instanceof Object){\n                if(data.message.type===\"devices\"){\n                  setDevices(data.message.data)\n                }\n                setMessage(data.message)\n              }\n          };\n\n        socket.current.onerror = () => {\n            socket.current.close();\n        };\n\n        socket.current.onclose = () => {\n          console.log(\"desconnect\");\n            timerId.current = setInterval(() => {\n                listenChanges();\n            }, 10000);\n        };\n    };\n},[auth.isAuthenticated,connect])\n\nconst getDevice = useCallback((systemName)=>{\n  if(!devices||!devices[0])\n    return null\n  return devices.filter((item)=>(item?.systemName===systemName))[0]\n},[devices])\n\nuseEffect(()=>{\n  listenChanges()\n  return () => {\n    if(socket.current)\n      return socket.current.close()\n  }\n},[listenChanges])\n\n  return(\n    <SocketContext.Provider value={{\n      devices, message, getDevice\n    }}>\n      {children}\n    </SocketContext.Provider>\n  )\n}\n","import React,{useEffect,useState,useCallback} from 'react'\nimport {TypeDeviceContext} from './typeDevicesContext'\nimport {useHttp} from '../../hooks/http.hook'\n\nexport const TypesDeviceState = ({children, token, ready}) =>{\n  const {request} = useHttp();\n  const [types, setTypes] = useState([])\n\n  const gettypes = useCallback(async()=>{\n    try {\n      const data = await request(`/api/device/types/get`, 'GET', null,{Authorization: `Bearer ${token}`})\n      setTypes(data)\n    } catch (e) {\n      console.error(e)\n    }\n  },[request,token])\n\n  useEffect(()=>{\n    if(ready){\n      gettypes()\n    }\n  },[ready,gettypes])\n\n  return(\n    <TypeDeviceContext.Provider value={{type:types}}>\n      {children}\n    </TypeDeviceContext.Provider>\n  )\n}\n","import {createContext} from 'react'\n\nexport const PageContext = createContext()\n","import React,{useEffect,useState,useCallback} from 'react'\nimport {PageContext} from './pageContext'\nimport {useHttp} from '../../hooks/http.hook'\n\nexport const PageState = ({children, token}) =>{\n  const {request, error, clearError} = useHttp();\n  const [pages, setPages] = useState({})\n\n  const getPages = useCallback(async()=>{\n    const allpages = await request(`/api/page/all`, 'GET', null,{Authorization: `Bearer ${token}`})\n    console.log(allpages);\n    setPages(allpages)\n  },[request, token])\n\n  useEffect(()=>{\n    getPages()\n  },[getPages])\n\n  useEffect(()=>{\n    if(error)\n      console.error(error);\n    return ()=>{\n      clearError();\n    }\n  },[error, clearError])\n\n  return(\n    <PageContext.Provider value={{pages, getPages}}>\n      {children}\n    </PageContext.Provider>\n  )\n}\n","import React from 'react'\nimport {BrowserRouter} from 'react-router-dom'\nimport {Alert} from './components/alert/alert.js'\nimport {DialogWindow} from './components/dialogWindow/dialogWindow.js'\nimport {Menu} from './components/Menu/menu.js'\nimport {Form} from './components/Form/form'\nimport {AlertState} from './components/alert/alertState'\nimport {DialogWindowState} from './components/dialogWindow/dialogWindowState'\nimport {MenuState} from './components/Menu/menuState'\nimport {FormState} from './components/Form/formState'\nimport {TerminalState} from './components/terminal/terminalState'\nimport {AddScriptState} from './components/addScript/addScriptState'\nimport {useRoutes} from './routes.js'\nimport {useAuth} from './hooks/auth.hook.js'\nimport {CastomizeStyle} from './components/UserStyle/StyleState.js'\nimport {GroupsState} from './components/Groups/groupsState.js'\nimport {AuthContext} from './context/AuthContext'\nimport {TerminalCart} from './components/terminal/terminalCart'\nimport {SocketState} from './hooks/socket.hook.js'\nimport {TypesDeviceState} from './components/typeDevices/typeDevicesState'\nimport {PageState} from './components/Menu/pageState'\n\nimport './css/style-auth.css'\nimport './icon/css/all.css'\nimport './css/style-alert.css'\nimport './css/style-components.css'\n\nfunction App() {\n  const {token, login, logout, userId, userLevel,ready} = useAuth();\n  const isAuthenticated = !!token;\n  const routes = useRoutes(isAuthenticated,userLevel);\n\n  if (!ready) {\n    return(\n      <h1>Loding</h1>\n    )\n  }\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, userLevel, isAuthenticated\n    }}>\n    <PageState token={token}>\n    <MenuState>\n    <SocketState>\n    <AlertState>\n    <DialogWindowState>\n    <CastomizeStyle token={token} ready={ready}>\n    <TypesDeviceState token={token} ready={ready}>\n    <GroupsState token={token}>\n    <FormState>\n    <TerminalState>\n    <AddScriptState>\n\n    <BrowserRouter>\n      <div className=\"App\">\n        <DialogWindow/>\n        <Alert/>\n        <Form/>\n        <TerminalCart/>\n        {(isAuthenticated)?<Menu/>:null}\n        {routes}\n      </div>\n    </BrowserRouter>\n\n    </AddScriptState>\n    </TerminalState>\n    </FormState>\n    </GroupsState>\n    </TypesDeviceState>\n    </CastomizeStyle>\n    </DialogWindowState>\n    </AlertState>\n    </SocketState>\n    </MenuState>\n    </PageState>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}